"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[498],{6406:(e,t,a)=>{var s;a.d(t,{Rc:()=>i}),function(e){e.Update="update",e.Remove="remove"}(s||(s={}));var n,r;!function(e){e.BitbucketCloud="bbcloud",e.BitbucketCloudStaging="bbcloudstaging",e.JiraCloud="jiracloud",e.JiraCloudStaging="jiracloudstaging"}(n||(n={})),function(e){e[e.Valid=0]="Valid",e[e.Invalid=1]="Invalid"}(r||(r={}));const i={id:"",name:"",avatarUrl:"",host:"",baseLinkUrl:"",baseApiUrl:"",product:{name:"",key:""},isCloud:!0,userId:"",credentialId:""};r.Valid,r.Valid,r.Valid},31074:(e,t,a)=>{a.d(t,{K3:()=>p,KR:()=>u,QX:()=>d,t:()=>l,t5:()=>m,tm:()=>c});var s=a(3600),n=a(72007),r=a(71210),i=a(5624),o=a(6406);const l=Object.assign(Object.assign({type:""},(0,s.v4)(o.Rc)),{currentUser:n.F2,workInProgress:!1,recentPullRequests:[]}),c=Object.assign(Object.assign({type:""},(0,i.ZT)(o.Rc)),{currentUser:n.F2,transformerProblems:{}});function u(e){return void 0!==e.fieldValues}function d(e){return void 0!==e.issueData}function p(e){return void 0!==e.issue&&(0,r.RP)(e.issue)}function m(e){return"startWorkOnIssueResult"===e.type}},70376:(e,t,a)=>{a.d(t,{V:()=>n});var s=a(96540);const n=()=>s.createElement("div",{className:"ac-atl-loader-container"},s.createElement("img",{className:"ac-atl-loader",src:"images/atlassian-icon.svg"}),s.createElement("div",null,"Loading data..."))},14596:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(69984),n=a(61633),r=a(96540);class i extends r.Component{constructor(e){super(e),this.state={errorDetails:this.props.errorDetails}}componentWillReceiveProps(e){this.setState({errorDetails:e.errorDetails})}render(){let e=[];(0,n.HT)(this.state.errorDetails)?(Object.keys(this.state.errorDetails.errors).forEach((t=>{e.push(r.createElement("p",{className:"force-wrap"},r.createElement("b",null,t,":"),r.createElement("span",{className:"force-wrap",style:{marginLeft:"5px"}},this.state.errorDetails.errors[t])))})),this.state.errorDetails.errorMessages.forEach((t=>{e.push(r.createElement("p",{className:"force-wrap"},r.createElement("span",{className:"force-wrap",style:{marginLeft:"5px"}},t)))}))):(0,n.Jc)(this.state.errorDetails)?this.state.errorDetails.errorMessages.forEach((t=>{e.push(r.createElement("p",{className:"force-wrap"},r.createElement("span",{className:"force-wrap",style:{marginLeft:"5px"}},t)))})):"object"===typeof this.state.errorDetails?Object.keys(this.state.errorDetails).forEach((t=>{e.push(r.createElement("p",{className:"force-wrap"},r.createElement("b",null,t,":"),r.createElement("span",{className:"force-wrap",style:{marginLeft:"5px"}},JSON.stringify(this.state.errorDetails[t]))))})):e.push(r.createElement("p",{className:"force-wrap"},this.state.errorDetails));const t=this.state.errorDetails.title?this.state.errorDetails.title:"Something went wrong";return r.createElement(s.A,{appearance:"warning",title:t,actions:[{text:"Dismiss",onClick:()=>{this.setState({errorDetails:void 0}),this.props.onDismissError()}}]},r.createElement("div",null,e))}}},63489:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(96540),n=a(94969),r=a(44378);class i extends s.Component{constructor(e){super(e)}render(){return s.createElement(n.A,null,s.createElement(r.A,{heading:"Looks like you've gone offline",shouldCloseOnEscapePress:!1,shouldCloseOnOverlayClick:!1},s.createElement("p",{style:{color:"var(--vscode-foreground)!important"}},"This page will be available when you're back online.")))}}},17660:(e,t,a)=>{a.d(t,{B:()=>r});var s=a(96540);var n=a(79402);class r extends s.Component{constructor(e){super(e),this._api=acquireVsCodeApi();const t=this.onMessageEvent.bind(this);window.addEventListener("message",t),this.initializeColors()}initializeColors(){const e=()=>{const e=document.body,t=getComputedStyle(e),a=e.style;let s=t.getPropertyValue("--vscode-editor-background").trim();a.setProperty("--vscode-editor-background--lighten-05",(0,n.a)(s,5)),a.setProperty("--vscode-editor-background--darken-05",(0,n.e$)(s,5)),a.setProperty("--vscode-editor-background--lighten-075",(0,n.a)(s,7.5)),a.setProperty("--vscode-editor-background--darken-075",(0,n.e$)(s,7.5)),a.setProperty("--vscode-editor-background--lighten-15",(0,n.a)(s,15)),a.setProperty("--vscode-editor-background--darken-15",(0,n.e$)(s,15)),a.setProperty("--vscode-editor-background--lighten-30",(0,n.a)(s,30)),a.setProperty("--vscode-editor-background--darken-30",(0,n.e$)(s,30)),s=t.getPropertyValue("--color").trim(),a.setProperty("--color--75",(0,n.ke)(s,75)),a.setProperty("--color--50",(0,n.ke)(s,50)),s=t.getPropertyValue("--vscode-editor-foreground").trim(),a.setProperty("--vscode-editor-foreground--75",(0,n.ke)(s,75)),a.setProperty("--vscode-editor-foreground--50",(0,n.ke)(s,50)),s=t.getPropertyValue("--vscode-editor-background").trim(),a.setProperty("--vscode-editor-background--lighten-05",(0,n.a)(s,5)),a.setProperty("--vscode-editor-background--darken-05",(0,n.e$)(s,5)),s=t.getPropertyValue("--vscode-button-foreground").trim(),a.setProperty("--vscode-button-foreground--75",(0,n.ke)(s,75)),a.setProperty("--vscode-button-foreground--50",(0,n.ke)(s,50)),s=t.getPropertyValue("--vscode-button-background").trim(),a.setProperty("--vscode-button-background--lighten-05",(0,n.a)(s,5)),a.setProperty("--vscode-button-background--lighten-50",(0,n.a)(s,50)),a.setProperty("--vscode-button-background--lighten-75",(0,n.a)(s,75)),a.setProperty("--vscode-button-background--lighten-80",(0,n.a)(s,80)),a.setProperty("--vscode-button-background--darken-05",(0,n.e$)(s,5)),a.setProperty("--vscode-button-background--50",(0,n.ke)(s,50)),a.setProperty("--vscode-button-background--75",(0,n.ke)(s,75))};new MutationObserver(e).observe(document.body,{attributes:!0,attributeFilter:["class"]}),e()}onPMFLater(){this._api.postMessage({action:"pmfLater"})}onPMFNever(){this._api.postMessage({action:"pmfNever"})}onPMFSubmit(e){this._api.postMessage({action:"pmfSubmit",pmfData:e})}onPMFOpen(){this._api.postMessage({action:"pmfOpen"})}onMessageEvent(e){const t=e.data;this.onMessageReceived(t)}postMessage(e){this._api.postMessage(e)}postMessageWithEventPromise(e,t,a,s){return this._api.postMessage(e),function(e,t,a){return new Promise(((s,n)=>{const r=setTimeout((()=>{window.removeEventListener("message",i),clearTimeout(r),n(`timeout waiting for event ${e}`)}),t),i=t=>{t.data.type!==e||a&&t.data.nonce!==a||(clearTimeout(r),window.removeEventListener("message",i),s(t.data)),"error"===t.data.type&&a&&t.data.nonce===a&&(window.removeEventListener("message",i),clearTimeout(r),n(t.data.reason))};window.addEventListener("message",i)}))}(t,a,s)}}},79402:(e,t,a)=>{a.d(t,{a:()=>o,e$:()=>i,ke:()=>l,zK:()=>r});const s=/^(?:(#?)([0-9a-f]{3}|[0-9a-f]{6})|((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d\.]+%?)?\))$/i;function n(e,t){const a=e+t,s=t<0?a<0?0:a:a>255?255:a;return Math.round(s)}const r={neutral:"default","blue-gray":"default","medium-gray":"default",purple:"new",brown:"new",blue:"inprogress",red:"removed","warm-red":"removed",yellow:"inprogress",green:"success"};function i(e,t){return o(e,-t)}function o(e,t){const a=c(e);if(null===a)return e;const[s,r,i,o]=a;return`rgba(${n(s,t=255*t/100)}, ${n(r,t)}, ${n(i,t)}, ${o})`}function l(e,t){const a=c(e);if(null===a)return e;const[s,n,r,i]=a;return`rgba(${s}, ${n}, ${r}, ${i*(t/100)})`}function c(e){e=e.trim();const t=s.exec(e);if(null===t)return null;if("#"===t[1]){const e=t[2];switch(e.length){case 3:return[parseInt(e[0]+e[0],16),parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),1];case 6:return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),1]}return null}switch(t[3]){case"rgb":return[parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10),1];case"rgba":return[parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10),parseFloat(t[7])];default:return null}}},59927:(e,t,a)=>{a.d(t,{AY:()=>d,Ef:()=>r,JR:()=>h,NJ:()=>n,Qh:()=>o,RD:()=>p,Ve:()=>m,cy:()=>s,gf:()=>c,oI:()=>i,wv:()=>u,xC:()=>g,yb:()=>l});const s=(...e)=>(...t)=>e.forEach((e=>e(...t)));function n(e,t){return void 0!==e?void 0:"EMPTY"}function r(e,t){}function i(e,t){return void 0===e||e.trim().length<1?"EMPTY":void 0}function o(e){return void 0===i(e)}function l(e,t){let a;if(void 0!==e&&e.length>0){let t=NaN;t="number"===typeof e?e:parseFloat(e),a=isNaN(t)?"NOT_NUMBER":void 0}return a}function c(e){return void 0===l(e)}function u(e,t){let a;try{""===new URL(e).hostname&&(a="NOT_URL")}catch(e){a="NOT_URL"}return a}function d(e){return void 0===u(e)}function p(e,t){let a=i(e);return void 0===a&&(a=l(e)),a}function m(e){return void 0===p(e)}function h(e,t){let a=i(e);return void 0===a&&(a=u(e)),a}function g(e){return void 0===h(e)}},82522:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(96540),n=a(50653),r=a(12908),i=a(76234);class o extends s.Component{render(){return s.createElement("div",{className:"ac-icon-with-text"},this.props.iconUrl&&s.createElement("img",{style:{paddingRight:"5px"},src:this.props.iconUrl}),s.createElement("div",{className:"jira-issue-key"},s.createElement(n.A,{className:"ac-link-button",appearance:"link",spacing:"none",href:this.props.href,onClick:this.props.onItemClick},this.props.text),this.props.onCopy&&s.createElement("div",{className:"jira-issue-copy-icon",onClick:this.props.onCopy},s.createElement(r.A,{content:"Copy the web link to clipboard"},s.createElement(i.A,{label:"copy issue link",size:"small"})))))}}},77763:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s=a(20336),n=a(49723),r=a(50653),i=a(98422),o=a(56668),l=a(93420),c=a(46569),u=a(32935),d=a(59483),p=a(69984),m=a(24788),h=a(17565),g=a(72007),b=a(71210),E=a(57975),v=a(96540),y=a(76201),f=a(6406);const k={details:f.Rc,ownerSlug:"",repoSlug:""},S={accountId:"",displayName:"",url:"",avatarUrl:"",mention:""},N={id:"",scm:void 0,name:"",displayName:"",fullName:"",parentFullName:void 0,url:"",avatarUrl:"",mainbranch:void 0,developmentBranch:void 0,branchingModel:void 0,issueTrackerEnabled:!1};var C;!function(e){e.ADDED="A",e.DELETED="D",e.COPIED="C",e.MODIFIED="M",e.RENAMED="R",e.CONFLICT="CONFLICT",e.UNKNOWN="X"}(C||(C={}));f.Rc;var O=a(31074),B=a(70376),w=a(14596),R=a(59927),I=a(63489),T=a(17660),x=a(82522),A=a(99650);const L={workspaceRepo:{rootUri:"",mainSiteRemote:{site:k,remote:{name:"",isReadOnly:!0}},siteRemotes:[]},localBranches:[],remoteBranches:[],branchTypes:[],isCloud:!0},D={data:{type:"update",issue:(0,g.YB)(f.Rc),repoData:[]},issueType:"jiraIssue",jiraSetupEnabled:!0,bitbucketSetupEnabled:!0,transition:g.rv,repo:L,localBranch:void 0,existingBranchOptions:[],isStartButtonLoading:!1,result:{type:"startWorkOnIssueResult",successMessage:void 0,error:void 0},isErrorBannerOpen:!1,errorDetails:void 0,isOnline:!0};class P extends T.B{constructor(e){super(e),this.isEmptyRepo=e=>e===L,this.handleStatusChange=e=>{(0,O.K3)(this.state.data)&&this.setState({data:Object.assign(Object.assign({},this.state.data),{issue:Object.assign(Object.assign({},this.state.data.issue),{status:Object.assign(Object.assign({},this.state.data.issue.status),{id:e.to.id,name:e.to.name})})}),transition:e})},this.handleRepoChange=e=>{const t=(0,O.K3)(this.state.data)?this.state.data.issue.key:`issue-#${this.state.data.issue.data.id}`,a=e.localBranches.find((t=>void 0!==t.name&&-1!==t.name.indexOf(e.developmentBranch)));this.setState({repo:e,sourceBranch:a,branchType:e.branchTypes.length>0?e.branchTypes[0]:void 0,existingBranchOptions:this.getExistingBranchOptions(e,t)})},this.handleSourceBranchChange=e=>{this.setState({sourceBranch:e})},this.handleBranchNameChange=e=>{this.setState({localBranch:e})},this.handleSelectExistingBranch=e=>{const t=this.state.repo.branchTypes.find((t=>e.startsWith(t.prefix)));this.setState({branchType:t,localBranch:t?e.substring(t.prefix.length):e})},this.toggleJiraSetupEnabled=e=>{this.setState({jiraSetupEnabled:e.target.checked})},this.toggleBitbucketSetupEnabled=e=>{this.setState({bitbucketSetupEnabled:e.target.checked})},this.handleSiteRemoteChange=e=>{this.setState({siteRemote:e})},this.handleStart=()=>{this.setState({isStartButtonLoading:!0});let e="";if(this.state.localBranch){e=(this.state.branchType?this.state.branchType.prefix:"")+this.state.localBranch}this.postMessage({action:"startWork",repoUri:this.state.repo.workspaceRepo.rootUri,targetBranchName:e,sourceBranch:this.state.sourceBranch,remoteName:this.state.siteRemote?this.state.siteRemote.remote.name:"",transition:this.state.transition,setupJira:this.state.jiraSetupEnabled,setupBitbucket:!this.isEmptyRepo(this.state.repo)&&this.state.bitbucketSetupEnabled})},this.handleDismissError=()=>{this.setState({isErrorBannerOpen:!1,errorDetails:void 0})},this.state=D}onMessageReceived(e){switch(e.type){case"error":this.setState({isStartButtonLoading:!1,isErrorBannerOpen:!0,errorDetails:e.reason});break;case"update":if((0,O.K3)(e)&&e.issue.key.length>0){const t=this.isEmptyRepo(this.state.repo)&&e.repoData.length>0?e.repoData[0]:this.state.repo,a=this.state.transition===g.rv&&e.issue.transitions.find((t=>t.to.id===e.issue.status.id))||this.state.transition,s="jiraIssue",n=e.issue.key,r=e.issue.summary;this.updateState(e,s,t,n,r,a)}else this.setState(D);break;case"startWorkOnBitbucketIssueData":if("startWorkOnBitbucketIssueData"===e.type){let t=this.state.repo;if(this.isEmptyRepo(this.state.repo)&&e.repoData.length>0){t=e.repoData.find((t=>t.href===e.issue.data.repository.links.html.href))||e.repoData[0]}const a="bitbucketIssue",s=`issue-#${e.issue.data.id.toString()}`,n=e.issue.data.title;this.updateState(e,a,t,s,n,g.rv)}else this.setState(D);break;case"startWorkOnIssueResult":(0,O.t5)(e)&&this.setState({isStartButtonLoading:!1,result:e,isErrorBannerOpen:!1,errorDetails:void 0});break;case"onlineStatus":this.setState({isOnline:e.isOnline}),e.isOnline&&this.postMessage({action:"refreshIssue"})}return!0}getExistingBranchOptions(e,t){return[...e.localBranches.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))).map((e=>e.name)),...e.remoteBranches.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))).filter((t=>!e.localBranches.some((e=>t.name.endsWith(e.name))))).map((e=>e.name.replace(`${e.remote}/`,"")))]}updateState(e,t,a,s,n,r){const i=this.state.existingBranchOptions.length>0?this.state.existingBranchOptions:this.getExistingBranchOptions(a,s),o=this.state.localBranch||`${s}-${n.substring(0,50).trim().toLowerCase().replace(/\W+/g,"-")}`,l=this.state.sourceBranch||a.localBranches.find((e=>void 0!==e.name&&-1!==e.name.indexOf(a.developmentBranch)))||a.localBranches[0];let c=this.state.siteRemote;this.state.siteRemote||(c=a.workspaceRepo.mainSiteRemote),this.setState({data:e,issueType:t,repo:a,sourceBranch:l,transition:r,existingBranchOptions:i,localBranch:o,branchType:a.branchTypes.length>0?a.branchTypes[0]:void 0,siteRemote:c,bitbucketSetupEnabled:!this.isEmptyRepo(a)&&this.state.bitbucketSetupEnabled,isErrorBannerOpen:!1,errorDetails:void 0})}render(){if((0,O.K3)(this.state.data)&&""===this.state.data.issue.key&&!this.state.isErrorBannerOpen&&this.state.isOnline)return this.postMessage({action:"refreshIssue"}),v.createElement(B.V,null);const e=this.state.data.issue,t=this.state.repo,a=v.createElement("div",{className:"ac-vpadding"},v.createElement("p",null,v.createElement("strong",null,"Tip:")," You can have issue keys auto-added to your commit messages using"," ",v.createElement("a",{type:"button",className:"ac-link-button",href:"https://bitbucket.org/snippets/atlassian/qedp7d"},v.createElement("span",null,"our prepare-commit-msg hook"))));let g=v.createElement(l.A,{medium:8},v.createElement("em",null,v.createElement("p",null,"Start work on:")));if("jiraIssue"===this.state.issueType&&(0,b.RP)(e))g=v.createElement(l.A,{medium:8},v.createElement("em",null,v.createElement("p",null,"Start work on:")),v.createElement(d.A,{actions:void 0,breadcrumbs:v.createElement(s.A,null,e.parentKey&&v.createElement(n.A,{component:()=>v.createElement(x.A,{text:`${e.parentKey}`,onItemClick:()=>this.postMessage({action:"openJiraIssue",issueOrKey:{siteDetails:e.siteDetails,key:e.parentKey}})})}),v.createElement(n.A,{component:()=>v.createElement(x.A,{text:`${e.key}`,iconUrl:e.issuetype.iconUrl,onItemClick:()=>this.postMessage({action:"openJiraIssue",issueOrKey:e}),onCopy:()=>this.postMessage({action:"copyJiraIssueLink"})})}))},v.createElement("p",null,e.summary)),v.createElement("p",{dangerouslySetInnerHTML:{__html:e.descriptionHtml}}));else if("bitbucketIssue"===this.state.issueType){const t=e;g=v.createElement(l.A,{medium:8},v.createElement("em",null,v.createElement("p",null,"Start work on:")),v.createElement(d.A,{actions:void 0,breadcrumbs:v.createElement(s.A,null,v.createElement(n.A,{component:()=>v.createElement(x.A,{text:t.data.repository.name,href:t.data.repository.links.html.href})}),v.createElement(n.A,{component:()=>v.createElement(x.A,{text:"Issues",href:`${t.data.repository.links.html.href}/issues`})}),v.createElement(n.A,{component:()=>v.createElement(x.A,{text:`Issue #${t.data.id}`,onItemClick:()=>this.postMessage({action:"openBitbucketIssue",issue:t}),onCopy:()=>this.postMessage({action:"copyBitbucketIssueLink"})})}))},v.createElement("p",null,t.data.title)),v.createElement("p",{dangerouslySetInnerHTML:{__html:t.data.content.html}}))}return v.createElement(c.Ay,null,v.createElement(u.A,null,v.createElement(l.A,{medium:8},!this.state.isOnline&&v.createElement(I.A,null),this.state.result.successMessage&&v.createElement(p.A,{appearance:"confirmation",title:"Work Started"},v.createElement("div",{className:"start-work-success"},v.createElement("p",{dangerouslySetInnerHTML:{__html:this.state.result.successMessage}}))),this.state.isErrorBannerOpen&&v.createElement(w.A,{onDismissError:this.handleDismissError,errorDetails:this.state.errorDetails})),g,"jiraIssue"===this.state.issueType&&v.createElement(l.A,{medium:6},v.createElement("div",{style:{display:"flex",alignItems:"center"}},v.createElement(o.S,{isChecked:this.state.jiraSetupEnabled,onChange:this.toggleJiraSetupEnabled,name:"setup-jira-checkbox"}),v.createElement("h4",null,"Transition issue")),this.state.jiraSetupEnabled&&v.createElement("div",{style:{margin:10,borderLeftWidth:"initial",borderLeftStyle:"solid",borderLeftColor:"var(--vscode-settings-modifiedItemIndicator)"}},v.createElement("div",{style:{margin:10}},v.createElement("label",null,"Select new status"),v.createElement(A.N,{transitions:e.transitions,currentStatus:e.status,isStatusButtonLoading:!1,onStatusChange:this.handleStatusChange})))),v.createElement(l.A,{medium:12}),v.createElement(l.A,{medium:8},v.createElement("div",{style:{display:"flex",alignItems:"center"}},v.createElement(o.S,{isChecked:this.state.bitbucketSetupEnabled,onChange:this.toggleBitbucketSetupEnabled,name:"setup-bitbucket-checkbox"}),v.createElement("h4",null,"Set up git branch")),this.isEmptyRepo(t)&&v.createElement("div",{style:{margin:10,borderLeftWidth:"initial",borderLeftStyle:"solid",borderLeftColor:"var(--vscode-settings-modifiedItemIndicator)"}},v.createElement("div",{style:{margin:10}},v.createElement("div",{className:"ac-vpadding"},v.createElement("label",null,"Repository"),v.createElement(m.A,{className:"ac-select-container",classNamePrefix:"ac-select",placeholder:"No repositories found...",value:t})))),this.state.bitbucketSetupEnabled&&!this.isEmptyRepo(this.state.repo)&&v.createElement("div",{style:{margin:10,borderLeftWidth:"initial",borderLeftStyle:"solid",borderLeftColor:"var(--vscode-settings-modifiedItemIndicator)"}},v.createElement("div",{style:{margin:10}},this.state.data.repoData.length>1&&v.createElement("div",{className:"ac-vpadding"},v.createElement("label",null,"Repository"),v.createElement(m.A,{className:"ac-select-container",classNamePrefix:"ac-select",options:this.state.data.repoData,getOptionLabel:e=>this.isEmptyRepo(e)?"No repositories found...":E.basename(e.workspaceRepo.rootUri),getOptionValue:e=>e,onChange:this.handleRepoChange,placeholder:"Loading...",value:t})),t.branchTypes.length>0&&v.createElement("div",{className:"ac-vpadding",style:{textTransform:"capitalize"}},v.createElement("label",null,"Type"),v.createElement(h.A,{className:"ac-select-container",classNamePrefix:"ac-select",options:t.branchTypes,getOptionLabel:e=>e.kind,getOptionValue:e=>e.prefix,onChange:e=>{this.setState({branchType:e})},value:this.state.branchType})),v.createElement("div",{className:"ac-vpadding"},v.createElement("label",null,"Source branch (this will be the start point for the new branch)"),v.createElement(m.A,{className:"ac-select-container",classNamePrefix:"ac-select",options:[...t.localBranches,...t.remoteBranches],getOptionLabel:e=>e.name,getOptionValue:e=>e,onChange:this.handleSourceBranchChange,value:this.state.sourceBranch})),v.createElement("div",{className:"ac-vpadding"},v.createElement("label",null,"Local branch"),v.createElement("div",{className:"branch-container"},this.state.branchType&&this.state.branchType.prefix&&v.createElement("div",{className:"prefix-container"},v.createElement("label",null,this.state.branchType.prefix)),v.createElement("div",{className:"branch-name"},v.createElement(y.A,{type:"text",value:this.state.localBranch||"",onSave:this.handleBranchNameChange,validation:R.Qh,validationMessage:"Branch name is required",inputProps:{className:"ac-inputField"},viewProps:{id:"start-work-branch-name",className:"ac-inline-input-view-p"},editButtonClassName:"ac-inline-edit-button",cancelButtonClassName:"ac-inline-cancel-button",saveButtonClassName:"ac-inline-save-button",editOnViewClick:!0}))),this.state.existingBranchOptions.length>0&&v.createElement(p.A,{appearance:"change",title:"Use an existing branch?"},v.createElement("div",null,v.createElement("p",null,"Click to use an existing branch for this issue: (",v.createElement("em",null,"source branch selection is ignored for existing branches"),")"),v.createElement("ul",null,this.state.existingBranchOptions.map((e=>v.createElement("li",null,v.createElement(r.A,{className:"ac-link-button",appearance:"link",onClick:()=>this.handleSelectExistingBranch(e)},e)))))))),t.workspaceRepo.siteRemotes.length>1&&v.createElement("div",null,v.createElement("label",null,"Set upstream to"),v.createElement(m.A,{className:"ac-select-container",classNamePrefix:"ac-select",options:t.workspaceRepo.siteRemotes,getOptionLabel:e=>e.remote.name,getOptionValue:e=>e,onChange:this.handleSiteRemoteChange,value:this.state.siteRemote}))))),v.createElement(l.A,{medium:12},v.createElement("div",{className:"ac-vpadding"},!this.state.result.successMessage&&v.createElement(i.A,{className:"ac-button",isLoading:this.state.isStartButtonLoading,onClick:this.handleStart},"Start")),a)))}}},99650:(e,t,a)=>{a.d(t,{N:()=>m});var s=a(10453),n=a(23588),r=a(24788),i=a(72007),o=a(96540),l=a(79402);const{Option:c}=n.c,u=e=>o.createElement(c,Object.assign({},e),o.createElement(s.A,{appearance:l.zK[e.data.to.statusCategory.colorName]},e.data.to.name)),d=e=>o.createElement(c,Object.assign({},e),`${e.data.name} \u2192 `,o.createElement(s.A,{appearance:l.zK[e.data.to.statusCategory.colorName]},e.data.to.name)),p=e=>o.createElement(n.c.SingleValue,Object.assign({},e),o.createElement(s.A,{appearance:l.zK[e.data.to.statusCategory.colorName]},e.data.to.name));class m extends o.Component{constructor(e){super(e),this.handleStatusChange=e=>{this.props.onStatusChange(e)};const t=this.getCurrentTransition(e.currentStatus,e.transitions);this.state={selectedTransition:t,showTransitionName:this.shouldShowTransitionName(e.transitions)}}componentWillReceiveProps(e){const t=this.getCurrentTransition(e.currentStatus,e.transitions);this.setState({selectedTransition:t,showTransitionName:this.shouldShowTransitionName(e.transitions)})}getCurrentTransition(e,t){const a=t.find((t=>t.to.id===e.id));return void 0!==a?a:Object.assign(Object.assign({},i.rv),{to:e})}shouldShowTransitionName(e){return e.some((e=>e.name!==e.to.name))}render(){return!Array.isArray(this.props.transitions)||this.props.transitions.length<1?o.createElement("div",null):o.createElement(r.A,{name:"status",id:"status",className:"ac-select-container",classNamePrefix:"ac-select",options:this.props.transitions,value:this.state.selectedTransition,components:{Option:this.state.showTransitionName?d:u,SingleValue:p},getOptionLabel:e=>e.to.name,getOptionValue:e=>e.id,isDisabled:this.props.isStatusButtonLoading,isLoading:this.props.isStatusButtonLoading,onChange:this.handleStatusChange})}}}}]);