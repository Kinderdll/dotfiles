"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[122],{15776:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(58168),r=n(80045),i=n(96540),l=n(20053),o=n(49029),s=n(35192),c=n(54392),d=n(67515),m=i.forwardRef((function(e,t){e.checked;var n=e.classes,s=e.className,m=e.control,u=e.disabled,v=(e.inputRef,e.label),p=e.labelPlacement,h=void 0===p?"end":p,g=(e.name,e.onChange,e.value,(0,r.A)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),A=(0,o.A)(),E=u;"undefined"===typeof E&&"undefined"!==typeof m.props.disabled&&(E=m.props.disabled),"undefined"===typeof E&&A&&(E=A.disabled);var f={disabled:E};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof m.props[t]&&"undefined"!==typeof e[t]&&(f[t]=e[t])})),i.createElement("label",(0,a.A)({className:(0,l.A)(n.root,s,"end"!==h&&n["labelPlacement".concat((0,d.A)(h))],E&&n.disabled),ref:t},g),i.cloneElement(m,f),i.createElement(c.A,{component:"span",className:(0,l.A)(n.label,E&&n.disabled)},v))}));const u=(0,s.A)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(m)},54185:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.A=i},89600:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");t.A=i},96563:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"}),"Block");t.A=i},95666:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"}),"BugReport");t.A=i},47319:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"}),"CheckBoxOutlined");t.A=i},29374:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M12 3c-.46 0-.93.04-1.4.14-2.76.53-4.96 2.76-5.48 5.52-.48 2.61.48 5.01 2.22 6.56.43.38.66.91.66 1.47V19c0 1.1.9 2 2 2h.28c.35.6.98 1 1.72 1s1.38-.4 1.72-1H14c1.1 0 2-.9 2-2v-2.31c0-.55.22-1.09.64-1.46C18.09 13.95 19 12.08 19 10c0-3.87-3.13-7-7-7zm2 16h-4v-1h4v1zm0-2h-4v-1h4v1zm-1.5-5.59V14h-1v-2.59L9.67 9.59l.71-.71L12 10.5l1.62-1.62.71.71-1.83 1.82z"}),"EmojiObjects");t.A=i},14213:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");t.A=i},78861:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.A=i},83609:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");t.A=i},30662:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M12 6.5c3.79 0 7.17 2.13 8.82 5.5-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5z"}),"RemoveRedEyeOutlined");t.A=i},40410:(e,t,n)=>{var a=n(24994);t.A=void 0;var r=a(n(96540)),i=(0,a(n(76447)).default)(r.default.createElement("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.A=i},55765:(e,t,n)=>{n.d(t,{BM:()=>s,F2:()=>i,GT:()=>d,ZH:()=>o,e_:()=>r});var a=n(6406);const r={details:a.Rc,ownerSlug:"",repoSlug:""},i={accountId:"",displayName:"",url:"",avatarUrl:"",mention:""},l={id:"",scm:void 0,name:"",displayName:"",fullName:"",parentFullName:void 0,url:"",avatarUrl:"",mainbranch:void 0,developmentBranch:void 0,branchingModel:void 0,issueTrackerEnabled:!1},o={id:"",deletable:!1,editable:!1,user:i,htmlContent:"",rawContent:"",ts:"",updatedTs:"",deleted:!1,children:[],tasks:[]};var s;!function(e){e.ADDED="A",e.DELETED="D",e.COPIED="C",e.MODIFIED="M",e.RENAMED="R",e.CONFLICT="CONFLICT",e.UNKNOWN="X"}(s||(s={}));const c={siteDetails:a.Rc,id:"",version:0,url:"",author:i,participants:[],source:{repo:l,branchName:"",commitHash:""},destination:{repo:l,branchName:"",commitHash:""},title:"",htmlSummary:"",rawSummary:"",ts:"",updatedTs:"",state:"OPEN",closeSourceBranch:!1,taskCount:0},d={site:r,data:c}},91836:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fe});var a,r=n(2948),i=n(88313),l=n(82096),o=n(29984),s=n(61434),c=n(35376),d=n(54392),m=n(10782),u=n(26758),v=n(96232),p=n(42460),h=n(96746),g=n(27606),A=n(3148),E=n(48672),f=n(91004),b=n(54185),y=n(89600),C=n(96563),k=n(95666),w=n(47319),S=n(29374),L=n(14213),R=n(78861),I=n(83609),x=n(30662),z=n(40410),M=n(70892),O=n(84929),U=n(96540),N=n(37262),W=n(10424),F=n(9603),P=n(56872),j=n(9361),_=n(68414),T=n(55765);!function(e){e.UpdateStatusRequest="updateStatusRequest",e.AddCommentRequest="addCommentRequest",e.FetchUsersRequest="fetchUsersRequest",e.AssignRequest="assignRequest",e.StartWork="startWork",e.CreateJiraIssue="createJiraIssue"}(a||(a={}));var B,H=n(50569),D=n(11245);!function(e){e.Init="init",e.InitComments="initComments",e.UpdateComments="updateComments",e.UpdateStatusResponse="updateStatusResponse",e.AddCommentResponse="addCommentResponse",e.FetchUsersResponse="fetchUsersResponse",e.AssignResponse="assignResponse"}(B||(B={}));const J={issue:{site:T.e_,data:{id:"",state:"",content:{html:""}}},currentUser:T.F2,showJiraButton:!1};var $=n(27030),q=n(3119),V=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};const G={postMessage:()=>{},refresh:()=>{},openLink:()=>{},copyLink:()=>{},updateStatus:e=>V(void 0,void 0,void 0,(function*(){return e})),postComment:e=>V(void 0,void 0,void 0,(function*(){return T.ZH})),fetchUsers:(e,t)=>V(void 0,void 0,void 0,(function*(){return[]})),assign:e=>V(void 0,void 0,void 0,(function*(){return T.F2})),applyChange:e=>{},startWork:()=>{},createJiraIssue:()=>{}},K=U.createContext(G),Q=Object.assign(Object.assign(Object.assign({},J),{comments:[]}),{isSomethingLoading:!1});var Z;function X(e,t){switch(t.type){case Z.Init:return Object.assign(Object.assign(Object.assign({},e),t.data),{isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0});case Z.InitComments:return Object.assign(Object.assign({},e),{comments:t.data.comments,isSomethingLoading:!1});case Z.UpdateComments:return Object.assign(Object.assign({},e),{comments:[...e.comments,...t.data.comments],isSomethingLoading:!1});case Z.LocalChange:return Object.assign(Object.assign({},e),{issue:t.data.issue?Object.assign(Object.assign({},e.issue),{data:Object.assign(Object.assign({},e.issue.data),t.data.issue)}):e.issue,comments:t.data.comments?[...e.comments,...t.data.comments]:e.comments,isSomethingLoading:!1});case Z.Loading:return Object.assign(Object.assign({},e),{isSomethingLoading:!0});default:return(0,j.y)(e,t)}}!function(e){e.Init="init",e.InitComments="initComments",e.UpdateComments="updateComments",e.LocalChange="localChange",e.Loading="loading"}(Z||(Z={}));var Y=n(79698),ee=n(83220),te=n(58168),ne=n(80045),ae=n(20053),re=n(35192),ie=n(97589),le=U.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,i=e.component,l=void 0===i?"div":i,o=e.disablePointerEvents,s=void 0!==o&&o,c=e.disableTypography,m=void 0!==c&&c,u=e.position,v=e.variant,p=(0,ne.A)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),h=(0,ie.t)()||{},g=v;return v&&h.variant,h&&!g&&(g=h.variant),U.createElement(ie.A.Provider,{value:null},U.createElement(l,(0,te.A)({className:(0,ae.A)(a.root,r,"end"===u?a.positionEnd:a.positionStart,s&&a.disablePointerEvents,h.hiddenLabel&&a.hiddenLabel,"filled"===g&&a.filled,"dense"===h.margin&&a.marginDense),ref:t},p),"string"!==typeof n||m?n:U.createElement(d.A,{color:"textSecondary"},n)))}));const oe=(0,re.A)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(le);var se=n(83182),ce=n(29459),de=n(10476),me=n(31456),ue=n(19877),ve=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};const pe=e=>{const t=(0,U.useContext)(K),[n,a]=(0,U.useState)(!1),[r,i]=(0,U.useState)(!1),[l,o]=(0,U.useState)(e.user),[s,c]=(0,U.useState)(e.user.displayName),m=(0,ue.A)((()=>(0,de.A)(((e,n)=>ve(void 0,void 0,void 0,(function*(){return yield t.fetchUsers(e,n)}))),300,{leading:!1}))),u=(0,U.useCallback)(((e,t)=>{n&&"change"===(null===e||void 0===e?void 0:e.type)&&c(t)}),[n,c]),v=(0,me.useAsyncAbortable)((e=>ve(void 0,void 0,void 0,(function*(){return yield m(s,e)}))),[s]);return U.createElement(ce.Ay,{open:n,onOpen:()=>a(!0),onClose:()=>a(!1),options:v.result||[],getOptionLabel:e=>(null===e||void 0===e?void 0:e.displayName)||"",value:r?l:e.user,onInputChange:u,onChange:(t,n,a)=>ve(void 0,void 0,void 0,(function*(){var r;if("INPUT"!==(null===(r=null===t||void 0===t?void 0:t.target)||void 0===r?void 0:r.nodeName)||"clear"!==a){i(!0);try{o(n||T.F2),yield e.onChange(null===n||void 0===n?void 0:n.accountId)}finally{i(!1)}}})),loading:v.loading||r,renderInput:e=>U.createElement(ee.A,Object.assign({},e,{InputProps:Object.assign(Object.assign({},e.InputProps),{startAdornment:n?null:U.createElement(oe,{position:"start"},U.createElement(f.A,{src:null===l||void 0===l?void 0:l.avatarUrl})),endAdornment:U.createElement(U.Fragment,null,v.loading||r?U.createElement(se.A,{size:20}):null,e.InputProps.endAdornment)})})),renderOption:e=>U.createElement(g.A,{container:!0,spacing:1,direction:"row",alignItems:"center"},U.createElement(g.A,{item:!0},U.createElement(f.A,{src:null===e||void 0===e?void 0:e.avatarUrl})),U.createElement(g.A,{item:!0},U.createElement(d.A,null,null===e||void 0===e?void 0:e.displayName)))})};var he=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};const ge={trivial:U.createElement(I.A,null),minor:U.createElement(b.A,null),major:U.createElement(L.A,null),critical:U.createElement(y.A,null),blocker:U.createElement(C.A,null)},Ae={bug:U.createElement(k.A,null),enhancement:U.createElement(y.A,null),proposal:U.createElement(S.A,null),task:U.createElement(w.A,null)},Ee=(0,l.A)((e=>({title:{flexGrow:0,marginRight:e.spacing(3),marginLeft:e.spacing(1)},targetSelectLabel:{marginRight:e.spacing(1)},grow:{flexGrow:1},paper100:{overflow:"hidden",height:"100%"},paperOverflow:{overflow:"hidden"}}))),fe=()=>{var e,t,n,l,b,y,C,k,w,S,L,I,T,J,G,ee,te,ne;const ae=Ee(),[re,ie]=function(){const[e,t]=(0,U.useReducer)(X,Q),n=(0,U.useCallback)((e=>{switch(e.type){case B.Init:t({type:Z.Init,data:e});break;case B.InitComments:t({type:Z.InitComments,data:e});break;case B.UpdateComments:t({type:Z.UpdateComments,data:e});break;default:(0,j.z)(e)}}),[]),[r,i]=(0,q.G)(n),l=(0,U.useCallback)((e=>new Promise(((t,n)=>{(()=>{V(this,void 0,void 0,(function*(){try{const n=yield i({type:a.UpdateStatusRequest,status:e},B.UpdateStatusResponse,$.Q);t(n.status)}catch(e){n(e)}}))})()}))),[i]),o=(0,U.useCallback)((e=>new Promise(((t,n)=>{(()=>{V(this,void 0,void 0,(function*(){try{const n=yield i({type:a.AddCommentRequest,content:e},B.AddCommentResponse,$.Q);t(n.comment)}catch(e){n(e)}}))})()}))),[i]),s=(0,U.useCallback)((e=>new Promise(((t,n)=>{(()=>{V(this,void 0,void 0,(function*(){try{const n=yield i({type:a.AssignRequest,accountId:e},B.AssignResponse,$.Q);t(n.assignee)}catch(e){n(e)}}))})()}))),[i]),c=(0,U.useCallback)(((e,t)=>new Promise(((n,l)=>{(()=>{V(this,void 0,void 0,(function*(){try{var o="";t&&(o=(0,_.v4)(),t.onabort=()=>{r({type:H.I.Cancel,abortKey:o,reason:"bitbucket issue fetchUsers cancelled by client"})});const l=yield i({type:a.FetchUsersRequest,query:e,abortKey:t?o:void 0},B.FetchUsersResponse,$.Q);n(l.users)}catch(e){l(e)}}))})()}))),[r,i]),d=(0,U.useCallback)((e=>{t({type:Z.LocalChange,data:e})}),[t]),m=(0,U.useCallback)((()=>{r({type:a.StartWork})}),[r]),u=(0,U.useCallback)((()=>{r({type:a.CreateJiraIssue})}),[r]),v=(0,U.useCallback)((e=>r({type:H.I.CopyLink,linkType:"bbIssue",url:e})),[r]),p=(0,U.useCallback)((()=>{t({type:Z.Loading}),r({type:H.I.Refresh})}),[r]),h=(0,U.useCallback)((e=>r({type:H.I.ExternalLink,source:D.po.BitbucketIssueWebview,linkId:e})),[r]);return[e,(0,U.useMemo)((()=>({postMessage:r,refresh:p,openLink:h,copyLink:v,updateStatus:l,postComment:o,fetchUsers:c,assign:s,applyChange:d,startWork:m,createJiraIssue:u})),[h,v,r,p,l,o,c,s,d,m,u])]}(),le=(0,U.useCallback)((e=>he(void 0,void 0,void 0,(function*(){const t=yield ie.updateStatus(e);ie.applyChange({issue:{state:t}})}))),[ie]),oe=(0,U.useCallback)((e=>he(void 0,void 0,void 0,(function*(){const t=yield ie.postComment(e);ie.applyChange({comments:[t]})}))),[ie]),se=(0,U.useCallback)((e=>he(void 0,void 0,void 0,(function*(){const t=yield ie.assign(e);ie.applyChange({issue:{assignee:{display_name:t.displayName,uuid:"",links:{avatar:{href:t.avatarUrl}},type:"user",account_id:t.accountId}}})}))),[ie]);return U.createElement(K.Provider,{value:ie},U.createElement(o.A,{maxWidth:"xl",hidden:""===re.issue.data.id},U.createElement(s.A,{position:"relative"},U.createElement(c.A,null,U.createElement(d.A,{variant:"h3",className:ae.title},U.createElement(m.A,{href:null===(t=null===(e=re.issue.data.links)||void 0===e?void 0:e.html)||void 0===t?void 0:t.href},"#",re.issue.data.id)," ",re.issue.data.title),U.createElement(u.A,{className:ae.grow}),U.createElement(W.g,{tooltip:"Copy link to issue",url:null===(l=null===(n=re.issue.data.links)||void 0===n?void 0:n.html)||void 0===l?void 0:l.href,onClick:ie.copyLink}),U.createElement(u.A,{marginRight:1,hidden:!re.showJiraButton},U.createElement(v.Ay,{title:"Create Jira issue"},U.createElement(p.A,{"aria-label":"create Jira issue",onClick:ie.createJiraIssue},U.createElement(i.cJ,null)))),U.createElement(v.Ay,{title:"Create a branch and assign issue to me"},U.createElement(h.A,{variant:"contained",color:"primary",startIcon:U.createElement(R.A,null),onClick:ie.startWork},"Start work")),U.createElement(r.sv,{loading:re.isSomethingLoading,onClick:ie.refresh}))),U.createElement(g.A,{container:!0,spacing:1},U.createElement(g.A,{item:!0,xs:12,md:9,lg:9,xl:9,zeroMinWidth:!0},U.createElement(A.A,{className:ae.paper100},U.createElement(u.A,{margin:2},U.createElement(F.n,null),U.createElement(P.O,{postMessageFunc:ie.postMessage}),U.createElement(g.A,{container:!0,spacing:2,direction:"column"},U.createElement(g.A,{item:!0},U.createElement(u.A,null)),U.createElement(g.A,{item:!0,zeroMinWidth:!0},U.createElement(d.A,{variant:"h4"},U.createElement(u.A,{fontWeight:"fontWeightBold"},"Summary"))),U.createElement(g.A,{item:!0,xs:!0,zeroMinWidth:!0},U.createElement(d.A,{variant:"body1",dangerouslySetInnerHTML:{__html:re.issue.data.content.html}})),U.createElement(g.A,{item:!0},U.createElement(E.A,null)),U.createElement(g.A,{item:!0,zeroMinWidth:!0},U.createElement(d.A,{variant:"h4"},U.createElement(u.A,{fontWeight:"fontWeightBold"},"Comments"))),U.createElement(g.A,{item:!0,xs:!0,zeroMinWidth:!0},U.createElement(g.A,{container:!0,spacing:2,direction:"column"},re.comments.map((e=>U.createElement(g.A,{item:!0,key:e.id,xs:!0,zeroMinWidth:!0},U.createElement(g.A,{container:!0,spacing:1,direction:"row",alignItems:"flex-start"},U.createElement(g.A,{item:!0,zeroMinWidth:!0},U.createElement(f.A,{src:e.user.avatarUrl,alt:e.user.displayName})),U.createElement(g.A,{item:!0,xs:!0,zeroMinWidth:!0},U.createElement(d.A,{variant:"subtitle2"},e.user.displayName,"  ",e.ts?(0,M.GP)((0,O.H)(e.ts),"yyyy-MM-dd h:mm a"):""),U.createElement(d.A,{dangerouslySetInnerHTML:{__html:e.htmlContent}})))))))),U.createElement(g.A,{item:!0},U.createElement(N.A,{currentUser:re.currentUser,onSave:oe,fetchUsers:ie.fetchUsers})))))),U.createElement(g.A,{item:!0,xs:12,md:3,lg:3,xl:3},U.createElement(A.A,{className:ae.paperOverflow},U.createElement(u.A,{margin:2},U.createElement(g.A,{container:!0,spacing:1,direction:"column"},U.createElement(g.A,{item:!0},U.createElement(g.A,{container:!0,spacing:1,direction:"row",alignItems:"center"},U.createElement(g.A,{item:!0},U.createElement(v.Ay,{title:"Watches"},U.createElement(h.A,{variant:"contained",startIcon:U.createElement(x.A,null)},re.issue.data.watches||0))),U.createElement(g.A,{item:!0},U.createElement(v.Ay,{title:"Votes"},U.createElement(h.A,{variant:"contained",startIcon:U.createElement(z.A,null)},re.issue.data.votes||0))))),U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Status")),U.createElement(Y.A,{status:re.issue.data.state,onChange:le})),U.createElement(g.A,{item:!0},U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Kind"))),U.createElement(g.A,{container:!0,spacing:1,direction:"row"},U.createElement(g.A,{item:!0},Ae[re.issue.data.kind]),U.createElement(g.A,{item:!0},U.createElement(d.A,null,re.issue.data.kind)))),U.createElement(g.A,{item:!0},U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Priority"))),U.createElement(g.A,{container:!0,spacing:1,direction:"row"},U.createElement(g.A,{item:!0},ge[re.issue.data.priority]),U.createElement(g.A,{item:!0},U.createElement(d.A,null,re.issue.data.priority)))),U.createElement(g.A,{item:!0},U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Assignee"))),U.createElement(g.A,{item:!0},U.createElement(pe,{user:{accountId:null===(y=null===(b=re.issue.data)||void 0===b?void 0:b.assignee)||void 0===y?void 0:y.account_id,avatarUrl:null===(S=null===(w=null===(k=null===(C=re.issue.data)||void 0===C?void 0:C.assignee)||void 0===k?void 0:k.links)||void 0===w?void 0:w.avatar)||void 0===S?void 0:S.href,displayName:(null===(I=null===(L=re.issue.data)||void 0===L?void 0:L.assignee)||void 0===I?void 0:I.display_name)||"Unassigned",mention:"",url:""},onChange:se}))),U.createElement(g.A,{item:!0},U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Reporter"))),U.createElement(g.A,{container:!0,spacing:1,direction:"row",alignItems:"center"},U.createElement(g.A,{item:!0},U.createElement(f.A,{src:null===(ee=null===(G=null===(J=null===(T=re.issue.data)||void 0===T?void 0:T.reporter)||void 0===J?void 0:J.links)||void 0===G?void 0:G.avatar)||void 0===ee?void 0:ee.href})),U.createElement(g.A,{item:!0},U.createElement(d.A,null,null===(ne=null===(te=re.issue.data)||void 0===te?void 0:te.reporter)||void 0===ne?void 0:ne.display_name)))),U.createElement(g.A,{item:!0},U.createElement(g.A,{item:!0},U.createElement(d.A,{variant:"h6"},U.createElement("strong",null,"Created"))),U.createElement(g.A,{item:!0},U.createElement(v.Ay,{title:re.issue.data.created_on||"unknown"},U.createElement(d.A,null,re.issue.data.created_on?(0,M.GP)((0,O.H)(re.issue.data.created_on),"yyyy-MM-dd h:mm a"):"")))))))))))}},79698:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(26232),r=n(83220),i=n(84630),l=n(27606),o=n(83182),s=n(96540),c=n(75981),d=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};const m={new:s.createElement(c.A,{appearance:"new",label:"new"}),open:s.createElement(c.A,{appearance:"inprogress",label:"open"}),resolved:s.createElement(c.A,{appearance:"success",label:"resolved"}),"on hold":s.createElement(c.A,{appearance:"default",label:"on hold"}),invalid:s.createElement(c.A,{appearance:"moved",label:"invalid"}),duplicate:s.createElement(c.A,{appearance:"default",label:"duplicate"}),wontfix:s.createElement(c.A,{appearance:"removed",label:"wontfix"}),closed:s.createElement(c.A,{appearance:"default",label:"closed"})},u=e=>{var t;const n=(0,s.useCallback)((t=>d(void 0,void 0,void 0,(function*(){var n,a,r;if(!(null===(n=null===t||void 0===t?void 0:t.target)||void 0===n?void 0:n.value)||(null===(a=null===t||void 0===t?void 0:t.target)||void 0===a?void 0:a.value)!==e.status)try{v(!0),(null===(r=null===t||void 0===t?void 0:t.target)||void 0===r?void 0:r.value)&&(h(t.target.value),yield e.onChange(t.target.value))}finally{v(!1)}}))),[e]),c=(0,a.A)(),[u,v]=(0,s.useState)(!1),[p,h]=(0,s.useState)(e.status);return s.createElement(r.A,{fullWidth:e.fullWidth,label:e.label,select:!0,variant:null!==(t=e.variant)&&void 0!==t?t:"standard",size:"small",value:u?p:e.status,onChange:n},Object.keys(m).map((e=>s.createElement(i.A,{key:e,value:e},s.createElement(l.A,{container:!0,spacing:1,alignItems:"center"},s.createElement(l.A,{item:!0},m[e]),s.createElement(l.A,{item:!0,hidden:!u},s.createElement(o.A,{size:c.typography.fontSize})))))))}},37262:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(27606),r=n(91004),i=n(96540),l=n(8949);const o=e=>i.createElement(a.A,{container:!0,spacing:1,alignItems:"flex-start"},i.createElement(a.A,{item:!0},i.createElement(r.A,{src:e.currentUser.avatarUrl})),i.createElement(a.A,{item:!0,xs:10},i.createElement(a.A,{container:!0,spacing:1,direction:"column"},i.createElement(a.A,{item:!0},i.createElement(l.n,{initialContent:e.initialContent,onSave:e.onSave,onCancel:e.onCancel,fetchUsers:e.fetchUsers})))))},10424:(e,t,n)=>{n.d(t,{g:()=>o});var a=n(96232),r=n(42460),i=n(75437),l=n(96540);const o=e=>{const t=(0,l.useCallback)((()=>e.onClick(e.url)),[e]);return l.createElement(a.Ay,{title:e.tooltip},l.createElement(r.A,{"aria-label":"copy link",onClick:t},l.createElement(i.A,null)))}},75981:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(82096),r=n(33615),i=n(96540);const l=(0,a.A)((e=>({default:{color:"#42526E",backgroundColor:"#DFE1E6",fontWeight:"bold",textTransform:"uppercase"},inprogress:{color:"#0747A6",backgroundColor:"#DEEBFF",fontWeight:"bold",textTransform:"uppercase"},moved:{color:"#172B4D",backgroundColor:"#FFF0B3",fontWeight:"bold",textTransform:"uppercase"},new:{color:"#403294",backgroundColor:"#EAE6FF",fontWeight:"bold",textTransform:"uppercase"},removed:{color:"#BF2600",backgroundColor:"#FFEBE6",fontWeight:"bold",textTransform:"uppercase"},success:{color:"#006644",backgroundColor:"#E3FCEF",fontWeight:"bold",textTransform:"uppercase"}}))),o=({appearance:e,label:t})=>{const n=l();return i.createElement(r.A,{className:n[e],size:"small",label:t})}},8949:(e,t,n)=>{n.d(t,{n:()=>N});var a=n(2948),r=n(82096),i=n(26232),l=n(27606),o=n(26758),s=n(83220),c=n(96746),d=n(83182),m=n(64794),u=n(34647),v=n(65970),p=n(8600),h=n(41651),g=n(12970),A=n(38886),E=n(45356),f=n(93855),b=n(39082),y=n(91239),C=n(43867),k=n(38800),w=n(93524),S=n(96540),L=function(e,t,n,a){return new(n||(n=Promise))((function(r,i){function l(e){try{s(a.next(e))}catch(e){i(e)}}function o(e){try{s(a.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}s((a=a.apply(e,t||[])).next())}))};function R(e,t,n){return new A.fV(e,((e,a,r,i)=>{const l=n instanceof Function?n(a):n,o=e.tr,s=a[0],c=a.length>2?a[1]:"",d=a.length>2?a[2]:a[1];if(d){const e=r+s.indexOf(d),t=e+d.length;t<i&&o.delete(t,i),e>r&&o.delete(r+c.length,e),i=r+c.length+d.length}return o.addMark(r+c.length,i,t.create(l)),o.removeStoredMark(t),o}))}const I=e=>{const t=[];return e.marks.strong&&(t.push(R(/(?:\*\*)([^\*_]+)(?:\*\*|__)$/,e.marks.strong,void 0)),t.push(R(/(?:__)([^_]+)(?:__)$/,e.marks.strong,void 0))),e.marks.em&&(t.push(R(/(^|[^\*])(?:\*)([^\*]+)(?:\*)$/,e.marks.em,void 0)),t.push(R(/(^|[^_])(?:_)([^_]+)(?:_)$/,e.marks.em,void 0))),e.marks.link&&t.push(R(/(^|[^!])\[(.*?)\]\((\S+)\)$/,e.marks.link,(e=>({href:e[3]})))),t.push((0,A.tG)(/^\s*>\s$/,e.nodes.blockquote),(0,A.tG)(/^(\d+)\.\s$/,e.nodes.ordered_list,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order===+e[1])),(0,A.tG)(/^\s*([-+*])\s$/,e.nodes.bullet_list),(0,A.JJ)(/^```$/,e.nodes.code_block),(0,A.JJ)(new RegExp("^(#{1,6})\\s$"),e.nodes.heading,(e=>({level:e[1].length})))),t};var x=new C.Sj({nodes:(0,b.hF)(f.wQ.spec.nodes),marks:f.wQ.spec.marks});const z=new f.K6(Object.assign(Object.assign({},f.lR.nodes),{mention:(e,t)=>{e.write(t.attrs.id)}}),f.lR.marks),M=new f.Fd(x,f.ee.tokenizer,Object.assign({},f.ee.tokens));const O=new k.hs("reactProps");const U=(0,r.A)((e=>({editor:{borderWidth:1,borderStyle:"solid",borderColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",borderRadius:e.shape.borderRadius,"&:hover":{borderColor:e.palette.text.primary},"&:focus-within":{borderColor:e.palette.primary.main,borderWidth:2}}}))),N=e=>{const t=(0,i.A)(),n=U(),r=(0,S.useRef)(null),f=(0,S.useRef)(null),[C,R]=(0,S.useState)(!0),[N,W]=(0,S.useState)(e.initialContent||""),[F,P]=(0,S.useState)("initial"),j=(0,S.useCallback)((e=>{R(e.target.checked)}),[]),_=(0,S.useCallback)((e=>W(e.target.value)),[]),T=(0,S.useCallback)((()=>{var t,n,a;if(C){const e=null===(t=f.current)||void 0===t?void 0:t.state.doc.slice(0),a=f.current.state.tr.delete(0,(null===e||void 0===e?void 0:e.size)||0);null===(n=f.current)||void 0===n||n.dispatch(a)}else W("");null===(a=e.onCancel)||void 0===a||a.call(e)}),[C,e.onCancel]),B=(0,S.useCallback)((()=>L(void 0,void 0,void 0,(function*(){const t=C?z.serialize(f.current.state.doc):N;if(t.trim().length>0)try{P("submitting"),yield e.onSave(t),T()}finally{P("initial")}}))),[e,T,N,C]);return(0,S.useEffect)((()=>{if(f.current)if(C){const e=f.current.state.doc.slice(0),t=f.current.state.tr.replaceWith(0,(null===e||void 0===e?void 0:e.size)||0,M.parse(N));f.current.dispatch(t)}else W(z.serialize(f.current.state.doc))}),[C]),(0,S.useEffect)((()=>{const t=(0,p.Kw)(x),n=[(a=e,new k.k_({key:O,state:{init:()=>a,apply:(e,t)=>e.getMeta(O)||t}})),(0,E.w)((0,p.eu)(x)),(0,E.w)(u.RV),(0,v.A)(),(0,h.z)(),(0,y.Hy)({floating:!1,content:[[t.toggleStrong,t.toggleEm,t.toggleCode],[t.wrapBulletList,t.wrapOrderedList,t.wrapBlockQuote]]}),(0,g.b6)(),(0,A.sM)({rules:I(x)})];var a;e.fetchUsers&&n.unshift((0,b.Z7)({getSuggestions:(t,n,a)=>L(void 0,void 0,void 0,(function*(){if("mention"===t){const t=yield e.fetchUsers(n);a(t.map((e=>({name:e.displayName,id:e.mention,email:e.emailAddress||""}))))}})),getSuggestionsHTML:(e,t)=>"mention"===t?(e=>'<div class="suggestion-item-list">'+e.map((e=>'<div class="suggestion-item">'+e.name+"</div>")).join("")+"</div>")(e):S.createElement(S.Fragment,null)}));const i=k.$t.create({schema:x,doc:M.parse(N),plugins:n}),l=new w.Lz(r.current,{state:i});return f.current=l,()=>l.destroy()}),[]),(0,S.useEffect)((()=>{if(f.current){const t=f.current.state.tr.setMeta(O,e);f.current.dispatch(t)}})),S.createElement(l.A,{container:!0,spacing:1,direction:"column"},S.createElement(l.A,{item:!0},S.createElement(o.A,Object.assign({hidden:!C,minHeight:"8em",className:n.editor},{ref:r})),S.createElement(o.A,{hidden:C,minHeight:"8em"},S.createElement(s.A,{multiline:!0,fullWidth:!0,rows:4,rowsMax:20,value:N,onChange:_}))),S.createElement(l.A,{item:!0},S.createElement(l.A,{container:!0,spacing:1},S.createElement(l.A,{item:!0},S.createElement(c.A,{variant:"contained",color:"primary",onClick:B,disabled:"submitting"===F,endIcon:"submitting"===F?S.createElement(d.A,{color:"inherit",size:t.typography.fontSize}):null},"Save")),S.createElement(l.A,{item:!0},S.createElement(c.A,{variant:"contained",onClick:T},"Cancel")),S.createElement(l.A,{item:!0,xs:!0}),S.createElement(l.A,{item:!0},S.createElement(a.V_,{label:"Rich text editor",control:S.createElement(m.A,{size:"small",color:"primary",checked:C,onChange:j}),spacing:1,variant:"body2"})))))}}}]);