"use strict";(self.webpackChunkatlascode=self.webpackChunkatlascode||[]).push([[196],{6406:(e,t,a)=>{var n;a.d(t,{Bg:()=>r,IH:()=>i,J8:()=>o,M:()=>m,MB:()=>u,Rc:()=>c,jn:()=>d,sR:()=>l}),function(e){e.Update="update",e.Remove="remove"}(n||(n={}));const i={name:"Jira",key:"jira"},r={name:"Bitbucket",key:"bitbucket"};var s,l;!function(e){e.BitbucketCloud="bbcloud",e.BitbucketCloudStaging="bbcloudstaging",e.JiraCloud="jiracloud",e.JiraCloudStaging="jiracloudstaging"}(s||(s={})),function(e){e[e.Valid=0]="Valid",e[e.Invalid=1]="Invalid"}(l||(l={}));const o={id:"",displayName:"",email:"",avatarUrl:""},c={id:"",name:"",avatarUrl:"",host:"",baseLinkUrl:"",baseApiUrl:"",product:{name:"",key:""},isCloud:!0,userId:"",credentialId:""},d={id:"",name:"",avatarUrl:"",scopes:[],baseUrlSuffix:"atlassian.net"},u={user:o,state:l.Valid},m={user:o,username:"",password:"",state:l.Valid};l.Valid},11245:(e,t,a)=>{var n,i,r;a.d(t,{Be:()=>r,Ee:()=>s,Iq:()=>l,MW:()=>n,po:()=>i}),function(e){e.Bug="bug",e.Comment="comment",e.Suggestion="suggestion",e.Question="question",e.Empty=""}(n||(n={})),function(e){e.BitbucketIssueWebview="bitbucketIssueScreen",e.CreateBitbucketIssueWebview="createBitbucketIssueScreen",e.ConfigWebview="atlascodeSettings",e.OnboardingWebview="atlascodeOnboardingScreen",e.WelcomeWebview="atlascodeWelcomeScreen",e.StartWork="startWorkOnIssueScreen",e.PullRequestDetailsWebview="pullRequestDetailsScreen",e.CreatePullRequest="createPullRequestScreen",e.CreateJiraIssueWebview="atlascodeCreateIssueScreen"}(i||(i={})),function(e){e.AtlascodeRepo="atlascodeRepoLink",e.AtlascodeIssues="atlascodeIssuesLink",e.AtlascodeDocs="atlascodeDocsLink",e.Integrations="integrationsLink",e.GettingStarted="gettingStartedLink",e.ReportAnIssue="reportAnIssueLink",e.WhatIsJQL="whatIsJQLLink",e.Contribute="contributeLink",e.TweetAboutUs="tweetaboutus"}(r||(r={}));new Map([[r.AtlascodeRepo,"https://github.com/atlassian/atlascode"],[r.AtlascodeIssues,"https://github.com/atlassian/atlascode/issues"],[r.AtlascodeDocs,"https://confluence.atlassian.com/display/BITBUCKET/Atlassian+for+VS+Code"],[r.Integrations,"https://integrations.atlassian.com"],[r.GettingStarted,"https://confluence.atlassian.com/bitbucket/getting-started-with-vs-code-969520759.html"],[r.ReportAnIssue,"https://github.com/atlassian/atlascode/issues"],[r.WhatIsJQL,"https://www.atlassian.com/blog/jira-software/jql-the-most-flexible-way-to-search-jira-14"],[r.Contribute,"https://github.com/atlassian/atlascode"],[r.TweetAboutUs,`https://twitter.com/intent/tweet?text=${encodeURIComponent("Check out Atlassian's awesome Bitbucket and Jira extension for VS Code! https://marketplace.visualstudio.com/items/Atlassian.atlascode")}`]]);const s={userName:"",emailAddress:""};var l;!function(e){e.VERY="Very disappointed",e.SOMEWHAT="Somewhat disappointed",e.NOT="Not disappointed"}(l||(l={}))},17970:(e,t,a)=>{var n;a.d(t,{P:()=>n}),function(e){e.Error="error",e.OnlineStatus="onlineStatus",e.PMFStatus="pmfStatus",e.UpdateFeatureFlags="updateFeatureFlags"}(n||(n={}))},3119:(e,t,a)=>{a.d(t,{G:()=>l});var n=a(96540),i=a(17970),r=a(94211),s=a(59478);function l(e){const t=(0,n.useMemo)(acquireVsCodeApi,[acquireVsCodeApi]),a=(0,n.useCallback)((e=>{t.postMessage(e)}),[t]),l=(0,n.useCallback)(((e,a,n,r)=>(t.postMessage(e),new Promise(((e,t)=>{const s=setTimeout((()=>{window.removeEventListener("message",l),clearTimeout(s),t(`timeout waiting for event ${a}`)}),n),l=n=>{!n.data.type||!a||n.data.type!==a||r&&n.data.nonce!==r||(clearTimeout(s),window.removeEventListener("message",l),e(n.data)),n.data.type===i.P.Error&&r&&n.data.nonce===r&&(window.removeEventListener("message",l),clearTimeout(s),t(n.data.reason))};window.addEventListener("message",l)})))),[t]),o=(0,n.useContext)(r.Er),c=(0,n.useContext)(s.j8),d=(0,n.useCallback)((t=>{const a=t.data;if(a&&a.type)switch(a.type){case i.P.Error:o.showError(a.reason);break;case i.P.OnlineStatus:break;case i.P.PMFStatus:a.showPMF&&c.showPMFBanner();break;default:e(a)}}),[o,c,e]);return(0,n.useEffect)((()=>(window.addEventListener("message",d),t.postMessage({type:"refresh"}),()=>{window.removeEventListener("message",d)})),[e,d,t]),[a,l]}},42664:(e,t,a)=>{a.r(t),a.d(t,{OnboardingPage:()=>te,default:()=>ae});var n=a(82096),i=a(19773),r=a(29984),s=a(50378),l=a(65146),o=a(24434),c=a(54392),d=a(96746),u=a(96540),m=a(86231),g=a(57756),p=a(88313),b=a(27606),h=a(77690),E=a(11245),k=a(96022),A=a(13154),f=a(26758),C=a(22488);const y=(0,n.A)((e=>({demoBox:{width:"100%",height:"100%",padding:e.spacing(2),paddingBottom:e.spacing(3)},button:{width:"100%",height:"100%",textTransform:"none",backgroundColor:e.palette.background.paper,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary,"&:hover":{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"}},gifBox:{maxWidth:"100%",maxHeight:"auto"},description:{marginTop:"20px"}}))),x=({gifLink:e,description:t,productIcon:a,action:n,onClick:i})=>{const r=y(),[s,l]=(0,u.useState)(!1),o=(0,u.useCallback)((()=>{i(e,t,n)}),[i,t,e,n]),m=(0,u.useCallback)((()=>{l(!0)}),[]);return u.createElement(d.A,{className:r.button,onClick:o},u.createElement(f.A,{className:r.demoBox},u.createElement(f.A,{hidden:s},u.createElement(C.A,{variant:"rect",width:"100%",height:"200px"})),u.createElement(f.A,{hidden:!s},u.createElement("img",{"aria-label":`Gif showing "${t}" action`,className:r.gifBox,src:e,onLoad:m})),u.createElement(c.A,{variant:"h3",align:"left",className:r.description},t," ",a)))};var S,w=a(46158),v=a(9361),I=a(50569);!function(e){e.Login="login",e.Logout="logout",e.SaveSettings="saveSettings",e.CreateJiraIssue="createJiraIssue",e.ViewJiraIssue="viewJiraIssue",e.CreatePullRequest="createPullRequest",e.ViewPullRequest="viewPullRequest",e.ClosePage="closePage",e.OpenSettings="openSettings"}(S||(S={}));var j,L=a(19861),P=a(93784);!function(e){e.Init="init",e.Update="configUpdate",e.SitesUpdate="sitesAvailableUpdate"}(j||(j={}));const B={config:(0,L.Bq)(P.i4),jiraSites:[],bitbucketSites:[],isRemote:!1,target:k.U.User};var N=a(3119);const R=u.createContext({postMessage:e=>{},updateConfig:(e,t)=>{},refresh:()=>{},openLink:e=>{},login:(e,t)=>{},logout:e=>{},createPullRequest:()=>{},viewPullRequest:()=>{},createJiraIssue:()=>{},viewJiraIssue:()=>{},closePage:()=>{},openSettings:(e,t)=>{}}),O=Object.assign(Object.assign({},B),{isSomethingLoading:!1});var T;function J(e,t){switch(t.type){case T.Init:return Object.assign(Object.assign(Object.assign({},e),t.data),{isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0});case T.LocalChange:return Object.assign(Object.assign({},e),{config:Object.assign(Object.assign({},e.config),t.changes)});case T.ConfigChange:return Object.assign(Object.assign({},e),{config:t.config,target:t.target,isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0});case T.SitesUpdate:return Object.assign(Object.assign({},e),{jiraSites:t.jiraSites,bitbucketSites:t.bitbucketSites,isSomethingLoading:!1,isErrorBannerOpen:!1,errorDetails:void 0});case T.Loading:return Object.assign(Object.assign({},e),{isSomethingLoading:!0});default:return(0,v.y)(e,t)}}!function(e){e.Init="init",e.ConfigChange="configChange",e.Loading="loading",e.SitesUpdate="sitesUpdate",e.LocalChange="localChange"}(T||(T={}));const q=(0,n.A)((e=>({landingPageButton:{width:"100%",height:"100%",textTransform:"none",background:e.palette.background.paper,fontSize:50,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary,"&:hover":{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"}},landingPageTextColor:{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary},addSitesIcon:{marginTop:28,fontSize:50,color:"#0052CC"}}))),U=({bitbucketEnabled:e,bitbucketSites:t,jiraEnabled:a,jiraSites:n})=>{const i=q(),r=(0,u.useContext)(R),[s,l]=(0,u.useState)(!1),[o,m]=(0,u.useState)(""),[g,f]=(0,u.useState)(""),[C,y]=(0,u.useState)((()=>()=>{})),S=(0,u.useCallback)(((e,t,a)=>{m(t),f(e),y((()=>a)),l(!0)}),[]),v=(0,u.useCallback)((()=>{l(!1)}),[]),I=(0,u.useCallback)((()=>{C()}),[C]);return u.createElement(u.Fragment,null,u.createElement(w.E,{modalTitle:o,modalGifLink:g,modalVisibility:s,onClose:v,action:I}),u.createElement(b.A,{container:!0,spacing:3,direction:"row",justify:"center"},u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center"},"You're ready to get started! ",u.createElement(h.A,{fontSize:"large",htmlColor:"#07b82b"}))),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h3",align:"center"},"With Atlassian for VS Code, you can create and view issues, start work on issues, create pull requests, do code reviews, start builds, get build statuses and more!"," "),u.createElement(c.A,{variant:"h3",align:"center",style:{marginBottom:"25px"}},u.createElement("b",null,"Press the buttons below to try out a common action!"))),u.createElement(b.A,{container:!0,xs:12,direction:"row",justify:"center",spacing:3},u.createElement(b.A,{hidden:!(a&&n.length>0),item:!0,lg:3,md:5,sm:6,xs:12,alignItems:"flex-end"},u.createElement(x,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/CreateJiraIssue.gif",description:"Create a Jira issue",productIcon:u.createElement(p.cJ,{style:{float:"right",color:"#0052CC"}}),action:r.createJiraIssue,onClick:S})),u.createElement(b.A,{hidden:!(a&&n.length>0),item:!0,lg:3,md:5,sm:6,xs:12,alignItems:"flex-end"},u.createElement(x,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/ReviewJiraIssue.gif",description:"View a Jira issue",productIcon:u.createElement(p.cJ,{style:{float:"right",color:"#0052CC"}}),action:r.viewJiraIssue,onClick:S})),u.createElement(b.A,{hidden:!(e&&t.length>0),item:!0,lg:3,md:5,sm:6,xs:12,alignItems:"flex-end"},u.createElement(x,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/CreatePullRequest.gif",description:"Create a pull request",productIcon:u.createElement(A.A,{color:"primary",style:{float:"right",color:"#0052CC"}}),action:r.createPullRequest,onClick:S})),u.createElement(b.A,{hidden:!(e&&t.length>0),item:!0,lg:3,md:5,sm:6,xs:12,alignItems:"flex-end"},u.createElement(x,{gifLink:"https://product-integrations-cdn.atl-paas.net/atlascode/ReviewAndApprovePullRequest.gif",description:"Review a pull request",productIcon:u.createElement(A.A,{color:"primary",style:{float:"right",color:"#0052CC"}}),action:r.viewPullRequest,onClick:S}))),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center",style:{marginTop:"50px"}},"Need to add more sites?")),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h3",align:"center",style:{marginBottom:"25px"}},"Need to authenticate with multiple sites? We've got you covered.")),u.createElement(b.A,{container:!0,xs:12,direction:"row",justify:"center",spacing:2},u.createElement(b.A,{item:!0,hidden:!a,lg:5,md:8,sm:12,xs:12,alignItems:"flex-end"},u.createElement(d.A,{className:i.landingPageButton,variant:"contained",color:"primary",onClick:()=>r.openSettings(k.AQ.Jira,k.IS.Auth)},u.createElement(b.A,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:1},u.createElement(b.A,{item:!0},"Add Jira Sites"),u.createElement(b.A,{item:!0},u.createElement(p.cJ,{fontSize:"inherit",className:i.addSitesIcon}))))),u.createElement(b.A,{item:!0,hidden:!e,lg:5,md:8,sm:12,xs:12,alignItems:"flex-end"},u.createElement(d.A,{className:i.landingPageButton,variant:"contained",color:"primary",onClick:()=>r.openSettings(k.AQ.Bitbucket,k.IS.Auth)},u.createElement(b.A,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:1},u.createElement(b.A,{item:!0},"Add Bitbucket Sites"),u.createElement(b.A,{item:!0},u.createElement(A.A,{fontSize:"inherit",className:i.addSitesIcon}))))),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center",style:{marginTop:"50px"}},"Supercharge your workflow!")),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h3",align:"center",style:{marginBottom:"25px"}},"Do you use Slack, Google Sheets, Excel, Teams, or Outlook? Check out our other Integrations!")),u.createElement(b.A,{container:!0,xs:12,direction:"row",alignItems:"center",justify:"center"},u.createElement(b.A,{item:!0,lg:5,md:8,sm:12,xs:12},u.createElement(d.A,{onClick:()=>r.openLink(E.Be.Integrations),className:i.landingPageButton},"More Integrations"))))))};var W=a(96232),V=a(23078);const z=(0,n.A)((e=>({buttonInterior:{textAlign:"center",width:"inherit",height:"inherit"},label:{fontSize:70,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary},button:{textTransform:"none",width:"100%",height:"100%",background:e.palette.background.paper},buttonSubtext:{fontSize:30,marginBottom:32,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:e.palette.text.disabled},productIcon:{marginTop:24,fontSize:70},circleCheckIcon:{top:"0px",right:"0px",position:"absolute",margin:"7px",color:"LimeGreen"}}))),M=({label:e,enabled:t,onToggle:a,subtext:n,ProductIcon:i})=>{const r=z(),s=(0,u.useCallback)((()=>{a(!t)}),[t,a]);return u.createElement(W.Ay,{title:t?`Disable ${e} features`:`Enable ${e} features`},u.createElement(V.A,{className:r.button,onClick:s,selected:t},u.createElement(b.A,{container:!0,direction:"column"},u.createElement(b.A,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:1},u.createElement(b.A,{item:!0},u.createElement(c.A,{className:r.label},e)),u.createElement(b.A,{item:!0},u.createElement(f.A,{className:r.productIcon},i))),u.createElement(c.A,{variant:"h2",className:r.buttonSubtext},n)),u.createElement(f.A,{hidden:!t},u.createElement(h.A,{fontSize:"large",className:r.circleCheckIcon}))))},D=(0,n.A)((e=>({root:{flexGrow:1},selectionTitleText:{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary}}))),F=({bitbucketToggleHandler:e,jiraToggleHandler:t,jiraEnabled:a,bitbucketEnabled:n})=>{const i=D();return u.createElement("div",{className:i.root},u.createElement(b.A,{container:!0,spacing:3,justify:"center",alignItems:"stretch"},u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center",className:i.selectionTitleText},"Select the products you want to enable")),u.createElement(b.A,{item:!0,lg:6,md:10,sm:12,xs:12},u.createElement(r.A,{maxWidth:"lg",disableGutters:!0,style:{height:"100%"}},u.createElement(M,{label:"Jira",enabled:a,onToggle:t,subtext:"Create and view Jira issues within VS Code",ProductIcon:u.createElement(p.cJ,{fontSize:"inherit"})}))),u.createElement(b.A,{item:!0,lg:6,md:10,sm:12,xs:12},u.createElement(r.A,{maxWidth:"lg",disableGutters:!0,style:{height:"100%"}},u.createElement(M,{label:"Bitbucket",enabled:n,onToggle:e,subtext:"Pull requests, issues, and pipelines all within VS Code",ProductIcon:u.createElement(A.A,{color:"primary",fontSize:"inherit"})}))),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h3",align:"center"},"Products can be enabled/disabled later in the extension settings"))))};var G=a(6406),H=a(29287);const Q=(0,n.A)((e=>({box:{textAlign:"center",width:"inherit",height:"inherit"},label:{fontSize:70,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"},productIcon:{marginTop:16,fontSize:70,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"},button:{padding:0,textTransform:"none",width:"100%",height:"100%",textAlign:"center",backgroundColor:"dark"===e.palette.type?e.palette.primary.dark:e.palette.primary.light},buttonSubtext:{fontSize:30,marginBottom:30,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:e.palette.text.disabled}}))),$=({product:e})=>{const t=Q(),a=(0,u.useContext)(R),n=(0,u.useCallback)((()=>{const t=e.key===G.IH.key?"atlassian.net":"bitbucket.org";a.login({host:t,product:e},{user:G.J8,state:G.sR.Valid})}),[a,e]);return u.createElement(W.Ay,{title:"Opens a browser window to log in via OAuth"},u.createElement(d.A,{variant:"contained",color:"primary",className:t.button,onClick:n},u.createElement(b.A,{container:!0,direction:"column"},u.createElement(b.A,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:3},u.createElement(b.A,{item:!0},u.createElement(c.A,{className:t.label},e.name)),u.createElement(b.A,{item:!0},u.createElement(c.A,{className:t.label},"Cloud")),u.createElement(b.A,{item:!0},u.createElement(H.A,{className:t.productIcon}))),u.createElement(c.A,{variant:"h2",className:t.buttonSubtext},"For most of our users"))))};var Y=a(13839);const K=(0,n.A)((e=>({box:{textAlign:"center",width:"inherit",height:"inherit",backgroundColor:"inherit"},label:{fontSize:70},productIcon:{marginTop:16,fontSize:70},button:{textTransform:"none",width:"100%",height:"100%",background:e.palette.action.disabled,color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary,"&:hover":{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"}},buttonSubtext:{fontSize:30,marginBottom:32,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:e.palette.text.disabled}}))),X=({product:e})=>{const t=K(),a=(0,u.useContext)(g.y),n=(0,u.useCallback)((()=>{a.openDialog(e,void 0)}),[a,e]);return u.createElement(W.Ay,{title:"Opens a dialog window to log in with custom instance"},u.createElement(d.A,{variant:"contained",className:t.button,onClick:n},u.createElement(b.A,{container:!0,direction:"column"},u.createElement(b.A,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:3},u.createElement(b.A,{item:!0},u.createElement(c.A,{className:t.label},"Custom")),u.createElement(b.A,{item:!0},u.createElement(c.A,{className:t.label},e.name)),u.createElement(b.A,{item:!0},u.createElement(Y.A,{className:t.productIcon}))),u.createElement(c.A,{variant:"h2",className:t.buttonSubtext},"For users with custom servers"))))},Z=(0,n.A)((e=>({root:{flexGrow:1}}))),_=({enableBitbucket:e,enableJira:t,bitbucketSites:a,jiraSites:n,onFinished:i})=>{const s=Z(),l=!e||a.length>0,o=!t||n.length>0;return l&&o&&i(),u.createElement("div",{className:s.root},u.createElement(b.A,{container:!0,justify:"center",spacing:3},u.createElement(b.A,{hidden:o,item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center"},"Authenticate with ",G.IH.name)),u.createElement(b.A,{hidden:o,item:!0,lg:6,md:12,sm:12,xs:12,alignItems:"flex-end"},u.createElement($,{product:G.IH})),u.createElement(b.A,{hidden:o,item:!0,lg:6,md:12,sm:12,xs:12,alignItems:"flex-end"},u.createElement(X,{product:G.IH})),u.createElement(b.A,{hidden:!o||l,item:!0,xs:12},u.createElement(c.A,{variant:"h1",align:"center"},"Authenticate with ",G.Bg.name)),u.createElement(b.A,{hidden:!o||l,item:!0,lg:6,md:12,sm:12,xs:12,alignItems:"flex-end"},u.createElement(r.A,{maxWidth:"lg",disableGutters:!0,style:{height:"100%"}},u.createElement($,{product:G.Bg}))),u.createElement(b.A,{hidden:!o||l,item:!0,lg:6,md:12,sm:12,xs:12,alignItems:"flex-end"},u.createElement(r.A,{maxWidth:"lg",disableGutters:!0,style:{height:"100%"}},u.createElement(X,{product:G.Bg}))),u.createElement(b.A,{item:!0,xs:12},u.createElement(c.A,{variant:"h3",align:"center"},"Additional sites can be added later"))))},ee=(0,n.A)((e=>({root:{width:"100%",marginTop:e.spacing(3)},button:{marginRight:e.spacing(1)},backButton:{marginRight:e.spacing(1),color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):e.palette.text.primary,"&:hover":{color:"dark"===e.palette.type?(0,i.a)(e.palette.text.primary,1):"white"}},pageContent:{marginTop:e.spacing(5),marginBottom:e.spacing(4)}})));const te=()=>{const e=ee(),[t,a]=(0,u.useState)({}),[n,i]=function(){const[e,t]=(0,u.useReducer)(J,O),a=(0,u.useCallback)((e=>{switch(e.type){case j.Init:t({type:T.Init,data:e});break;case j.Update:t({type:T.ConfigChange,config:e.config,target:e.target});break;case j.SitesUpdate:t({type:T.SitesUpdate,jiraSites:e.jiraSites,bitbucketSites:e.bitbucketSites});break;default:(0,v.z)(e)}}),[]),[n]=(0,N.G)(a),i=(0,u.useCallback)(((a,i)=>{t({type:T.LocalChange,changes:a}),n({type:S.SaveSettings,changes:a,removes:i,target:e.target})}),[n,e.target]),r=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:I.I.Refresh})}),[n]),s=(0,u.useCallback)((e=>n({type:I.I.ExternalLink,source:E.po.OnboardingWebview,linkId:e})),[n]),l=(0,u.useCallback)(((e,a)=>{t({type:T.Loading}),n({type:S.Login,siteInfo:e,authInfo:a})}),[n]),o=(0,u.useCallback)((e=>{t({type:T.Loading}),n({type:S.Logout,siteInfo:e})}),[n]),c=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:S.CreatePullRequest})}),[n]),d=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:S.ViewPullRequest})}),[n]),m=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:S.CreateJiraIssue})}),[n]),g=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:S.ViewJiraIssue})}),[n]),p=(0,u.useCallback)((()=>{t({type:T.Loading}),n({type:S.ClosePage})}),[n]),b=(0,u.useCallback)(((e,a)=>{t({type:T.Loading}),n({type:S.OpenSettings,section:e,subsection:a})}),[n]),h=(0,u.useMemo)((()=>({postMessage:n,updateConfig:i,refresh:r,openLink:s,login:l,logout:o,createJiraIssue:m,createPullRequest:c,viewPullRequest:d,viewJiraIssue:g,closePage:p,openSettings:b})),[i,l,o,s,n,r,m,c,d,g,p,b]);return[e,h]}(),{authDialogController:p,authDialogOpen:b,authDialogProduct:h,authDialogEntry:k}=(0,g.A)(),[A,f]=u.useState(0),C=["Select Products","Authenticate","Explore"],y=(0,u.useCallback)((()=>{f((e=>e+1))}),[]),x=(0,u.useCallback)((()=>{f(2===A?e=>e-2:e=>e-1)}),[A]),w=(0,u.useCallback)((()=>{f(0)}),[]),L=(0,u.useCallback)((e=>{const t=Object.create(null);t["jira.enabled"]=e,a(t)}),[]),P=(0,u.useCallback)((e=>{const t=Object.create(null);t["bitbucket.enabled"]=e,a(t)}),[]),B=(0,u.useCallback)((()=>{i.openSettings()}),[i]),q=(0,u.useCallback)((()=>{i.closePage()}),[i]),W=(0,u.useCallback)(((e,t)=>{i.login(e,t)}),[i]),V=(0,u.useCallback)((()=>{p.onExited()}),[p]),z=(0,u.useCallback)((()=>{p.close()}),[p]);(0,u.useEffect)((()=>{Object.keys(t).length>0&&(i.updateConfig(t),a({}))}),[t,i]);return u.createElement(R.Provider,{value:i},u.createElement(g.y.Provider,{value:p},u.createElement(r.A,{maxWidth:"xl"},u.createElement("div",{className:e.root},u.createElement(s.A,{activeStep:A},C.map((e=>u.createElement(l.A,Object.assign({key:e},{}),u.createElement(o.A,Object.assign({},{}),e))))),u.createElement("div",null,A===C.length?u.createElement("div",null,u.createElement(c.A,{className:e.pageContent},"All steps completed - you're finished"),u.createElement(d.A,{onClick:w,className:e.button},"Reset")):u.createElement("div",null,u.createElement("div",{className:e.pageContent},(e=>{switch(e){case 0:return u.createElement(F,{bitbucketToggleHandler:P,jiraToggleHandler:L,jiraEnabled:n.config["jira.enabled"],bitbucketEnabled:n.config["bitbucket.enabled"]});case 1:return u.createElement(_,{enableBitbucket:n.config["bitbucket.enabled"],enableJira:n.config["jira.enabled"],bitbucketSites:n.bitbucketSites,jiraSites:n.jiraSites,onFinished:y});case 2:return u.createElement(U,{bitbucketEnabled:n.config["bitbucket.enabled"],jiraEnabled:n.config["jira.enabled"],bitbucketSites:n.bitbucketSites,jiraSites:n.jiraSites});default:return"Unknown step"}})(A)),u.createElement("div",{style:{float:"right",marginBottom:"30px"}},u.createElement(d.A,{disabled:0===A,onClick:x,className:e.backButton},"Back"),2!==A&&u.createElement(d.A,{variant:"contained",color:"primary",onClick:y,className:e.button,disabled:!n.config["bitbucket.enabled"]&&!n.config["jira.enabled"]},1===A?"Skip":"Next"),2===A&&u.createElement(u.Fragment,null,u.createElement(d.A,{variant:"contained",color:"primary",onClick:B,className:e.button},"Open Extension Settings"),u.createElement(d.A,{variant:"contained",color:"primary",onClick:q,className:e.button},"Finish"))))))),u.createElement(m.H,{product:h,doClose:z,authEntry:k,open:b,save:W,onExited:V})))},ae=te}}]);