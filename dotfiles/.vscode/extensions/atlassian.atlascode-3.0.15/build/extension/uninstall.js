/*! For license information please see uninstall.js.LICENSE.txt */
(()=>{var e,t={91:(e,t,n)=>{"use strict";function r(e,t){return new Promise((function(n,r){var i=setTimeout((function(){r(Error("Promise timed out"))}),t);e.then((function(e){return clearTimeout(i),n(e)})).catch(r)}))}function i(e){return new Promise((function(t){return setTimeout(t,e)}))}function o(e,t,n){return i(n).then((function(){return r(function(){try{return Promise.resolve(t(e))}catch(e){return Promise.reject(e)}}(),1e3)})).catch((function(t){null==e||e.log("warn","Callback Error",{error:t}),null==e||e.stats.increment("callback_error")})).then((function(){return e}))}n.r(t),n.d(t,{Analytics:()=>Ue,Context:()=>Ae,FetchHTTPClient:()=>Fe,default:()=>Ne});var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var d=function(e){function t(t,n){var r=e.call(this,"".concat(t," ").concat(n))||this;return r.field=t,r}return a(t,e),t}(Error);const p="2.1.3";function h(e){var t=Math.random()+1,n=e.minTimeout,r=void 0===n?500:n,i=e.factor,o=void 0===i?2:i,s=e.attempt,a=e.maxTimeout,u=void 0===a?1/0:a;return Math.min(t*r*Math.pow(o,s),u)}for(var g,m=256,v=[];m--;)v[m]=(m+256).toString(16).substring(1);function y(){var e,t=0,n="";if(!g||m+16>256){for(g=Array(t=256);t--;)g[t]=256*Math.random()|0;t=m=0}for(;t<16;t++)e=g[m+t],n+=6==t?v[15&e|64]:8==t?v[63&e|128]:v[e],1&t&&t>1&&t<11&&(n+="-");return m++,n}class b{id=y();items=[];sizeInBytes=0;maxEventCount;constructor(e){this.maxEventCount=Math.max(1,e)}tryAdd(e){if(this.length===this.maxEventCount)return{success:!1,message:`Event limit of ${this.maxEventCount} has been exceeded.`};const t=this.calculateSize(e.context);return t>32768?{success:!1,message:"Event exceeds maximum event size of 32 KB"}:this.sizeInBytes+t>491520?{success:!1,message:"Event has caused batch size to exceed 480 KB"}:(this.items.push(e),this.sizeInBytes+=t,{success:!0})}get length(){return this.items.length}calculateSize(e){return encodeURI(JSON.stringify(e.event)).split(/%..|i/).length}getEvents(){return this.items.map((({context:e})=>e.event))}getContexts(){return this.items.map((e=>e.context))}resolveEvents(){this.items.forEach((({resolver:e,context:t})=>e(t)))}}const w=require("node:crypto"),_=require("node:buffer");const k=e=>_.Buffer.from(e).toString("base64url"),I=require("node:util");class E extends Error{static get code(){return"ERR_JOSE_GENERIC"}code="ERR_JOSE_GENERIC";constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class x extends E{static get code(){return"ERR_JOSE_NOT_SUPPORTED"}code="ERR_JOSE_NOT_SUPPORTED"}class T extends E{static get code(){return"ERR_JWS_INVALID"}code="ERR_JWS_INVALID"}class S extends E{static get code(){return"ERR_JWT_INVALID"}code="ERR_JWT_INVALID"}Symbol.asyncIterator;const j=w.webcrypto,A=e=>I.types.isCryptoKey(e),P=e=>I.types.isKeyObject(e);function C(e,t,...n){if((n=n.filter(Boolean)).length>2){const t=n.pop();e+=`one of type ${n.join(", ")}, or ${t}.`}else 2===n.length?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const O=(e,...t)=>C("Key must be ",e,...t);function R(e,t,...n){return C(`Key for the ${e} algorithm must be `,t,...n)}const q=e=>P(e)||A(e),B=["KeyObject"];function M(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}function D(e){return M(e)&&"string"==typeof e.kty}(globalThis.CryptoKey||j?.CryptoKey)&&B.push("CryptoKey"),new WeakMap;const $=(e,t)=>{let n;if(A(e))n=w.KeyObject.from(e);else{if(!P(e)){if(D(e))return e.crv;throw new TypeError(O(e,...B))}n=e}if("secret"===n.type)throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(n.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${n.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${n.asymmetricKeyType.slice(1)}`;case"ec":{const e=n.asymmetricKeyDetails.namedCurve;return t?e:(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new x("Unsupported key curve for this operation")}})(e)}default:throw new TypeError("Invalid asymmetric key type for this operation")}},W=(e,t)=>{let n;try{n=e instanceof w.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof n||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},H=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function J(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function F(e,t){return e.name===t}function L(e){return parseInt(e.name.slice(4),10)}function U(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!F(e.algorithm,"HMAC"))throw J("HMAC");const n=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==n)throw J(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!F(e.algorithm,"RSASSA-PKCS1-v1_5"))throw J("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==n)throw J(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!F(e.algorithm,"RSA-PSS"))throw J("RSA-PSS");const n=parseInt(t.slice(2),10);if(L(e.algorithm.hash)!==n)throw J(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw J("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!F(e.algorithm,"ECDSA"))throw J("ECDSA");const n=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==n)throw J(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}!function(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}(e,n)}const N=(0,I.promisify)(w.sign),K=new TextEncoder,z=new TextDecoder;const V=e=>e?.[Symbol.toStringTag],G=(e,t,n)=>{if(void 0!==t.use&&"sig"!==t.use)throw new TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&!0!==t.key_ops.includes?.(n))throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(void 0!==t.alg&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0};function X(e,t,n,r){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?((e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&D(t)){if(function(e){return D(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&G(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!q(t))throw new TypeError(R(e,t,...B,"Uint8Array",r?"JSON Web Key":null));if("secret"!==t.type)throw new TypeError(`${V(t)} instances for symmetric algorithms must be of type "secret"`)}})(t,n,r,e):((e,t,n,r)=>{if(r&&D(t))switch(n){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&G(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&G(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!q(t))throw new TypeError(R(e,t,...B,r?"JSON Web Key":null));if("secret"===t.type)throw new TypeError(`${V(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===n&&"public"===t.type)throw new TypeError(`${V(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===n&&"public"===t.type)throw new TypeError(`${V(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError(`${V(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError(`${V(t)} instances for asymmetric algorithm encryption must be of type "public"`)})(t,n,r,e)}X.bind(void 0,!1);const Z=X.bind(void 0,!0);class Y{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new T("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!((...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let n;for(const e of t){const t=Object.keys(e);if(n&&0!==n.size)for(const e of t){if(n.has(e))return!1;n.add(e)}else n=new Set(t)}return!0})(this._protectedHeader,this._unprotectedHeader))throw new T("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader};let r=!0;if(function(e,t,n,r,i){if(void 0!==i.crit&&void 0===r?.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of r.crit){if(!o.has(t))throw new x(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===r[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(r.crit)}(T,new Map([["b64",!0]]),t?.crit,this._protectedHeader,n).has("b64")&&(r=this._protectedHeader.b64,"boolean"!=typeof r))throw new T('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=n;if("string"!=typeof i||!i)throw new T('JWS "alg" (Algorithm) Header Parameter missing or invalid');Z(i,e,"sign");let o,s=this._payload;r&&(s=K.encode(k(s))),o=this._protectedHeader?K.encode(k(JSON.stringify(this._protectedHeader))):K.encode("");const a=function(...e){const t=e.reduce(((e,{length:t})=>e+t),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o,K.encode("."),s),u=await(async(e,t,n)=>{const r=function(e,t){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(O(t,...B));return(0,w.createSecretKey)(t)}if(t instanceof w.KeyObject)return t;if(A(t))return U(t,e,"sign"),w.KeyObject.from(t);if(D(t))return e.startsWith("HS")?(0,w.createSecretKey)(Buffer.from(t.k,"base64url")):t;throw new TypeError(O(t,...B,"Uint8Array","JSON Web Key"))}(e,t);if(e.startsWith("HS")){const t=w.createHmac(function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new x(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),r);return t.update(n),t.digest()}return N(function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new x(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}(e),n,function(e,t){let n,r,i,o;if(t instanceof w.KeyObject)n=t.asymmetricKeyType,r=t.asymmetricKeyDetails;else switch(i=!0,t.kty){case"RSA":n="rsa";break;case"EC":n="ec";break;case"OKP":if("Ed25519"===t.crv){n="ed25519";break}if("Ed448"===t.crv){n="ed448";break}throw new TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw new TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(n))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==n)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");W(t,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===n){const{hashAlgorithm:t,mgf1HashAlgorithm:n,saltLength:i}=r,o=parseInt(e.slice(-3),10);if(void 0!==t&&(t!==`sha${o}`||n!==t))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>o>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==n)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");W(t,e),o={padding:w.constants.RSA_PKCS1_PSS_PADDING,saltLength:w.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==n)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");const r=$(t),i=H.get(e);if(r!==i)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${i}, got ${r}`);o={dsaEncoding:"ieee-p1363"};break}default:throw new x(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return i?{format:"jwk",key:t,...o}:o?{...o,key:t}:t}(e,r))})(i,e,a),c={signature:k(u),payload:""};return r&&(c.payload=z.decode(s)),this._unprotectedHeader&&(c.header=this._unprotectedHeader),this._protectedHeader&&(c.protected=z.decode(o)),c}}class Q{_flattened;constructor(e){this._flattened=new Y(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const n=await this._flattened.sign(e,t);if(void 0===n.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}const ee=e=>Math.floor(e.getTime()/1e3),te=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ne=e=>{const t=te.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]);let r;switch(t[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":r=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":r=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":r=Math.round(3600*n);break;case"day":case"days":case"d":r=Math.round(86400*n);break;case"week":case"weeks":case"w":r=Math.round(604800*n);break;default:r=Math.round(31557600*n)}return"-"===t[1]||"ago"===t[4]?-r:r};function re(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class ie{_payload;constructor(e={}){if(!M(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:re("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:re("setNotBefore",ee(e))}:this._payload={...this._payload,nbf:ee(new Date)+ne(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:re("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:re("setExpirationTime",ee(e))}:this._payload={...this._payload,exp:ee(new Date)+ne(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:ee(new Date)}:e instanceof Date?this._payload={...this._payload,iat:re("setIssuedAt",ee(e))}:this._payload="string"==typeof e?{...this._payload,iat:re("setIssuedAt",ee(new Date)+ne(e))}:{...this._payload,iat:re("setIssuedAt",e)},this}}class oe extends ie{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){const n=new Q(K.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new S("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}var se=function(){function e(e){var t;this.callbacks={},this.warned=!1,this.maxListeners=null!==(t=null==e?void 0:e.maxListeners)&&void 0!==t?t:10}return e.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(e,t){return this.callbacks[e]?(this.callbacks[e].push(t),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[t],this},e.prototype.once=function(e,t){var n=this,r=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];n.off(e,r),t.apply(n,i)};return this.on(e,r),this},e.prototype.off=function(e,t){var n,r=(null!==(n=this.callbacks[e])&&void 0!==n?n:[]).filter((function(e){return e!==t}));return this.callbacks[e]=r,this},e.prototype.emit=function(e){for(var t,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return(null!==(t=this.callbacks[e])&&void 0!==t?t:[]).forEach((function(e){e.apply(n,r)})),this},e}();class ae{alg="RS256";grantType="client_credentials";clientAssertionType="urn:ietf:params:oauth:client-assertion-type:jwt-bearer";clientId;clientKey;keyId;scope;authServer;httpClient;maxRetries;clockSkewInSeconds=0;accessToken;tokenEmitter=new se;retryCount;pollerTimer;constructor(e){this.keyId=e.keyId,this.clientId=e.clientId,this.clientKey=e.clientKey,this.authServer=e.authServer??"https://oauth2.segment.io",this.scope=e.scope??"tracking_api:write",this.httpClient=e.httpClient,this.maxRetries=e.maxRetries,this.tokenEmitter.on("access_token",(e=>{"token"in e&&(this.accessToken=e.token)})),this.retryCount=0}stopPoller(){clearTimeout(this.pollerTimer)}async pollerLoop(){let e,t=25;try{e=await this.requestAccessToken()}catch(e){return this.handleTransientError({error:e})}if(!(e=>"function"==typeof e.text)(e))return this.handleInvalidCustomResponse();const n=function(e){const t={};if(!e)return{};if("object"==typeof(n=e)&&null!==n&&"entries"in Object(n)&&"function"==typeof Object(n).entries){for(const[n,r]of e.entries())t[n.toLowerCase()]=r;return t}var n;for(const[n,r]of Object.entries(e))t[n.toLowerCase()]=r;return t}(e.headers);if(n.date&&this.updateClockSkew(Date.parse(n.date)),200!==e.status)return 429===e.status?await this.handleRateLimited(e,n,t):[400,401,415].includes(e.status)?this.handleUnrecoverableErrors(e):this.handleTransientError({error:new Error(`[${e.status}] ${e.statusText}`)});try{const n=await e.text(),i=JSON.parse(n);if(r=i,!Boolean(r&&"object"==typeof r&&"access_token"in r&&"expires_in"in r&&"string"==typeof r.access_token&&"number"==typeof r.expires_in))throw new Error("Response did not contain a valid access_token and expires_in");return i.expires_at=Math.round(Date.now()/1e3)+i.expires_in,this.tokenEmitter.emit("access_token",{token:i}),this.retryCount=0,t=i.expires_in/2*1e3,this.queueNextPoll(t)}catch(e){return this.handleTransientError({error:e,forceEmitError:!0})}var r}handleTransientError({error:e,forceEmitError:t}){this.incrementRetries({error:e,forceEmitError:t});const n=h({attempt:this.retryCount,minTimeout:25,maxTimeout:1e3});this.queueNextPoll(n)}handleInvalidCustomResponse(){this.tokenEmitter.emit("access_token",{error:new Error("HTTPClient does not implement response.text method")})}async handleRateLimited(e,t,n){if(this.incrementRetries({error:new Error(`[${e.status}] ${e.statusText}`)}),t["x-ratelimit-reset"]){const e=parseInt(t["x-ratelimit-reset"],10);n=isFinite(e)?e-Date.now()+1e3*this.clockSkewInSeconds:5e3,await i(n),n=0}this.queueNextPoll(n)}handleUnrecoverableErrors(e){this.retryCount=0,this.tokenEmitter.emit("access_token",{error:new Error(`[${e.status}] ${e.statusText}`)}),this.stopPoller()}updateClockSkew(e){this.clockSkewInSeconds=(Date.now()-e)/1e3}incrementRetries({error:e,forceEmitError:t}){this.retryCount++,(t||this.retryCount%this.maxRetries==0)&&(this.retryCount=0,this.tokenEmitter.emit("access_token",{error:e}))}queueNextPoll(e){this.pollerTimer=setTimeout((()=>this.pollerLoop()),e),this.pollerTimer.unref&&this.pollerTimer.unref()}async requestAccessToken(){const e=y(),t=Math.round(Date.now()/1e3)-this.clockSkewInSeconds,n={iss:this.clientId,sub:this.clientId,aud:this.authServer,iat:t-5,exp:t+55,jti:e},r=await async function(e){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return t=e,(0,w.createPrivateKey)({key:_.Buffer.from(t.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});var t}(this.clientKey),i=await new oe(n).setProtectedHeader({alg:this.alg,kid:this.keyId,typ:"JWT"}).sign(r),o=`grant_type=${this.grantType}&client_assertion_type=${this.clientAssertionType}&client_assertion=${i}&scope=${this.scope}`,s={method:"POST",url:`${this.authServer}/token`,body:o,headers:{"Content-Type":"application/x-www-form-urlencoded"},httpRequestTimeout:1e4};return this.httpClient.makeRequest(s)}async getAccessToken(){return this.isValidToken(this.accessToken)?this.accessToken:(this.stopPoller(),this.pollerLoop().catch((()=>{})),new Promise(((e,t)=>{this.tokenEmitter.once("access_token",(n=>{"token"in n?e(n.token):t(n.error)}))})))}clearToken(){this.accessToken=void 0}isValidToken(e){return null!=e&&e.expires_in<Date.now()/1e3}}function ue(e){return new Promise((t=>setTimeout(t,e)))}function ce(){}class le{constructor({host:e,path:t,maxRetries:n,flushAt:r,flushInterval:i,writeKey:o,httpRequestTimeout:s,httpClient:a,disable:u,oauthSettings:c},l){var f,d;this._emitter=l,this._maxRetries=n,this._flushAt=Math.max(r,1),this._flushInterval=i,this._url=((e,t)=>new URL(t||"",e).href.replace(/\/$/,""))(null!=e?e:"https://api.segment.io",null!=t?t:"/v1/batch"),this._httpRequestTimeout=null!=s?s:1e4,this._disable=Boolean(u),this._httpClient=a,this._writeKey=o,c&&(this._tokenManager=new ae(Object.assign(Object.assign({},c),{httpClient:null!==(f=c.httpClient)&&void 0!==f?f:a,maxRetries:null!==(d=c.maxRetries)&&void 0!==d?d:n})))}createBatch(){this.pendingFlushTimeout&&clearTimeout(this.pendingFlushTimeout);const e=new b(this._flushAt);return this._batch=e,this.pendingFlushTimeout=setTimeout((()=>{e===this._batch&&(this._batch=void 0),this.pendingFlushTimeout=void 0,e.length&&this.send(e).catch(ce)}),this._flushInterval),e}clearBatch(){this.pendingFlushTimeout&&clearTimeout(this.pendingFlushTimeout),this._batch=void 0}flush(e){e?(this._flushPendingItemsCount=e,this._batch&&this._batch.length===e&&(this.send(this._batch).catch(ce).finally((()=>{this._tokenManager&&this._tokenManager.stopPoller()})),this.clearBatch())):this._tokenManager&&this._tokenManager.stopPoller()}enqueue(e){var t;const n=null!==(t=this._batch)&&void 0!==t?t:this.createBatch(),{promise:r,resolve:i}=function(){var e,t,n=!1,r=new Promise((function(r,i){e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,r.apply(void 0,e)},t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n=!0,i.apply(void 0,e)}}));return{resolve:e,reject:t,promise:r,isSettled:function(){return n}}}(),o={context:e,resolver:i};if(n.tryAdd(o).success){const e=n.length===this._flushPendingItemsCount;return(n.length===this._flushAt||e)&&(this.send(n).catch(ce),this.clearBatch()),r}n.length&&(this.send(n).catch(ce),this.clearBatch());const s=this.createBatch(),a=s.tryAdd(o);return a.success?(s.length===this._flushPendingItemsCount&&(this.send(s).catch(ce),this.clearBatch()),r):(e.setFailedDelivery({reason:new Error(a.message)}),Promise.resolve(e))}send(e){return t=this,n=void 0,i=function*(){this._flushPendingItemsCount&&(this._flushPendingItemsCount-=e.length);const t=e.getEvents(),n=this._maxRetries+1;let r=0;for(;r<n;){let i,o;r++;try{if(this._disable)return e.resolveEvents();let n;if(this._tokenManager){const e=yield this._tokenManager.getAccessToken();e&&e.access_token&&(n=`Bearer ${e.access_token}`)}const r=Object.assign({"Content-Type":"application/json","User-Agent":"analytics-node-next/latest"},n?{Authorization:n}:{}),s={url:this._url,method:"POST",headers:r,body:JSON.stringify({batch:t,writeKey:this._writeKey,sentAt:new Date}),httpRequestTimeout:this._httpRequestTimeout};this._emitter.emit("http_request",{body:s.body,method:s.method,url:s.url,headers:s.headers});const a=yield this._httpClient.makeRequest(s);if(a.status>=200&&a.status<300)return void e.resolveEvents();if(!this._tokenManager||400!==a.status&&401!==a.status&&403!==a.status){if(400===a.status)return void fe(e,new Error(`[${a.status}] ${a.statusText}`));if(429===a.status){if(a.headers&&"x-ratelimit-reset"in a.headers){const e=parseInt(a.headers["x-ratelimit-reset"],10);isFinite(e)&&(i=e-Date.now())}o=new Error(`[${a.status}] ${a.statusText}`)}else o=new Error(`[${a.status}] ${a.statusText}`)}else this._tokenManager.clearToken(),o=new Error(`[${a.status}] ${a.statusText}`)}catch(e){o=e}if(r===n)return void fe(e,o);yield ue(i||h({attempt:r,minTimeout:25,maxTimeout:1e3}))}},new((r=void 0)||(r=Promise))((function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}function fe(e,t){e.getContexts().forEach((e=>e.setFailedDelivery({reason:t}))),e.resolveEvents()}const de=()=>"object"==typeof process&&process&&"object"==typeof process.env&&process.env&&"string"==typeof process.version?"node":"object"==typeof window?"browser":"undefined"!=typeof WebSocketPair?"cloudflare-worker":"string"==typeof EdgeRuntime?"vercel-edge":"undefined"!=typeof WorkerGlobalScope&&"function"==typeof importScripts?"web-worker":"unknown";function pe(e){function t(t){return function(e){e.updateEvent("context.library.name","@segment/analytics-node"),e.updateEvent("context.library.version",p);const t=de();"node"===t&&e.updateEvent("_metadata.nodeVersion",process.version),e.updateEvent("_metadata.jsRuntime",t)}(t),e.enqueue(t)}return{name:"Segment.io",type:"destination",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),alias:t,group:t,identify:t,page:t,screen:t,track:t}}function he(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,s=t.length,a=e;o<s&&"__proto__"!=(i=""+t[o++])&&"constructor"!==i&&"prototype"!==i;)a=a[i]=o===s?n:typeof(r=a[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}function ge(e){return"string"==typeof e}function me(e){return null!=e}function ve(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var ye="is not a string",be="is not an object",we="is nil";var _e=function(e){var t,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=null!==(t=e.onEventMethodCall)&&void 0!==t?t:function(){},this.onFinishedEvent=null!==(n=e.onFinishedEvent)&&void 0!==n?n:function(){}},ke=function(){function e(e){this.settings=new _e(e)}return e.prototype.track=function(e,t,n,r){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(u(u({},this.baseEvent()),{event:e,type:"track",properties:null!=t?t:{},options:u({},n),integrations:u({},r)}))},e.prototype.page=function(e,t,n,r,i){var o;this.settings.onEventMethodCall({type:"page",options:r});var s={type:"page",properties:u({},n),options:u({},r),integrations:u({},i)};return null!==e&&(s.category=e,s.properties=null!==(o=s.properties)&&void 0!==o?o:{},s.properties.category=e),null!==t&&(s.name=t),this.normalize(u(u({},this.baseEvent()),s))},e.prototype.screen=function(e,t,n,r,i){this.settings.onEventMethodCall({type:"screen",options:r});var o={type:"screen",properties:u({},n),options:u({},r),integrations:u({},i)};return null!==e&&(o.category=e),null!==t&&(o.name=t),this.normalize(u(u({},this.baseEvent()),o))},e.prototype.identify=function(e,t,n,r){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(u(u({},this.baseEvent()),{type:"identify",userId:e,traits:null!=t?t:{},options:u({},n),integrations:r}))},e.prototype.group=function(e,t,n,r){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(u(u({},this.baseEvent()),{type:"group",traits:null!=t?t:{},options:u({},n),integrations:u({},r),groupId:e}))},e.prototype.alias=function(e,t,n,r){this.settings.onEventMethodCall({type:"alias",options:n});var i={userId:e,type:"alias",options:u({},n),integrations:u({},r)};return null!==t&&(i.previousId=t),void 0===e?this.normalize(u(u({},i),this.baseEvent())):this.normalize(u(u({},this.baseEvent()),i))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(e){var t,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var r=Object.keys(e),i=null!==(t=e.context)&&void 0!==t?t:{},o={};return r.forEach((function(t){"context"!==t&&(n.includes(t)?he(o,t,e[t]):he(i,t,e[t]))})),[i,o]},e.prototype.normalize=function(e){var t,n,r,i,o=Object.keys(null!==(t=e.integrations)&&void 0!==t?t:{}).reduce((function(t,n){var r,i;return u(u({},t),((r={})[n]=Boolean(null===(i=e.integrations)||void 0===i?void 0:i[n]),r))}),{});e.options=(r=e.options||{},i=function(e,t){return void 0!==t},Object.keys(r).filter((function(e){return i(0,r[e])})).reduce((function(e,t){return e[t]=r[t],e}),{}));var s=u(u({},o),null===(n=e.options)||void 0===n?void 0:n.integrations),a=e.options?this.context(e.options):[],c=a[0],l=a[1],f=e.options,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["options"]),h=u(u(u(u({timestamp:new Date},p),{context:c,integrations:s}),l),{messageId:f.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(h),function(e){!function(e){if(!me(e))throw new d("Event",we);if("object"!=typeof e)throw new d("Event",be)}(e),function(e){if(!ge(e.type))throw new d(".type",ye)}(e),function(e){if(!ge(e.messageId))throw new d(".messageId",ye)}(e),"track"===e.type&&(function(e){if(!ge(e.event))throw new d(".event",ye)}(e),function(e){if(!ve(e.properties))throw new d(".properties",be)}(e)),["group","identify"].includes(e.type)&&function(e){if(!ve(e.traits))throw new d(".traits",be)}(e)}(h),h},e}();const Ie=()=>`node-next-${Date.now()}-${y()}`;class Ee extends ke{constructor(){super({createMessageId:Ie,onFinishedEvent:e=>{!function(e){var t=".userId/anonymousId/previousId/groupId",n=function(e){var t,n,r;return null!==(r=null!==(n=null!==(t=e.userId)&&void 0!==t?t:e.anonymousId)&&void 0!==n?n:e.groupId)&&void 0!==r?r:e.previousId}(e);if(!me(n))throw new d(t,we);if(!ge(n))throw new d(t,ye)}(e)}})}}var xe=function(){function e(){this._logs=[]}return e.prototype.log=function(e,t,n){var r=new Date;this._logs.push({level:e,message:t,time:r,extras:n})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce((function(e,t){var n,r,i,o=u(u({},t),{json:JSON.stringify(t.extras,null," "),extras:t.extras});delete o.time;var s=null!==(i=null===(r=t.time)||void 0===r?void 0:r.toISOString())&&void 0!==i?i:"";return e[s]&&(s="".concat(s,"-").concat(Math.random())),u(u({},e),((n={})[s]=o,n))}),{});console.table?console.table(e):console.log(e)}else this.logs.forEach((function(e){var t=e.level,n=e.message,r=e.extras;"info"===t||"debug"===t?console.log(n,null!=r?r:""):console[t](n,null!=r?r:"")}));this._logs=[]},e}(),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.gauge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.increment=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.flush=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.serialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(function(){function e(){this.metrics=[]}return e.prototype.increment=function(e,t,n){void 0===t&&(t=1),this.metrics.push({metric:e,value:t,tags:null!=n?n:[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(e,t,n){this.metrics.push({metric:e,value:t,tags:null!=n?n:[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var e=this.metrics.map((function(e){return u(u({},e),{tags:e.tags.join(",")})}));console.table?console.table(e):console.log(e),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map((function(e){return{m:e.metric,v:e.value,t:e.tags,k:(t=e.type,{gauge:"g",counter:"c"}[t]),e:e.timestamp};var t}))},e}()),Se=function(e){var t,n,r;this.retry=null===(t=e.retry)||void 0===t||t,this.type=null!==(n=e.type)&&void 0!==n?n:"plugin Error",this.reason=null!==(r=e.reason)&&void 0!==r?r:""},je=function(){function e(e,t,n,r){void 0===t&&(t=y()),void 0===n&&(n=new Te),void 0===r&&(r=new xe),this.attempts=0,this.event=e,this._id=t,this.logger=r,this.stats=n}return e.system=function(){},e.prototype.isSame=function(e){return e.id===this.id},e.prototype.cancel=function(e){if(e)throw e;throw new Se({reason:"Context Cancel"})},e.prototype.log=function(e,t,n){this.logger.log(e,t,n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(e,t){var n;if("integrations"===e.split(".")[0]){var r=e.split(".")[1];if(!1===(null===(n=this.event.integrations)||void 0===n?void 0:n[r]))return this.event}return he(this.event,e,t),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(e){this._failedDelivery=e},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();class Ae extends je{static system(){return new this({type:"track",event:"system"})}}const Pe=async(e,t,n,r)=>{try{const s=new Ae(e),a=await function(e,t,n,r){return c(this,void 0,void 0,(function(){var i,s;return l(this,(function(a){switch(a.label){case 0:return n.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return s=a.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:s=a.sent(),a.label=4;case 4:return(null==r?void 0:r.callback)?[4,o(s,r.callback,(u=i,c=r.timeout,l=Date.now()-u,Math.max((null!=c?c:300)-l,0)))]:[3,6];case 5:s=a.sent(),a.label=6;case 6:return(null==r?void 0:r.debug)&&s.flush(),[2,s]}var u,c,l}))}))}(s,t,n,{...r?{callback:(i=r,e=>{const t=e.failedDelivery();return i(t?t.reason:void 0,e)})}:{}}),u=a.failedDelivery();u?n.emit("error",{code:"delivery_failure",reason:u.reason,ctx:a}):n.emit(e.type,a)}catch(e){n.emit("error",{code:"unknown",reason:e})}var i};class Ce extends se{}var Oe="onRemoveFromFuture",Re=function(e){function t(t,n,r){var i=e.call(this)||this;return i.future=[],i.maxAttempts=t,i.queue=n,i.seen=null!=r?r:{},i}return a(t,e),t.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.map((function(t){return!(e.updateAttempts(t)>e.maxAttempts||e.includes(t)||(e.queue.push(t),0))}));return this.queue=this.queue.sort((function(t,n){return e.getAttempts(t)-e.getAttempts(n)})),r},t.prototype.pushWithBackoff=function(e,t){var n=this;if(void 0===t&&(t=0),0==t&&0===this.getAttempts(e))return this.push(e)[0];var r=this.updateAttempts(e);if(r>this.maxAttempts||this.includes(e))return!1;var i=h({attempt:r-1});return t>0&&i<t&&(i=t),setTimeout((function(){n.queue.push(e),n.future=n.future.filter((function(t){return t.id!==e.id})),n.emit(Oe)}),i),this.future.push(e),!0},t.prototype.getAttempts=function(e){var t;return null!==(t=this.seen[e.id])&&void 0!==t?t:0},t.prototype.updateAttempts=function(e){return this.seen[e.id]=this.getAttempts(e)+1,this.getAttempts(e)},t.prototype.includes=function(e){return this.queue.includes(e)||this.future.includes(e)||Boolean(this.queue.find((function(t){return t.id===e.id})))||Boolean(this.future.find((function(t){return t.id===e.id})))},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(se);function qe(e,t){e.log("debug","plugin",{plugin:t.name});var n=(new Date).getTime(),r=t[e.event.type];return void 0===r?Promise.resolve(e):function(){return c(this,void 0,void 0,(function(){var n;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.apply(t,[e])];case 1:return[2,i.sent()];case 2:return n=i.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))}().then((function(e){var r=(new Date).getTime()-n;return e.stats.gauge("plugin_time",r,["plugin:".concat(t.name)]),e})).catch((function(n){if(n instanceof Se&&"middleware_cancellation"===n.type)throw n;return n instanceof Se?(e.log("warn",n.type,{plugin:t.name,error:n}),n):(e.log("error","plugin Error",{plugin:t.name,error:n}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),n)}))}function Be(e,t){return qe(e,t).then((function(t){if(t instanceof je)return t;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(t)}))}var Me=function(e){function t(t){var n,r,i,o=e.call(this)||this;return o.criticalTasks=(i=0,{done:function(){return n},run:function(e){var t,o=e();return"object"==typeof(t=o)&&null!==t&&"then"in t&&"function"==typeof t.then&&(1==++i&&(n=new Promise((function(e){return r=e}))),o.finally((function(){return 0==--i&&r()}))),o}}),o.plugins=[],o.failedInitializations=[],o.flushing=!1,o.queue=t,o.queue.on(Oe,(function(){o.scheduleFlush(0)})),o}return a(t,e),t.prototype.register=function(e,t,n){return c(this,void 0,void 0,(function(){var r,i,o=this;return l(this,(function(s){switch(s.label){case 0:return this.plugins.push(t),r=function(n){o.failedInitializations.push(t.name),o.emit("initialization_failure",t),console.warn(t.name,n),e.log("warn","Failed to load destination",{plugin:t.name,error:n}),o.plugins=o.plugins.filter((function(e){return e!==t}))},"destination"!==t.type||"Segment.io"===t.name?[3,1]:(t.load(e,n).catch(r),[3,4]);case 1:return s.trys.push([1,3,,4]),[4,t.load(e,n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(i),[3,4];case 4:return[2]}}))}))},t.prototype.deregister=function(e,t,n){return c(this,void 0,void 0,(function(){var r;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.unload?[4,Promise.resolve(t.unload(e,n))]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.plugins=this.plugins.filter((function(e){return e.name!==t.name})),[3,4];case 3:return r=i.sent(),e.log("warn","Failed to unload destination",{plugin:t.name,error:r}),[3,4];case 4:return[2]}}))}))},t.prototype.dispatch=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.push(e),t=this.subscribeToDelivery(e),this.scheduleFlush(0),[2,t]}))}))},t.prototype.subscribeToDelivery=function(e){return c(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){return[2,new Promise((function(n){var r=function(i,o){i.isSame(e)&&(t.off("flush",r),n(i))};t.on("flush",r)}))]}))}))},t.prototype.dispatchSingle=function(e){return c(this,void 0,void 0,(function(){var t=this;return l(this,(function(n){return e.log("debug","Dispatching"),e.stats.increment("message_dispatched"),this.queue.updateAttempts(e),e.attempts=1,[2,this.deliver(e).catch((function(n){return t.enqueuRetry(n,e)?t.subscribeToDelivery(e):(e.setFailedDelivery({reason:n}),e)}))]}))}))},t.prototype.isEmpty=function(){return 0===this.queue.length},t.prototype.scheduleFlush=function(e){var t=this;void 0===e&&(e=500),this.flushing||(this.flushing=!0,setTimeout((function(){t.flush().then((function(){setTimeout((function(){t.flushing=!1,t.queue.length&&t.scheduleFlush(0)}),0)}))}),e))},t.prototype.deliver=function(e){return c(this,void 0,void 0,(function(){var t,n,r,i;return l(this,(function(o){switch(o.label){case 0:return[4,this.criticalTasks.done()];case 1:o.sent(),t=Date.now(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.flushOne(e)];case 3:return e=o.sent(),n=Date.now()-t,this.emit("delivery_success",e),e.stats.gauge("delivered",n),e.log("debug","Delivered",e.event),[2,e];case 4:throw r=o.sent(),i=r,e.log("error","Failed to deliver",i),this.emit("delivery_failure",e,i),e.stats.increment("delivery_failed"),r;case 5:return[2]}}))}))},t.prototype.enqueuRetry=function(e,t){return!(e instanceof Se&&!e.retry)&&this.queue.pushWithBackoff(t)},t.prototype.flush=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:if(0===this.queue.length)return[2,[]];if(!(e=this.queue.pop()))return[2,[]];e.attempts=this.queue.getAttempts(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.deliver(e)];case 2:return e=n.sent(),this.emit("flush",e,!0),[3,4];case 3:return t=n.sent(),this.enqueuRetry(t,e)||(e.setFailedDelivery({reason:t}),this.emit("flush",e,!1)),[2,[]];case 4:return[2,[e]]}}))}))},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(e){var t,n,r=this.plugins.filter((function(t){var n,r,i;if("destination"!==t.type&&"Segment.io"!==t.name)return!0;var o=void 0;return null===(n=t.alternativeNames)||void 0===n||n.forEach((function(t){void 0!==e[t]&&(o=e[t])})),null!==(i=null!==(r=e[t.name])&&void 0!==r?r:o)&&void 0!==i?i:!1!==("Segment.io"===t.name||e.All)})),i=(t="type",n={},r.forEach((function(e){var r,i=void 0,o=e[t];void 0!==(i="string"!=typeof o?JSON.stringify(o):o)&&(n[i]=f(f([],null!==(r=n[i])&&void 0!==r?r:[],!0),[e],!1))})),n),o=i.before,s=void 0===o?[]:o,a=i.enrichment,u=void 0===a?[]:a,c=i.destination,l=void 0===c?[]:c,d=i.after;return{before:s,enrichment:u,destinations:l,after:void 0===d?[]:d}},t.prototype.flushOne=function(e){var t,n;return c(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,f,d,p,h,g,m,v;return l(this,(function(l){switch(l.label){case 0:if(!this.isReady())throw new Error("Not ready");e.attempts>1&&this.emit("delivery_retry",e),r=this.availableExtensions(null!==(t=e.event.integrations)&&void 0!==t?t:{}),i=r.before,o=r.enrichment,s=0,a=i,l.label=1;case 1:return s<a.length?(u=a[s],[4,Be(e,u)]):[3,4];case 2:(p=l.sent())instanceof je&&(e=p),this.emit("message_enriched",e,u),l.label=3;case 3:return s++,[3,1];case 4:c=0,f=o,l.label=5;case 5:return c<f.length?(d=f[c],[4,qe(e,d)]):[3,8];case 6:(p=l.sent())instanceof je&&(e=p),this.emit("message_enriched",e,d),l.label=7;case 7:return c++,[3,5];case 8:return h=this.availableExtensions(null!==(n=e.event.integrations)&&void 0!==n?n:{}),g=h.destinations,m=h.after,[4,new Promise((function(t,n){setTimeout((function(){var r=g.map((function(t){return qe(e,t)}));Promise.all(r).then(t).catch(n)}),0)}))];case 9:return l.sent(),e.stats.increment("message_delivered"),this.emit("message_delivered",e),v=m.map((function(t){return qe(e,t)})),[4,Promise.all(v)];case 10:return l.sent(),[2,e]}}))}))},t}(se);class De extends Re{constructor(){super(1,[])}getAttempts(e){var t;return null!==(t=e.attempts)&&void 0!==t?t:0}updateAttempts(e){return e.attempts=this.getAttempts(e)+1,this.getAttempts(e)}}class $e extends Me{constructor(){super(new De)}}class We{constructor(){this.onabort=null,this.aborted=!1,this.eventEmitter=new se}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(...e){this.eventEmitter.off(...e)}addEventListener(...e){this.eventEmitter.on(...e)}dispatchEvent(e){const t={type:e,target:this},n=`on${e}`;"function"==typeof this[n]&&this[n](t),this.eventEmitter.emit(e,t)}}class He{constructor(){this.signal=new We}abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}}const Je=async(...e)=>{if(globalThis.fetch)return globalThis.fetch(...e);if("string"!=typeof EdgeRuntime)return(await n.e(39).then(n.bind(n,39))).default(...e);throw new Error("Invariant: an edge runtime that does not support fetch should not exist")};class Fe{constructor(e){this._fetch=null!=e?e:Je}makeRequest(e){return t=this,n=void 0,i=function*(){const[t,n]=(e=>{var t;if("cloudflare-worker"===de())return[];const n=new(globalThis.AbortController||He),r=setTimeout((()=>{n.abort()}),e);return null===(t=null==r?void 0:r.unref)||void 0===t||t.call(r),[n.signal,r]})(e.httpRequestTimeout),r={url:e.url,method:e.method,headers:e.headers,body:e.body,signal:t};return this._fetch(e.url,r).finally((()=>clearTimeout(n)))},new((r=void 0)||(r=Promise))((function(e,o){function s(e){try{u(i.next(e))}catch(e){o(e)}}function a(e){try{u(i.throw(e))}catch(e){o(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}u((i=i.apply(t,n||[])).next())}));var t,n,r,i}}var Le=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class Ue extends Ce{constructor(e){var t,n,r,i,o;super(),this._isClosed=!1,this._pendingEvents=0,this._isFlushing=!1,(e=>{if(!e.writeKey)throw new d("writeKey","writeKey is missing.")})(e),this._eventFactory=new Ee,this._queue=new $e;const s=null!==(t=e.flushInterval)&&void 0!==t?t:1e4;this._closeAndFlushDefaultTimeout=1.25*s;const{plugin:a,publisher:u}=(e=>{const t=new le(e,this);return{publisher:t,plugin:pe(t)}})({writeKey:e.writeKey,host:e.host,path:e.path,maxRetries:null!==(n=e.maxRetries)&&void 0!==n?n:3,flushAt:null!==(i=null!==(r=e.flushAt)&&void 0!==r?r:e.maxEventsInBatch)&&void 0!==i?i:15,httpRequestTimeout:e.httpRequestTimeout,disable:e.disable,flushInterval:s,httpClient:"function"==typeof e.httpClient?new Fe(e.httpClient):null!==(o=e.httpClient)&&void 0!==o?o:new Fe,oauthSettings:e.oauthSettings});this._publisher=u,this.ready=this.register(a).then((()=>{})),this.emit("initialize",e),function(e){for(var t=e.constructor.prototype,n=0,r=Object.getOwnPropertyNames(t);n<r.length;n++){var i=r[n];if("constructor"!==i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);o&&"function"==typeof o.value&&(e[i]=e[i].bind(e))}}}(this)}get VERSION(){return p}closeAndFlush({timeout:e=this._closeAndFlushDefaultTimeout}={}){return this.flush({timeout:e,close:!0})}flush(){return Le(this,arguments,void 0,(function*({timeout:e,close:t=!1}={}){if(this._isFlushing)return void console.warn("Overlapping flush calls detected. Please wait for the previous flush to finish before calling .flush again");this._isFlushing=!0,t&&(this._isClosed=!0),this._publisher.flush(this._pendingEvents);const n=new Promise((e=>{this._pendingEvents?this.once("drained",(()=>{e()})):e()})).finally((()=>{this._isFlushing=!1}));return e?r(n,e).catch((()=>{})):n}))}_dispatch(e,t){this._isClosed?this.emit("call_after_close",e):(this._pendingEvents++,Pe(e,this._queue,this,t).catch((e=>e)).finally((()=>{this._pendingEvents--,this._pendingEvents||this.emit("drained")})))}alias({userId:e,previousId:t,context:n,timestamp:r,integrations:i,messageId:o},s){const a=this._eventFactory.alias(e,t,{context:n,integrations:i,timestamp:r,messageId:o});this._dispatch(a,s)}group({timestamp:e,groupId:t,userId:n,anonymousId:r,traits:i={},context:o,integrations:s,messageId:a},u){const c=this._eventFactory.group(t,i,{context:o,anonymousId:r,userId:n,timestamp:e,integrations:s,messageId:a});this._dispatch(c,u)}identify({userId:e,anonymousId:t,traits:n={},context:r,timestamp:i,integrations:o,messageId:s},a){const u=this._eventFactory.identify(e,n,{context:r,anonymousId:t,userId:e,timestamp:i,integrations:o,messageId:s});this._dispatch(u,a)}page({userId:e,anonymousId:t,category:n,name:r,properties:i,context:o,timestamp:s,integrations:a,messageId:u},c){const l=this._eventFactory.page(null!=n?n:null,null!=r?r:null,i,{context:o,anonymousId:t,userId:e,timestamp:s,integrations:a,messageId:u});this._dispatch(l,c)}screen({userId:e,anonymousId:t,category:n,name:r,properties:i,context:o,timestamp:s,integrations:a,messageId:u},c){const l=this._eventFactory.screen(null!=n?n:null,null!=r?r:null,i,{context:o,anonymousId:t,userId:e,timestamp:s,integrations:a,messageId:u});this._dispatch(l,c)}track({userId:e,anonymousId:t,event:n,properties:r,context:i,timestamp:o,integrations:s,messageId:a},u){const c=this._eventFactory.track(n,r,{context:i,userId:e,anonymousId:t,timestamp:o,integrations:s,messageId:a});this._dispatch(c,u)}register(...e){return this._queue.criticalTasks.run((()=>Le(this,void 0,void 0,(function*(){const t=Ae.system(),n=e.map((e=>this._queue.register(t,e,this)));yield Promise.all(n),this.emit("register",e.map((e=>e.name)))}))))}deregister(...e){return Le(this,void 0,void 0,(function*(){const t=Ae.system(),n=e.map((e=>{const n=this._queue.plugins.find((t=>t.name===e));if(n)return this._queue.deregister(t,n,this);t.log("warn",`plugin ${e} not found`)}));yield Promise.all(n),this.emit("deregister",e)}))}}const Ne=Ue},543:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,d=NaN,p=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",_="[object GeneratorFunction]",k="[object Map]",I="[object Number]",E="[object Object]",x="[object Promise]",T="[object RegExp]",S="[object Set]",j="[object String]",A="[object Symbol]",P="[object WeakMap]",C="[object ArrayBuffer]",O="[object DataView]",R="[object Float32Array]",q="[object Float64Array]",B="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",$="[object Uint8Array]",W="[object Uint8ClampedArray]",H="[object Uint16Array]",J="[object Uint32Array]",F=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,N=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,z=RegExp(N.source),V=RegExp(K.source),G=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",je="["+_e+"]",Ae="["+Se+"]",Pe="["+ke+"]",Ce="\\d+",Oe="["+Ie+"]",Re="["+Ee+"]",qe="[^"+_e+Se+Ce+Ie+Ee+xe+"]",Be="\\ud83c[\\udffb-\\udfff]",Me="[^"+_e+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",$e="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+xe+"]",He="\\u200d",Je="(?:"+Re+"|"+qe+")",Fe="(?:"+We+"|"+qe+")",Le="(?:['](?:d|ll|m|re|s|t|ve))?",Ue="(?:['](?:D|LL|M|RE|S|T|VE))?",Ne="(?:"+Pe+"|"+Be+")?",Ke="["+Te+"]?",ze=Ke+Ne+"(?:"+He+"(?:"+[Me,De,$e].join("|")+")"+Ke+Ne+")*",Ve="(?:"+[Oe,De,$e].join("|")+")"+ze,Ge="(?:"+[Me+Pe+"?",Pe,De,$e,je].join("|")+")",Xe=RegExp("[']","g"),Ze=RegExp(Pe,"g"),Ye=RegExp(Be+"(?="+Be+")|"+Ge+ze,"g"),Qe=RegExp([We+"?"+Re+"+"+Le+"(?="+[Ae,We,"$"].join("|")+")",Fe+"+"+Ue+"(?="+[Ae,We+Je,"$"].join("|")+")",We+"?"+Je+"+"+Le,We+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ce,Ve].join("|"),"g"),et=RegExp("["+He+_e+ke+Te+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[R]=it[q]=it[B]=it[M]=it[D]=it[$]=it[W]=it[H]=it[J]=!0,it[g]=it[m]=it[C]=it[v]=it[O]=it[y]=it[b]=it[w]=it[k]=it[I]=it[E]=it[T]=it[S]=it[j]=it[P]=!1;var ot={};ot[g]=ot[m]=ot[C]=ot[O]=ot[v]=ot[y]=ot[R]=ot[q]=ot[B]=ot[M]=ot[D]=ot[k]=ot[I]=ot[E]=ot[T]=ot[S]=ot[j]=ot[A]=ot[$]=ot[W]=ot[H]=ot[J]=!0,ot[b]=ot[w]=ot[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ut=parseInt,ct="object"==typeof global&&global&&global.Object===Object&&global,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),dt=t&&!t.nodeType&&t,pt=dt&&e&&!e.nodeType&&e,ht=pt&&pt.exports===dt,gt=ht&&ct.process,mt=function(){try{return pt&&pt.require&&pt.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),vt=mt&&mt.isArrayBuffer,yt=mt&&mt.isDate,bt=mt&&mt.isMap,wt=mt&&mt.isRegExp,_t=mt&&mt.isSet,kt=mt&&mt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function At(e,t){return!(null==e||!e.length)&&Wt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ot(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function qt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Mt=Lt("length");function Dt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function $t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Wt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,Jt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Jt(e){return e!=e}function Ft(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:d}function Lt(e){return function(t){return null==t?i:t[e]}}function Ut(e){return function(t){return null==e?i:e[t]}}function Nt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e?e.slice(0,dn(e)+1).replace(re,""):e}function Gt(e){return function(t){return e(t)}}function Xt(e,t){return Ct(t,(function(t){return e[t]}))}function Zt(e,t){return e.has(t)}function Yt(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function Qt(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var en=Ut({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),tn=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function ln(e){return rn(e)?function(e){for(var t=Ye.lastIndex=0;Ye.test(e);)++t;return t}(e):Mt(e)}function fn(e){return rn(e)?function(e){return e.match(Ye)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var pn=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function e(t){var n,r=(t=null==t?ft:hn.defaults(ft.Object(),t,hn.pick(ft,nt))).Array,ie=t.Date,_e=t.Error,ke=t.Function,Ie=t.Math,Ee=t.Object,xe=t.RegExp,Te=t.String,Se=t.TypeError,je=r.prototype,Ae=ke.prototype,Pe=Ee.prototype,Ce=t["__core-js_shared__"],Oe=Ae.toString,Re=Pe.hasOwnProperty,qe=0,Be=(n=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Pe.toString,De=Oe.call(Ee),$e=ft._,We=xe("^"+Oe.call(Re).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=ht?t.Buffer:i,Je=t.Symbol,Fe=t.Uint8Array,Le=He?He.allocUnsafe:i,Ue=sn(Ee.getPrototypeOf,Ee),Ne=Ee.create,Ke=Pe.propertyIsEnumerable,ze=je.splice,Ve=Je?Je.isConcatSpreadable:i,Ge=Je?Je.iterator:i,Ye=Je?Je.toStringTag:i,et=function(){try{var e=uo(Ee,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ct=ie&&ie.now!==ft.Date.now&&ie.now,lt=t.setTimeout!==ft.setTimeout&&t.setTimeout,dt=Ie.ceil,pt=Ie.floor,gt=Ee.getOwnPropertySymbols,mt=He?He.isBuffer:i,Mt=t.isFinite,Ut=je.join,gn=sn(Ee.keys,Ee),mn=Ie.max,vn=Ie.min,yn=ie.now,bn=t.parseInt,wn=Ie.random,_n=je.reverse,kn=uo(t,"DataView"),In=uo(t,"Map"),En=uo(t,"Promise"),xn=uo(t,"Set"),Tn=uo(t,"WeakMap"),Sn=uo(Ee,"create"),jn=Tn&&new Tn,An={},Pn=Do(kn),Cn=Do(In),On=Do(En),Rn=Do(xn),qn=Do(Tn),Bn=Je?Je.prototype:i,Mn=Bn?Bn.valueOf:i,Dn=Bn?Bn.toString:i;function $n(e){if(ea(e)&&!Ls(e)&&!(e instanceof Fn)){if(e instanceof Jn)return e;if(Re.call(e,"__wrapped__"))return $o(e)}return new Jn(e)}var Wn=function(){function e(){}return function(t){if(!Qs(t))return{};if(Ne)return Ne(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Hn(){}function Jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Fn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function zn(e){var t=this.__data__=new Un(e);this.size=t.size}function Vn(e,t){var n=Ls(e),r=!n&&Fs(e),i=!n&&!r&&zs(e),o=!n&&!r&&!i&&ua(e),s=n||r||i||o,a=s?zt(e.length,Te):[],u=a.length;for(var c in e)!t&&!Re.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,u))||a.push(c);return a}function Gn(e){var t=e.length;return t?e[Nr(0,t-1)]:i}function Xn(e,t){return Oo(Ti(e),or(t,0,e.length))}function Zn(e){return Oo(Ti(e))}function Yn(e,t,n){(n!==i&&!Ws(e[t],n)||n===i&&!(t in e))&&rr(e,t,n)}function Qn(e,t,n){var r=e[t];Re.call(e,t)&&Ws(r,n)&&(n!==i||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function tr(e,t,n,r){return lr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function nr(e,t){return e&&Si(t,Pa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:xa(e,t[n]);return s}function or(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,s){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!Qs(e))return e;var f=Ls(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Ti(e,a)}else{var d=fo(e),p=d==w||d==_;if(zs(e))return wi(e,u);if(d==E||d==g||p&&!o){if(a=c||p?{}:ho(e),!u)return c?function(e,t){return Si(e,lo(e),t)}(e,function(e,t){return e&&Si(t,Ca(t),e)}(a,e)):function(e,t){return Si(e,co(e),t)}(e,nr(a,e))}else{if(!ot[d])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case C:return _i(e);case v:case y:return new i(+e);case O:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case q:case B:case M:case D:case $:case W:case H:case J:return ki(e,n);case k:return new i;case I:case j:return new i(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case S:return new i;case A:return r=e,Mn?Ee(Mn.call(r)):{}}}(e,d,u)}}s||(s=new zn);var h=s.get(e);if(h)return h;s.set(e,a),oa(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,i){a.set(i,sr(r,t,n,i,e,s))}));var m=f?i:(l?c?to:eo:c?Ca:Pa)(e);return xt(m||e,(function(r,i){m&&(r=e[i=r]),Qn(a,i,sr(r,t,n,i,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Se(o);return jo((function(){e.apply(i,n)}),t)}function cr(e,t,n,r){var i=-1,o=At,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=Ct(t,Gt(n))),r?(o=Pt,s=!1):t.length>=200&&(o=Zt,s=!1,t=new Kn(t));e:for(;++i<a;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}$n.templateSettings={escape:G,evaluate:X,interpolate:Z,variable:"",imports:{_:$n}},$n.prototype=Hn.prototype,$n.prototype.constructor=$n,Jn.prototype=Wn(Hn.prototype),Jn.prototype.constructor=Jn,Fn.prototype=Wn(Hn.prototype),Fn.prototype.constructor=Fn,Ln.prototype.clear=function(){this.__data__=Sn?Sn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(Sn){var n=t[e];return n===s?i:n}return Re.call(t,e)?t[e]:i},Ln.prototype.has=function(e){var t=this.__data__;return Sn?t[e]!==i:Re.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sn&&t===i?s:t,this},Un.prototype.clear=function(){this.__data__=[],this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():ze.call(t,n,1),--this.size,0))},Un.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?i:t[n][1]},Un.prototype.has=function(e){return er(this.__data__,e)>-1},Un.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(In||Un),string:new Ln}},Nn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return so(this,e).get(e)},Nn.prototype.has=function(e){return so(this,e).has(e)},Nn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.clear=function(){this.__data__=new Un,this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},zn.prototype.get=function(e){return this.__data__.get(e)},zn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Un){var r=n.__data__;if(!In||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var lr=Pi(yr),fr=Pi(br,!0);function dr(e,t){var n=!0;return lr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function pr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(u===i?a==a&&!aa(a):n(a,u)))var u=a,c=s}return c}function hr(e,t){var n=[];return lr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=go),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?gr(a,t-1,n,r,i):Ot(i,a):r||(i[i.length]=a)}return i}var mr=Ci(),vr=Ci(!0);function yr(e,t){return e&&mr(e,t,Pa)}function br(e,t){return e&&vr(e,t,Pa)}function wr(e,t){return jt(t,(function(t){return Xs(e[t])}))}function _r(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Ls(e)?r:Ot(r,n(e))}function Ir(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ye&&Ye in Ee(e)?function(e){var t=Re.call(e,Ye),n=e[Ye];try{e[Ye]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[Ye]=n:delete e[Ye]),o}(e):function(e){return Me.call(e)}(e)}function Er(e,t){return e>t}function xr(e,t){return null!=e&&Re.call(e,t)}function Tr(e,t){return null!=e&&t in Ee(e)}function Sr(e,t,n){for(var o=n?Pt:At,s=e[0].length,a=e.length,u=a,c=r(a),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Ct(d,Gt(t))),l=vn(d.length,l),c[u]=!n&&(t||s>=120&&d.length>=120)?new Kn(u&&d):i}d=e[0];var p=-1,h=c[0];e:for(;++p<s&&f.length<l;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(h?Zt(h,m):o(f,m,n))){for(u=a;--u;){var v=c[u];if(!(v?Zt(v,m):o(e[u],m,n)))continue e}h&&h.push(m),f.push(g)}}return f}function jr(e,t,n){var r=null==(e=xo(e,t=mi(t,e)))?e:e[Mo(Go(t))];return null==r?i:It(r,e,n)}function Ar(e){return ea(e)&&Ir(e)==g}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Ls(e),u=Ls(t),c=a?m:fo(e),l=u?m:fo(t),f=(c=c==g?E:c)==E,d=(l=l==g?E:l)==E,p=c==l;if(p&&zs(e)){if(!zs(t))return!1;a=!0,f=!1}if(p&&!f)return s||(s=new zn),a||ua(e)?Yi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!o(new Fe(e),new Fe(t)));case v:case y:case I:return Ws(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case j:return e==t+"";case k:var a=on;case S:var u=1&r;if(a||(a=un),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=Yi(a(e),a(t),r,i,o,s);return s.delete(e),l;case A:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var h=f&&Re.call(e,"__wrapped__"),w=d&&Re.call(t,"__wrapped__");if(h||w){var _=h?e.value():e,x=w?t.value():t;return s||(s=new zn),o(_,x,n,r,s)}}return!!p&&(s||(s=new zn),function(e,t,n,r,o,s){var a=1&n,u=eo(e),c=u.length;if(c!=eo(t).length&&!a)return!1;for(var l=c;l--;){var f=u[l];if(!(a?f in t:Re.call(t,f)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var g=a;++l<c;){var m=e[f=u[l]],v=t[f];if(r)var y=a?r(v,m,f,t,e,s):r(m,v,f,e,t,s);if(!(y===i?m===v||o(m,v,n,r,s):y)){h=!1;break}g||(g="constructor"==f)}if(h&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,r,o,s))}(e,t,n,r,Pr,o))}function Cr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Ee(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],l=e[c],f=u[1];if(a&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new zn;if(r)var p=r(l,f,c,e,t,d);if(!(p===i?Pr(f,l,3,r,d):p))return!1}}return!0}function Or(e){return!(!Qs(e)||(t=e,Be&&Be in t))&&(Xs(e)?We:ge).test(Do(e));var t}function Rr(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?Ls(e)?$r(e[0],e[1]):Dr(e):fu(e)}function qr(e){if(!_o(e))return gn(e);var t=[];for(var n in Ee(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e,t){return e<t}function Mr(e,t){var n=-1,i=Ns(e)?r(e.length):[];return lr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Dr(e){var t=ao(e);return 1==t.length&&t[0][2]?Io(t[0][0],t[0][1]):function(n){return n===e||Cr(n,e,t)}}function $r(e,t){return yo(e)&&ko(t)?Io(Mo(e),t):function(n){var r=xa(n,e);return r===i&&r===t?Ta(n,e):Pr(t,r,3)}}function Wr(e,t,n,r,o){e!==t&&mr(t,(function(s,a){if(o||(o=new zn),Qs(s))!function(e,t,n,r,o,s,a){var u=To(e,n),c=To(t,n),l=a.get(c);if(l)Yn(e,n,l);else{var f=s?s(u,c,n+"",e,t,a):i,d=f===i;if(d){var p=Ls(c),h=!p&&zs(c),g=!p&&!h&&ua(c);f=c,p||h||g?Ls(u)?f=u:Ks(u)?f=Ti(u):h?(d=!1,f=wi(c,!0)):g?(d=!1,f=ki(c,!0)):f=[]:ra(c)||Fs(c)?(f=u,Fs(u)?f=ma(u):Qs(u)&&!Xs(u)||(f=ho(c))):d=!1}d&&(a.set(c,f),o(f,c,r,s,a),a.delete(c)),Yn(e,n,f)}}(e,t,a,n,Wr,r,o);else{var u=r?r(To(e,a),s,a+"",e,t,o):i;u===i&&(u=s),Yn(e,a,u)}}),Ca)}function Hr(e,t){var n=e.length;if(n)return mo(t+=t<0?n:0,n)?e[t]:i}function Jr(e,t,n){t=t.length?Ct(t,(function(e){return Ls(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e})):[nu];var r=-1;t=Ct(t,Gt(oo()));var i=Mr(e,(function(e,n,i){var o=Ct(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e){var t=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=Ii(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));t--;)e[t]=e[t].value;return e}(i)}function Fr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=_r(e,s);n(a,s)&&Xr(o,mi(s,e),a)}return o}function Lr(e,t,n,r){var i=r?Ht:Wt,o=-1,s=t.length,a=e;for(e===t&&(t=Ti(t)),n&&(a=Ct(e,Gt(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&ze.call(a,u,1),ze.call(e,u,1);return e}function Ur(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;mo(i)?ze.call(e,i,1):ui(e,i)}}return e}function Nr(e,t){return e+pt(wn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return Ao(Eo(e,t,nu),e+"")}function Vr(e){return Gn(Wa(e))}function Gr(e,t){var n=Wa(e);return Oo(n,or(t,0,n.length))}function Xr(e,t,n,r){if(!Qs(e))return e;for(var o=-1,s=(t=mi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Mo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=Qs(f)?f:mo(t[o+1])?[]:{})}Qn(u,c,l),u=u[c]}return e}var Zr=jn?function(e,t){return jn.set(e,t),e}:nu,Yr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qa(t),writable:!0})}:nu;function Qr(e){return Oo(Wa(e))}function ei(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var n;return lr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ri(e,t,nu,n)}function ri(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,c=aa(t),l=t===i;o<s;){var f=pt((o+s)/2),d=n(e[f]),p=d!==i,h=null===d,g=d==d,m=aa(d);if(a)var v=r||g;else v=l?g&&(r||p):u?g&&p&&(r||!h):c?g&&p&&!h&&(r||!m):!h&&!m&&(r?d<=t:d<t);v?o=f+1:s=f}return vn(s,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ws(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?d:+e}function si(e){if("string"==typeof e)return e;if(Ls(e))return Ct(e,si)+"";if(aa(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,n){var r=-1,i=At,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=Pt;else if(o>=200){var c=t?null:Ki(e);if(c)return un(c);s=!1,i=Zt,u=new Kn}else u=t?[]:a;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),a.push(l)}else i(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function ui(e,t){return null==(e=xo(e,t=mi(t,e)))||delete e[Mo(Go(t))]}function ci(e,t,n,r){return Xr(e,t,n(_r(e,t)),r)}function li(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ei(e,r?0:o,r?o+1:i):ei(e,r?o+1:0,r?i:o)}function fi(e,t){var n=e;return n instanceof Fn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Ot([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=cr(s[o]||a,e[u],t,n));return ai(gr(s,1),t,n)}function pi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var u=r<s?t[r]:i;n(a,e[r],u)}return a}function hi(e){return Ks(e)?e:[]}function gi(e){return"function"==typeof e?e:nu}function mi(e,t){return Ls(e)?e:yo(e,t)?[e]:Bo(va(e))}var vi=zr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ei(e,t,n)}var bi=st||function(e){return ft.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=Le?Le(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function ki(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=aa(e),a=t!==i,u=null===t,c=t==t,l=aa(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||u&&n&&o||!a&&o||!c)return-1}return 0}function Ei(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,c=t.length,l=mn(s-a,0),f=r(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<a;)(d||o<s)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function xi(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,c=-1,l=t.length,f=mn(s-u,0),d=r(f+l),p=!i;++o<f;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=t[c];for(;++a<u;)(p||o<s)&&(d[h+n[a]]=e[o++]);return d}function Ti(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Si(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?rr(n,u,c):Qn(n,u,c)}return n}function ji(e,t){return function(n,r){var i=Ls(n)?Et:tr,o=t?t():{};return i(n,e,oo(r,2),o)}}function Ai(e){return zr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Ee(t);++r<o;){var u=n[r];u&&e(t,u,r,s)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Ns(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Ee(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ci(e){return function(t,n,r){for(var i=-1,o=Ee(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Oi(e){return function(t){var n=rn(t=va(t))?fn(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Rt(Xa(Fa(t).replace(Xe,"")),e,"")}}function qi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return Qs(r)?r:n}}function Bi(e){return function(t,n,r){var o=Ee(t);if(!Ns(t)){var s=oo(n,3);t=Pa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Mi(e){return Qi((function(t){var n=t.length,r=n,s=Jn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Se(o);if(s&&!u&&"wrapper"==ro(a))var u=new Jn([],!0)}for(r=u?r:n;++r<n;){var c=ro(a=t[r]),l="wrapper"==c?no(a):i;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ro(l[0])].apply(u,l[3]):1==a.length&&bo(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ls(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Di(e,t,n,o,s,a,u,l,f,d){var p=t&c,h=1&t,g=2&t,m=24&t,v=512&t,y=g?i:qi(e);return function c(){for(var b=arguments.length,w=r(b),_=b;_--;)w[_]=arguments[_];if(m)var k=io(c),I=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,k);if(o&&(w=Ei(w,o,s,m)),a&&(w=xi(w,a,u,m)),b-=I,m&&b<d){var E=an(w,k);return Ui(e,t,Di,c.placeholder,n,w,E,l,f,d-b)}var x=h?n:this,T=g?x[e]:e;return b=w.length,l?w=function(e,t){for(var n=e.length,r=vn(t.length,n),o=Ti(e);r--;){var s=t[r];e[r]=mo(s,n)?o[s]:i}return e}(w,l):v&&b>1&&w.reverse(),p&&f<b&&(w.length=f),this&&this!==ft&&this instanceof c&&(T=y||qi(T)),T.apply(x,w)}}function $i(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=e(n,r)}return o}}function Hi(e){return Qi((function(t){return t=Ct(t,Gt(oo())),zr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Ji(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,dt(e/ln(t)));return rn(t)?yi(fn(r),0,e).join(""):r.slice(0,e)}function Fi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=mn(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function Li(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Ui(e,t,n,r,o,s,a,c,l,f){var d=8&t;t|=d?u:64,4&(t&=~(d?64:u))||(t&=-4);var p=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,c,l,f],h=n.apply(i,p);return bo(e)&&So(h,p),h.placeholder=r,Po(h,e,t)}function Ni(e){var t=Ie[e];return function(e,n){if(e=ga(e),(n=null==n?0:vn(pa(n),292))&&Mt(e)){var r=(va(e)+"e").split("e");return+((r=(va(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=xn&&1/un(new xn([,-0]))[1]==l?function(e){return new xn(e)}:au;function zi(e){return function(t){var n=fo(t);return n==k?on(t):n==S?cn(t):function(e,t){return Ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Vi(e,t,n,s,l,f,d,p){var h=2&t;if(!h&&"function"!=typeof e)throw new Se(o);var g=s?s.length:0;if(g||(t&=-97,s=l=i),d=d===i?d:mn(pa(d),0),p=p===i?p:pa(p),g-=l?l.length:0,64&t){var m=s,v=l;s=l=i}var y=h?i:no(e),b=[e,t,n,s,l,m,v,f,d,p];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ei(l,u,t[4]):u,e[4]=l?an(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?xi(l,u,t[6]):u,e[6]=l?an(e[5],a):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],l=b[4],!(p=b[9]=b[9]===i?h?0:e.length:mn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var o=qi(e);return function s(){for(var a=arguments.length,u=r(a),c=a,l=io(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:an(u,l);return(a-=f.length)<n?Ui(e,t,Di,s.placeholder,i,u,f,i,i,n-a):It(this&&this!==ft&&this instanceof s?o:e,this,u)}}(e,t,p):t!=u&&33!=t||l.length?Di.apply(i,b):function(e,t,n,i){var o=1&t,s=qi(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),d=this&&this!==ft&&this instanceof t?s:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return It(d,o?n:this,f)}}(e,t,n,s);else var w=function(e,t,n){var r=1&t,i=qi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Po((y?Zr:So)(w,b),e,t)}function Gi(e,t,n,r){return e===i||Ws(e,Pe[n])&&!Re.call(r,n)?t:e}function Xi(e,t,n,r,o,s){return Qs(e)&&Qs(t)&&(s.set(t,e),Wr(e,t,i,Xi,s),s.delete(t)),e}function Zi(e){return ra(e)?i:e}function Yi(e,t,n,r,o,s){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),f=s.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Kn:i;for(s.set(e,t),s.set(t,e);++d<u;){var g=e[d],m=t[d];if(r)var v=a?r(m,g,d,t,e,s):r(g,m,d,e,t,s);if(v!==i){if(v)continue;p=!1;break}if(h){if(!Bt(t,(function(e,t){if(!Zt(h,t)&&(g===e||o(g,e,n,r,s)))return h.push(t)}))){p=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Qi(e){return Ao(Eo(e,i,Uo),e+"")}function eo(e){return kr(e,Pa,co)}function to(e){return kr(e,Ca,lo)}var no=jn?function(e){return jn.get(e)}:au;function ro(e){for(var t=e.name+"",n=An[t],r=Re.call(An,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Re.call($n,"placeholder")?$n:e).placeholder}function oo(){var e=$n.iteratee||ru;return e=e===ru?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ko(i)]}return t}function uo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var co=gt?function(e){return null==e?[]:(e=Ee(e),jt(gt(e),(function(t){return Ke.call(e,t)})))}:hu,lo=gt?function(e){for(var t=[];e;)Ot(t,co(e)),e=Ue(e);return t}:hu,fo=Ir;function po(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ys(i)&&mo(s,i)&&(Ls(e)||Fs(e))}function ho(e){return"function"!=typeof e.constructor||_o(e)?{}:Wn(Ue(e))}function go(e){return Ls(e)||Fs(e)||!!(Ve&&e&&e[Ve])}function mo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,n){if(!Qs(n))return!1;var r=typeof t;return!!("number"==r?Ns(n)&&mo(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function yo(e,t){if(Ls(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Q.test(e)||!Y.test(e)||null!=t&&e in Ee(t)}function bo(e){var t=ro(e),n=$n[t];if("function"!=typeof n||!(t in Fn.prototype))return!1;if(e===n)return!0;var r=no(n);return!!r&&e===r[0]}(kn&&fo(new kn(new ArrayBuffer(1)))!=O||In&&fo(new In)!=k||En&&fo(En.resolve())!=x||xn&&fo(new xn)!=S||Tn&&fo(new Tn)!=P)&&(fo=function(e){var t=Ir(e),n=t==E?e.constructor:i,r=n?Do(n):"";if(r)switch(r){case Pn:return O;case Cn:return k;case On:return x;case Rn:return S;case qn:return P}return t});var wo=Ce?Xs:gu;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function ko(e){return e==e&&!Qs(e)}function Io(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ee(n))}}function Eo(e,t,n){return t=mn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=mn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),It(e,this,u)}}function xo(e,t){return t.length<2?e:_r(e,ei(t,0,-1))}function To(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var So=Co(Zr),jo=lt||function(e,t){return ft.setTimeout(e,t)},Ao=Co(Yr);function Po(e,t,n){var r=t+"";return Ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return xt(h,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Co(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Oo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Nr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ro,qo,Bo=(Ro=Rs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===qo.size&&qo.clear(),e})),qo=Ro.cache,Ro);function Mo(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $o(e){if(e instanceof Fn)return e.clone();var t=new Jn(e.__wrapped__,e.__chain__);return t.__actions__=Ti(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=zr((function(e,t){return Ks(e)?cr(e,gr(t,1,Ks,!0)):[]})),Ho=zr((function(e,t){var n=Go(t);return Ks(n)&&(n=i),Ks(e)?cr(e,gr(t,1,Ks,!0),oo(n,2)):[]})),Jo=zr((function(e,t){var n=Go(t);return Ks(n)&&(n=i),Ks(e)?cr(e,gr(t,1,Ks,!0),i,n):[]}));function Fo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),$t(e,oo(t,3),i)}function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?mn(r+o,0):vn(o,r-1)),$t(e,oo(t,3),o,!0)}function Uo(e){return null!=e&&e.length?gr(e,1):[]}function No(e){return e&&e.length?e[0]:i}var Ko=zr((function(e){var t=Ct(e,hi);return t.length&&t[0]===e[0]?Sr(t):[]})),zo=zr((function(e){var t=Go(e),n=Ct(e,hi);return t===Go(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Sr(n,oo(t,2)):[]})),Vo=zr((function(e){var t=Go(e),n=Ct(e,hi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Sr(n,i,t):[]}));function Go(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=zr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Lr(e,t):e}var Yo=Qi((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Ur(e,Ct(t,(function(e){return mo(e,n)?+e:e})).sort(Ii)),r}));function Qo(e){return null==e?e:_n.call(e)}var es=zr((function(e){return ai(gr(e,1,Ks,!0))})),ts=zr((function(e){var t=Go(e);return Ks(t)&&(t=i),ai(gr(e,1,Ks,!0),oo(t,2))})),ns=zr((function(e){var t=Go(e);return t="function"==typeof t?t:i,ai(gr(e,1,Ks,!0),i,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(Ks(e))return t=mn(e.length,t),!0})),zt(t,(function(t){return Ct(e,Lt(t))}))}function is(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Ct(n,(function(e){return It(t,i,e)}))}var os=zr((function(e,t){return Ks(e)?cr(e,t):[]})),ss=zr((function(e){return di(jt(e,Ks))})),as=zr((function(e){var t=Go(e);return Ks(t)&&(t=i),di(jt(e,Ks),oo(t,2))})),us=zr((function(e){var t=Go(e);return t="function"==typeof t?t:i,di(jt(e,Ks),i,t)})),cs=zr(rs),ls=zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,is(e,n)}));function fs(e){var t=$n(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var ps=Qi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Fn&&mo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Jn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),hs=ji((function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)})),gs=Bi(Fo),ms=Bi(Lo);function vs(e,t){return(Ls(e)?xt:lr)(e,oo(t,3))}function ys(e,t){return(Ls(e)?Tt:fr)(e,oo(t,3))}var bs=ji((function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])})),ws=zr((function(e,t,n){var i=-1,o="function"==typeof t,s=Ns(e)?r(e.length):[];return lr(e,(function(e){s[++i]=o?It(t,e,n):jr(e,t,n)})),s})),_s=ji((function(e,t,n){rr(e,n,t)}));function ks(e,t){return(Ls(e)?Ct:Mr)(e,oo(t,3))}var Is=ji((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Es=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&vo(e,t[0],t[1])?t=[]:n>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Jr(e,gr(t,1),[])})),xs=ct||function(){return ft.Date.now()};function Ts(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Vi(e,c,i,i,i,i,t)}function Ss(e,t){var n;if("function"!=typeof t)throw new Se(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var js=zr((function(e,t,n){var r=1;if(n.length){var i=an(n,io(js));r|=u}return Vi(e,r,t,n,i)})),As=zr((function(e,t,n){var r=3;if(n.length){var i=an(n,io(As));r|=u}return Vi(t,r,e,n,i)}));function Ps(e,t,n){var r,s,a,u,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Se(o);function g(t){var n=r,o=s;return r=s=i,f=t,u=e.apply(o,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||p&&e-f>=a}function v(){var e=xs();if(m(e))return y(e);c=jo(v,function(e){var n=t-(e-l);return p?vn(n,a-(e-f)):n}(e))}function y(e){return c=i,h&&r?g(e):(r=s=i,u)}function b(){var e=xs(),n=m(e);if(r=arguments,s=this,l=e,n){if(c===i)return function(e){return f=e,c=jo(v,t),d?g(e):u}(l);if(p)return bi(c),c=jo(v,t),g(l)}return c===i&&(c=jo(v,t)),u}return t=ga(t)||0,Qs(n)&&(d=!!n.leading,a=(p="maxWait"in n)?mn(ga(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==i&&bi(c),f=0,r=l=s=c=i},b.flush=function(){return c===i?u:y(xs())},b}var Cs=zr((function(e,t){return ur(e,1,t)})),Os=zr((function(e,t,n){return ur(e,ga(t)||0,n)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Se(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Nn),n}function qs(e){if("function"!=typeof e)throw new Se(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Nn;var Bs=vi((function(e,t){var n=(t=1==t.length&&Ls(t[0])?Ct(t[0],Gt(oo())):Ct(gr(t,1),Gt(oo()))).length;return zr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Ms=zr((function(e,t){var n=an(t,io(Ms));return Vi(e,u,i,t,n)})),Ds=zr((function(e,t){var n=an(t,io(Ds));return Vi(e,64,i,t,n)})),$s=Qi((function(e,t){return Vi(e,256,i,i,i,t)}));function Ws(e,t){return e===t||e!=e&&t!=t}var Hs=Li(Er),Js=Li((function(e,t){return e>=t})),Fs=Ar(function(){return arguments}())?Ar:function(e){return ea(e)&&Re.call(e,"callee")&&!Ke.call(e,"callee")},Ls=r.isArray,Us=vt?Gt(vt):function(e){return ea(e)&&Ir(e)==C};function Ns(e){return null!=e&&Ys(e.length)&&!Xs(e)}function Ks(e){return ea(e)&&Ns(e)}var zs=mt||gu,Vs=yt?Gt(yt):function(e){return ea(e)&&Ir(e)==y};function Gs(e){if(!ea(e))return!1;var t=Ir(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Xs(e){if(!Qs(e))return!1;var t=Ir(e);return t==w||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==pa(e)}function Ys(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function Qs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=bt?Gt(bt):function(e){return ea(e)&&fo(e)==k};function na(e){return"number"==typeof e||ea(e)&&Ir(e)==I}function ra(e){if(!ea(e)||Ir(e)!=E)return!1;var t=Ue(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==De}var ia=wt?Gt(wt):function(e){return ea(e)&&Ir(e)==T},oa=_t?Gt(_t):function(e){return ea(e)&&fo(e)==S};function sa(e){return"string"==typeof e||!Ls(e)&&ea(e)&&Ir(e)==j}function aa(e){return"symbol"==typeof e||ea(e)&&Ir(e)==A}var ua=kt?Gt(kt):function(e){return ea(e)&&Ys(e.length)&&!!it[Ir(e)]},ca=Li(Br),la=Li((function(e,t){return e<=t}));function fa(e){if(!e)return[];if(Ns(e))return sa(e)?fn(e):Ti(e);if(Ge&&e[Ge])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ge]());var t=fo(e);return(t==k?on:t==S?un:Wa)(e)}function da(e){return e?(e=ga(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function pa(e){var t=da(e),n=t%1;return t==t?n?t-n:t:0}function ha(e){return e?or(pa(e),0,p):0}function ga(e){if("number"==typeof e)return e;if(aa(e))return d;if(Qs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=he.test(e);return n||me.test(e)?ut(e.slice(2),n?2:8):pe.test(e)?d:+e}function ma(e){return Si(e,Ca(e))}function va(e){return null==e?"":si(e)}var ya=Ai((function(e,t){if(_o(t)||Ns(t))Si(t,Pa(t),e);else for(var n in t)Re.call(t,n)&&Qn(e,n,t[n])})),ba=Ai((function(e,t){Si(t,Ca(t),e)})),wa=Ai((function(e,t,n,r){Si(t,Ca(t),e,r)})),_a=Ai((function(e,t,n,r){Si(t,Pa(t),e,r)})),ka=Qi(ir),Ia=zr((function(e,t){e=Ee(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Ca(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===i||Ws(f,Pe[l])&&!Re.call(e,l))&&(e[l]=s[l])}return e})),Ea=zr((function(e){return e.push(i,Xi),It(Ra,i,e)}));function xa(e,t,n){var r=null==e?i:_r(e,t);return r===i?n:r}function Ta(e,t){return null!=e&&po(e,t,Tr)}var Sa=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),Qa(nu)),ja=$i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]}),oo),Aa=zr(jr);function Pa(e){return Ns(e)?Vn(e):qr(e)}function Ca(e){return Ns(e)?Vn(e,!0):function(e){if(!Qs(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Oa=Ai((function(e,t,n){Wr(e,t,n)})),Ra=Ai((function(e,t,n,r){Wr(e,t,n,r)})),qa=Qi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ct(t,(function(t){return t=mi(t,e),r||(r=t.length>1),t})),Si(e,to(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)ui(n,t[i]);return n})),Ba=Qi((function(e,t){return null==e?{}:function(e,t){return Fr(e,t,(function(t,n){return Ta(e,n)}))}(e,t)}));function Ma(e,t){if(null==e)return{};var n=Ct(to(e),(function(e){return[e]}));return t=oo(t),Fr(e,n,(function(e,n){return t(e,n[0])}))}var Da=zi(Pa),$a=zi(Ca);function Wa(e){return null==e?[]:Xt(e,Pa(e))}var Ha=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Ja(t):t)}));function Ja(e){return Ga(va(e).toLowerCase())}function Fa(e){return(e=va(e))&&e.replace(ye,en).replace(Ze,"")}var La=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ua=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Na=Oi("toLowerCase"),Ka=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),za=Ri((function(e,t,n){return e+(n?" ":"")+Ga(t)})),Va=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ga=Oi("toUpperCase");function Xa(e,t,n){return e=va(e),(t=n?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Za=zr((function(e,t){try{return It(e,i,t)}catch(e){return Gs(e)?e:new _e(e)}})),Ya=Qi((function(e,t){return xt(t,(function(t){t=Mo(t),rr(e,t,js(e[t],e))})),e}));function Qa(e){return function(){return e}}var eu=Mi(),tu=Mi(!0);function nu(e){return e}function ru(e){return Rr("function"==typeof e?e:sr(e,1))}var iu=zr((function(e,t){return function(n){return jr(n,e,t)}})),ou=zr((function(e,t){return function(n){return jr(e,n,t)}}));function su(e,t,n){var r=Pa(t),i=wr(t,r);null!=n||Qs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,Pa(t)));var o=!(Qs(n)&&"chain"in n&&!n.chain),s=Xs(e);return xt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ti(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ot([this.value()],arguments))})})),e}function au(){}var uu=Hi(Ct),cu=Hi(St),lu=Hi(Bt);function fu(e){return yo(e)?Lt(Mo(e)):function(e){return function(t){return _r(t,e)}}(e)}var du=Fi(),pu=Fi(!0);function hu(){return[]}function gu(){return!1}var mu,vu=Wi((function(e,t){return e+t}),0),yu=Ni("ceil"),bu=Wi((function(e,t){return e/t}),1),wu=Ni("floor"),_u=Wi((function(e,t){return e*t}),1),ku=Ni("round"),Iu=Wi((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Se(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Ts,$n.assign=ya,$n.assignIn=ba,$n.assignInWith=wa,$n.assignWith=_a,$n.at=ka,$n.before=Ss,$n.bind=js,$n.bindAll=Ya,$n.bindKey=As,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ls(e)?e:[e]},$n.chain=fs,$n.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:mn(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=r(dt(o/t));s<o;)u[a++]=ei(e,s,s+=t);return u},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ot(Ls(n)?Ti(n):[n],gr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=oo();return e=t?Ct(e,(function(e){if("function"!=typeof e[1])throw new Se(o);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Pa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},$n.constant=Qa,$n.countBy=hs,$n.create=function(e,t){var n=Wn(e);return null==t?n:nr(n,t)},$n.curry=function e(t,n,r){var o=Vi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},$n.curryRight=function e(t,n,r){var o=Vi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},$n.debounce=Ps,$n.defaults=Ia,$n.defaultsDeep=Ea,$n.defer=Cs,$n.delay=Os,$n.difference=Wo,$n.differenceBy=Ho,$n.differenceWith=Jo,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},$n.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&vo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ha(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Ls(e)?jt:hr)(e,oo(t,3))},$n.flatMap=function(e,t){return gr(ks(e,t),1)},$n.flatMapDeep=function(e,t){return gr(ks(e,t),l)},$n.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),gr(ks(e,t),n)},$n.flatten=Uo,$n.flattenDeep=function(e){return null!=e&&e.length?gr(e,l):[]},$n.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===i?1:pa(t)):[]},$n.flip=function(e){return Vi(e,512)},$n.flow=eu,$n.flowRight=tu,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},$n.functions=function(e){return null==e?[]:wr(e,Pa(e))},$n.functionsIn=function(e){return null==e?[]:wr(e,Ca(e))},$n.groupBy=bs,$n.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},$n.intersection=Ko,$n.intersectionBy=zo,$n.intersectionWith=Vo,$n.invert=Sa,$n.invertBy=ja,$n.invokeMap=ws,$n.iteratee=ru,$n.keyBy=_s,$n.keys=Pa,$n.keysIn=Ca,$n.map=ks,$n.mapKeys=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,t(e,r,i),e)})),n},$n.mapValues=function(e,t){var n={};return t=oo(t,3),yr(e,(function(e,r,i){rr(n,r,t(e,r,i))})),n},$n.matches=function(e){return Dr(sr(e,1))},$n.matchesProperty=function(e,t){return $r(e,sr(t,1))},$n.memoize=Rs,$n.merge=Oa,$n.mergeWith=Ra,$n.method=iu,$n.methodOf=ou,$n.mixin=su,$n.negate=qs,$n.nthArg=function(e){return e=pa(e),zr((function(t){return Hr(t,e)}))},$n.omit=qa,$n.omitBy=function(e,t){return Ma(e,qs(oo(t)))},$n.once=function(e){return Ss(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Ls(t)||(t=null==t?[]:[t]),Ls(n=r?i:n)||(n=null==n?[]:[n]),Jr(e,t,n))},$n.over=uu,$n.overArgs=Bs,$n.overEvery=cu,$n.overSome=lu,$n.partial=Ms,$n.partialRight=Ds,$n.partition=Is,$n.pick=Ba,$n.pickBy=Ma,$n.property=fu,$n.propertyOf=function(e){return function(t){return null==e?i:_r(e,t)}},$n.pull=Xo,$n.pullAll=Zo,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,oo(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,i,n):e},$n.pullAt=Yo,$n.range=du,$n.rangeRight=pu,$n.rearg=$s,$n.reject=function(e,t){return(Ls(e)?jt:hr)(e,qs(oo(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=oo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Ur(e,i),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Se(o);return zr(e,t=t===i?t:pa(t))},$n.reverse=Qo,$n.sampleSize=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:pa(t),(Ls(e)?Xn:Gr)(e,t)},$n.set=function(e,t,n){return null==e?e:Xr(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Xr(e,t,n,r)},$n.shuffle=function(e){return(Ls(e)?Zn:Qr)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&vo(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ei(e,t,n)):[]},$n.sortBy=Es,$n.sortedUniq=function(e){return e&&e.length?ii(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&vo(e,t,n)&&(t=n=i),(n=n===i?p:n>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&rn(e)?yi(fn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Se(o);return t=null==t?0:mn(pa(t),0),zr((function(n){var r=n[t],i=yi(n,0,t);return r&&Ot(i,r),It(e,this,i)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ei(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Se(o);return Qs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ps(e,t,{leading:r,maxWait:t,trailing:i})},$n.thru=ds,$n.toArray=fa,$n.toPairs=Da,$n.toPairsIn=$a,$n.toPath=function(e){return Ls(e)?Ct(e,Mo):aa(e)?[e]:Ti(Bo(va(e)))},$n.toPlainObject=ma,$n.transform=function(e,t,n){var r=Ls(e),i=r||zs(e)||ua(e);if(t=oo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Qs(e)&&Xs(o)?Wn(Ue(e)):{}}return(i?xt:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},$n.unary=function(e){return Ts(e,1)},$n.union=es,$n.unionBy=ts,$n.unionWith=ns,$n.uniq=function(e){return e&&e.length?ai(e):[]},$n.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},$n.unset=function(e,t){return null==e||ui(e,t)},$n.unzip=rs,$n.unzipWith=is,$n.update=function(e,t,n){return null==e?e:ci(e,t,gi(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ci(e,t,gi(n),r)},$n.values=Wa,$n.valuesIn=function(e){return null==e?[]:Xt(e,Ca(e))},$n.without=os,$n.words=Xa,$n.wrap=function(e,t){return Ms(gi(t),e)},$n.xor=ss,$n.xorBy=as,$n.xorWith=us,$n.zip=cs,$n.zipObject=function(e,t){return pi(e||[],t||[],Qn)},$n.zipObjectDeep=function(e,t){return pi(e||[],t||[],Xr)},$n.zipWith=ls,$n.entries=Da,$n.entriesIn=$a,$n.extend=ba,$n.extendWith=wa,su($n,$n),$n.add=vu,$n.attempt=Za,$n.camelCase=Ha,$n.capitalize=Ja,$n.ceil=yu,$n.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))==n?n:0),t!==i&&(t=(t=ga(t))==t?t:0),or(ga(e),t,n)},$n.clone=function(e){return sr(e,4)},$n.cloneDeep=function(e){return sr(e,5)},$n.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},$n.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},$n.conformsTo=function(e,t){return null==t||ar(e,t,Pa(t))},$n.deburr=Fa,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=bu,$n.endsWith=function(e,t,n){e=va(e),t=si(t);var r=e.length,o=n=n===i?r:or(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},$n.eq=Ws,$n.escape=function(e){return(e=va(e))&&V.test(e)?e.replace(K,tn):e},$n.escapeRegExp=function(e){return(e=va(e))&&ne.test(e)?e.replace(te,"\\$&"):e},$n.every=function(e,t,n){var r=Ls(e)?St:dr;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},$n.find=gs,$n.findIndex=Fo,$n.findKey=function(e,t){return Dt(e,oo(t,3),yr)},$n.findLast=ms,$n.findLastIndex=Lo,$n.findLastKey=function(e,t){return Dt(e,oo(t,3),br)},$n.floor=wu,$n.forEach=vs,$n.forEachRight=ys,$n.forIn=function(e,t){return null==e?e:mr(e,oo(t,3),Ca)},$n.forInRight=function(e,t){return null==e?e:vr(e,oo(t,3),Ca)},$n.forOwn=function(e,t){return e&&yr(e,oo(t,3))},$n.forOwnRight=function(e,t){return e&&br(e,oo(t,3))},$n.get=xa,$n.gt=Hs,$n.gte=Js,$n.has=function(e,t){return null!=e&&po(e,t,xr)},$n.hasIn=Ta,$n.head=No,$n.identity=nu,$n.includes=function(e,t,n,r){e=Ns(e)?e:Wa(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),sa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=mn(r+i,0)),Wt(e,t,i)},$n.inRange=function(e,t,n){return t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n){return e>=vn(t,n)&&e<mn(t,n)}(e=ga(e),t,n)},$n.invoke=Aa,$n.isArguments=Fs,$n.isArray=Ls,$n.isArrayBuffer=Us,$n.isArrayLike=Ns,$n.isArrayLikeObject=Ks,$n.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Ir(e)==v},$n.isBuffer=zs,$n.isDate=Vs,$n.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ns(e)&&(Ls(e)||"string"==typeof e||"function"==typeof e.splice||zs(e)||ua(e)||Fs(e)))return!e.length;var t=fo(e);if(t==k||t==S)return!e.size;if(_o(e))return!qr(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Pr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},$n.isError=Gs,$n.isFinite=function(e){return"number"==typeof e&&Mt(e)},$n.isFunction=Xs,$n.isInteger=Zs,$n.isLength=Ys,$n.isMap=ta,$n.isMatch=function(e,t){return e===t||Cr(e,t,ao(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Cr(e,t,ao(t),n)},$n.isNaN=function(e){return na(e)&&e!=+e},$n.isNative=function(e){if(wo(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=na,$n.isObject=Qs,$n.isObjectLike=ea,$n.isPlainObject=ra,$n.isRegExp=ia,$n.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=f},$n.isSet=oa,$n.isString=sa,$n.isSymbol=aa,$n.isTypedArray=ua,$n.isUndefined=function(e){return e===i},$n.isWeakMap=function(e){return ea(e)&&fo(e)==P},$n.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Ir(e)},$n.join=function(e,t){return null==e?"":Ut.call(e,t)},$n.kebabCase=La,$n.last=Go,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?mn(r+o,0):vn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):$t(e,Jt,o,!0)},$n.lowerCase=Ua,$n.lowerFirst=Na,$n.lt=ca,$n.lte=la,$n.max=function(e){return e&&e.length?pr(e,nu,Er):i},$n.maxBy=function(e,t){return e&&e.length?pr(e,oo(t,2),Er):i},$n.mean=function(e){return Ft(e,nu)},$n.meanBy=function(e,t){return Ft(e,oo(t,2))},$n.min=function(e){return e&&e.length?pr(e,nu,Br):i},$n.minBy=function(e,t){return e&&e.length?pr(e,oo(t,2),Br):i},$n.stubArray=hu,$n.stubFalse=gu,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=_u,$n.nth=function(e,t){return e&&e.length?Hr(e,pa(t)):i},$n.noConflict=function(){return ft._===this&&(ft._=$e),this},$n.noop=au,$n.now=xs,$n.pad=function(e,t,n){e=va(e);var r=(t=pa(t))?ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ji(pt(i),n)+e+Ji(dt(i),n)},$n.padEnd=function(e,t,n){e=va(e);var r=(t=pa(t))?ln(e):0;return t&&r<t?e+Ji(t-r,n):e},$n.padStart=function(e,t,n){e=va(e);var r=(t=pa(t))?ln(e):0;return t&&r<t?Ji(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(va(e).replace(re,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&vo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=wn();return vn(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Nr(e,t)},$n.reduce=function(e,t,n){var r=Ls(e)?Rt:Nt,i=arguments.length<3;return r(e,oo(t,4),n,i,lr)},$n.reduceRight=function(e,t,n){var r=Ls(e)?qt:Nt,i=arguments.length<3;return r(e,oo(t,4),n,i,fr)},$n.repeat=function(e,t,n){return t=(n?vo(e,t,n):t===i)?1:pa(t),Kr(va(e),t)},$n.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=Xs(s)?s.call(e):s}return e},$n.round=ku,$n.runInContext=e,$n.sample=function(e){return(Ls(e)?Gn:Vr)(e)},$n.size=function(e){if(null==e)return 0;if(Ns(e))return sa(e)?ln(e):e.length;var t=fo(e);return t==k||t==S?e.size:qr(e).length},$n.snakeCase=Ka,$n.some=function(e,t,n){var r=Ls(e)?Bt:ti;return n&&vo(e,t,n)&&(t=i),r(e,oo(t,3))},$n.sortedIndex=function(e,t){return ni(e,t)},$n.sortedIndexBy=function(e,t,n){return ri(e,t,oo(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Ws(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ni(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return ri(e,t,oo(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Ws(e[n],t))return n}return-1},$n.startCase=za,$n.startsWith=function(e,t,n){return e=va(e),n=null==n?0:or(pa(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},$n.subtract=Iu,$n.sum=function(e){return e&&e.length?Kt(e,nu):0},$n.sumBy=function(e,t){return e&&e.length?Kt(e,oo(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&vo(e,t,n)&&(t=i),e=va(e),t=wa({},t,r,Gi);var o,s,a=wa({},t.imports,r.imports,Gi),u=Pa(a),c=Xt(a,u),l=0,f=t.interpolate||be,d="__p += '",p=xe((t.escape||be).source+"|"+f.source+"|"+(f===Z?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){return r||(r=i),d+=e.slice(l,u).replace(we,nn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new _e("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(F,""):d).replace(L,"$1").replace(U,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Za((function(){return ke(u,h+"return "+d).apply(i,c)}));if(m.source=d,Gs(m))throw m;return m},$n.times=function(e,t){if((e=pa(e))<1||e>f)return[];var n=p,r=vn(e,p);t=oo(t),e-=p;for(var i=zt(r,t);++n<e;)t(n);return i},$n.toFinite=da,$n.toInteger=pa,$n.toLength=ha,$n.toLower=function(e){return va(e).toLowerCase()},$n.toNumber=ga,$n.toSafeInteger=function(e){return e?or(pa(e),-9007199254740991,f):0===e?e:0},$n.toString=va,$n.toUpper=function(e){return va(e).toUpperCase()},$n.trim=function(e,t,n){if((e=va(e))&&(n||t===i))return Vt(e);if(!e||!(t=si(t)))return e;var r=fn(e),o=fn(t);return yi(r,Yt(r,o),Qt(r,o)+1).join("")},$n.trimEnd=function(e,t,n){if((e=va(e))&&(n||t===i))return e.slice(0,dn(e)+1);if(!e||!(t=si(t)))return e;var r=fn(e);return yi(r,0,Qt(r,fn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=va(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=fn(e);return yi(r,Yt(r,fn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(Qs(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,r="omission"in t?si(t.omission):r}var s=(e=va(e)).length;if(rn(e)){var a=fn(e);s=a.length}if(n>=s)return e;var u=n-ln(r);if(u<1)return r;var c=a?yi(a,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(a&&(u+=c.length-u),ia(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=xe(o.source,va(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(si(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},$n.unescape=function(e){return(e=va(e))&&z.test(e)?e.replace(N,pn):e},$n.uniqueId=function(e){var t=++qe;return va(e)+t},$n.upperCase=Va,$n.upperFirst=Ga,$n.each=vs,$n.eachRight=ys,$n.first=No,su($n,(mu={},yr($n,(function(e,t){Re.call($n.prototype,t)||(mu[t]=e)})),mu),{chain:!1}),$n.VERSION="4.17.21",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),xt(["drop","take"],(function(e,t){Fn.prototype[e]=function(n){n=n===i?1:mn(pa(n),0);var r=this.__filtered__&&!t?new Fn(this):this.clone();return r.__filtered__?r.__takeCount__=vn(n,r.__takeCount__):r.__views__.push({size:vn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Fn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),xt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Fn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),xt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Fn.prototype[e]=function(){return this[n](1).value()[0]}})),xt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Fn.prototype[e]=function(){return this.__filtered__?new Fn(this):this[n](1)}})),Fn.prototype.compact=function(){return this.filter(nu)},Fn.prototype.find=function(e){return this.filter(e).head()},Fn.prototype.findLast=function(e){return this.reverse().find(e)},Fn.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new Fn(this):this.map((function(n){return jr(n,e,t)}))})),Fn.prototype.reject=function(e){return this.filter(qs(oo(e)))},Fn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Fn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Fn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Fn.prototype.toArray=function(){return this.take(p)},yr(Fn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=$n[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&($n.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof Fn,c=a[0],l=u||Ls(t),f=function(e){var t=o.apply($n,Ot([e],a));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=s&&!d,g=u&&!p;if(!s&&l){t=g?t:new Fn(this);var m=e.apply(t,a);return m.__actions__.push({func:ds,args:[f],thisArg:i}),new Jn(m,d)}return h&&g?e.apply(this,a):(m=this.thru(f),h?r?m.value()[0]:m.value():m)})})),xt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ls(i)?i:[],e)}return this[n]((function(n){return t.apply(Ls(n)?n:[],e)}))}})),yr(Fn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Re.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Di(i,2).name]=[{name:"wrapper",func:i}],Fn.prototype.clone=function(){var e=new Fn(this.__wrapped__);return e.__actions__=Ti(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ti(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ti(this.__views__),e},Fn.prototype.reverse=function(){if(this.__filtered__){var e=new Fn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Fn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ls(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vn(t,e+s);break;case"takeRight":e=mn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,d=0,p=vn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return fi(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var g=-1,m=e[c+=t];++g<f;){var v=l[g],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}h[d++]=m}return h},$n.prototype.at=ps,$n.prototype.chain=function(){return fs(this)},$n.prototype.commit=function(){return new Jn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===i&&(this.__values__=fa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Hn;){var r=$o(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Fn){var t=e;return this.__actions__.length&&(t=new Fn(this)),(t=t.reverse()).__actions__.push({func:ds,args:[Qo],thisArg:i}),new Jn(t,this.__chain__)}return this.thru(Qo)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Ge&&($n.prototype[Ge]=function(){return this}),$n}();ft._=hn,(r=function(){return hn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},168:(e,t,n)=>{"use strict";var r,i=n(857),o={};function s(e,t){var n=[],r=[],i=0,o=0;function s(e,s,a){s?r[e]=s:n[e]=a,(o+=1)>=i&&t((r.length,r),n)}Object.keys(e).forEach((function(t){i+=1;var n=e[t];(process.nextTick||global.setImmediate||global.setTimeout)((function(){n(s.bind(null,t),1)}))}))}switch(o.networkInterfaces=function(){var e={};try{var t=i.networkInterfaces()}catch(t){if("uv_interface_addresses"===t.syscall)return e;throw t}return Object.keys(t).forEach((function(n){var r={},i=!1;t[n].forEach((function(e){e.internal||(r[(e.family||"").toLowerCase()]=e.address,i=!0,e.mac&&(r.mac=e.mac))})),i&&(e[n]=r)})),e},i.platform()){case"win32":r=n(521);break;case"linux":r=n(850);break;case"darwin":case"sunos":case"freebsd":r=n(484);break;default:console.warn("node-macaddress: Unknown os.platform(), defaulting to 'unix'."),r=n(484)}o.one=function(e,t){if("function"==typeof e){t=e;var n=o.networkInterfaces(),i=["eth0","eth1","en0","en1"];e=Object.keys(n)[0];for(var s=0;s<i.length;s++)if(n[i[s]]){e=i[s];break}if(!n[e])return"function"==typeof t&&process.nextTick((function(){t(new Error("no interfaces found"),null)})),null;if(n[e].mac)return"function"==typeof t&&process.nextTick((function(){t(null,n[e].mac)})),n[e].mac}return"function"==typeof t&&r(e,t),null},o.all=function(e){var t=o.networkInterfaces(),n={};return Object.keys(t).forEach((function(e){t[e].mac||(n[e]=r.bind(null,e))})),0===Object.keys(n).length?("function"==typeof e&&process.nextTick((function(){e(null,t)})),t):(s(n,(function(n,r){Object.keys(r).forEach((function(e){t[e].mac=r[e]})),"function"==typeof e&&e(null,t)})),null)},e.exports=o},850:(e,t,n)=>{var r=n(317).execFile;e.exports=function(e,t){r("cat",["/sys/class/net/"+e+"/address"],(function(e,n){e?t(e,null):t(null,n.trim().toLowerCase())}))}},484:(e,t,n)=>{var r=n(317).execFile;e.exports=function(e,t){r("ifconfig",[e],(function(e,n){if(e)t(e,null);else{var r=/[a-f0-9]{2}(:[a-f0-9]{2}){5}/.exec(n.toLowerCase());r?t(null,r[0].toLowerCase()):t("did not find a mac address",null)}}))}},521:(e,t,n)=>{var r=n(317).execFile,i=/[-\/\\^$*+?.()|[\]{}]/g;e.exports=function(e,t){r("ipconfig",["/all"],(function(n,r){if(n)t(n,null);else{var o,s=new RegExp((o=e,o.replace(i,"\\$&"))).exec(r);s?(r=r.substring(s.index+e.length),(s=/[A-Fa-f0-9]{2}(\-[A-Fa-f0-9]{2}){5}/.exec(r))?t(null,s[0].toLowerCase().replace(/\-/g,":")):t("did not find a mac address",null)):t("did not find interface in `ipconfig /all`",null)}}))}},414:(e,t,n)=>{var r=n(33),i=n(550),o=i;o.v1=r,o.v4=i,e.exports=o},471:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},551:(e,t,n)=>{var r=n(982);e.exports=function(){return r.randomBytes(16)}},33:(e,t,n)=>{var r,i,o=n(551),s=n(471),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-a+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=h,u=g,i=d;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||s(l)}},550:(e,t,n)=>{var r=n(551),i=n(471);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},317:e=>{"use strict";e.exports=require("child_process")},982:e=>{"use strict";e.exports=require("crypto")},611:e=>{"use strict";e.exports=require("http")},692:e=>{"use strict";e.exports=require("https")},857:e=>{"use strict";e.exports=require("os")},876:e=>{"use strict";e.exports=require("punycode")},203:e=>{"use strict";e.exports=require("stream")},16:e=>{"use strict";e.exports=require("url")},106:e=>{"use strict";e.exports=require("zlib")},330:e=>{"use strict";e.exports=JSON.parse('{"name":"atlascode","displayName":"Jira and Bitbucket (Atlassian Labs)","description":"Bringing the power of Jira and Bitbucket to VS Code - With Atlassian for VS Code you can create and view issues, start work on issues, create pull requests, do code reviews, start builds, get build statuses and more!","keywords":["bitbucket","jira","atlassian","issues","builds","pull requests"],"version":"3.0.15","publisher":"atlassian","license":"SEE LICENSE IN LICENSE","homepage":"https://github.com/atlassian/atlascode/blob/main/HOMEPAGE.md","repository":{"type":"git","url":"https://github.com/atlassian/atlascode.git"},"bugs":{"url":"https://github.com/atlassian/atlascode/issues","email":"atlascode@atlassian.com"},"icon":"images/atlascode-icon.png","preview":false,"galleryBanner":{"color":"#c5ddff","theme":"light"},"engines":{"vscode":"^1.93.0"},"categories":["Other"],"activationEvents":["*"],"extensionDependencies":["vscode.git","redhat.vscode-yaml"],"extensionKind":["workspace"],"main":"./build/extension/extension","scripts":{"precommit":"pretty-quick --staged","vscode:uninstall":"node ./build/extension/uninstall.js","vscode:prepublish":"npm run compile","clean":"rm -rf ./build","format":"prettier --write . --log-level warn","lint":"eslint ./src --ext .js,.jsx,.ts,.tsx","lint:fix":"eslint --fix ./src --ext .js,.jsx,.ts,.tsx","compile":"npm run clean && npm run compile:react && npm run compile:extension","compile:extension":"NODE_OPTIONS=--openssl-legacy-provider webpack --mode production --config webpack.extension.prod.js","compile:react":"NODE_OPTIONS=--openssl-legacy-provider webpack --mode production --config webpack.react.prod.js","postinstall":"patch-package","extension:clean":"rm -rf ./atlascode-*.vsix","extension:package:prerelease":"npm run extension:clean && vsce package --pre-release --baseContentUrl https://raw.githubusercontent.com/atlassian/atlascode/main/ --allow-star-activation","extension:package":"npm run extension:clean && vsce package --baseContentUrl https://raw.githubusercontent.com/atlassian/atlascode/main/ --allow-star-activation","extension:install":"npm run extension:package && code --install-extension ./atlascode-*.vsix --force","test":"jest","devcompile":"npm-run-all --parallel devcompile:react devcompile:extension","devcompile:react":"webpack --mode development --config webpack.react.dev.js","devcompile:extension":"webpack --mode development --config webpack.extension.dev.js","mui:atlascodeSettings:dark":"cross-env PAGETSX=\\"config/ConfigPage.tsx\\" VIEW=\\"atlascodeSettingsV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:atlascodeSettings:light":"cross-env PAGETSX=\\"config/ConfigPage.tsx\\" VIEW=\\"atlascodeSettingsV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:atlascodeOnboarding:dark":"cross-env PAGETSX=\\"onboarding/OnboardingPage.tsx\\" VIEW=\\"atlascodeOnboardingV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:atlascodeOnboarding:light":"cross-env PAGETSX=\\"onboarding/OnboardingPage.tsx\\" VIEW=\\"atlascodeOnboardingV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:bitbucketIssuePage:light":"cross-env PAGETSX=\\"bbissue/BitbucketIssuePage.tsx\\" VIEW=\\"bitbucketIssuePageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:bitbucketIssuePage:dark":"cross-env PAGETSX=\\"bbissue/BitbucketIssuePage.tsx\\" VIEW=\\"bitbucketIssuePageV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:createBitbucketIssuePage:light":"cross-env PAGETSX=\\"bbissue/CreateBitbucketIssuePage.tsx\\" VIEW=\\"createBitbucketIssuePageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:welcomePage:light":"cross-env  PAGETSX=\\"welcome/Welcome.tsx\\" VIEW=\\"welcomePageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:startWorkPage:dark":"cross-env PAGETSX=\\"startwork/StartWorkPage.tsx\\" VIEW=\\"startWorkPageV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:startWorkPage:light":"cross-env PAGETSX=\\"startwork/StartWorkPage.tsx\\" VIEW=\\"startWorkPageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:pullRequestDetailsPage:dark":"cross-env  PAGETSX=\\"pullrequest/PullRequestDetailsPage.tsx\\" VIEW=\\"pullRequestDetailsPageV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:pullRequestDetailsPage:light":"cross-env PAGETSX=\\"pullrequest/PullRequestDetailsPage.tsx\\" VIEW=\\"pullRequestDetailsPageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:createPullRequestPage:light":"cross-env PAGETSX=\\"pullrequest/CreatePullRequestPage.tsx\\" VIEW=\\"createPullRequestPageV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:createJiraIssue:dark":"cross-env PAGETSX=\\"issue/CreateJiraIssuePage.tsx\\" VIEW=\\"createIssueScreenV2\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.mui.webview.js","mui:createJiraIssue:light":"cross-env PAGETSX=\\"issue/CreateJiraIssuePage.tsx\\" VIEW=\\"createIssueScreenV2\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.mui.webview.js","webview:viewJiraIssue:dark":"cross-env PAGETSX=\\"issue/JiraIssuePage.tsx\\" VIEW=\\"viewIssueScreen\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.react.webview.js","webview:viewJiraIssue:light":"cross-env PAGETSX=\\"issue/JiraIssuePage.tsx\\" VIEW=\\"viewIssueScreen\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.react.webview.js","webview:viewPullRequestScreen:dark":"cross-env PAGETSX=\\"pullrequest/PullRequestPage.tsx\\" VIEW=\\"pullRequestDetailsScreen\\" THEME=\\"dark\\" webpack-dev-server --open --config webpack.react.webview.js","webview:viewPullRequestScreen:light":"cross-env PAGETSX=\\"pullrequest/PullRequestPage.tsx\\" VIEW=\\"pullRequestDetailsScreen\\" THEME=\\"light\\" webpack-dev-server --open --config webpack.react.webview.js"},"contributes":{"commands":[{"command":"atlascode.jira.createIssue","title":"Create Jira Issue","icon":{"dark":"resources/dark/add.svg","light":"resources/light/add.svg"},"category":"Atlassian"},{"command":"atlascode.jira.searchIssues","title":"Search Jira Issue Results","category":"Atlassian"},{"command":"atlascode.bb.deleteComment","title":"Delete","icon":{"dark":"resources/dark/delete.svg","light":"resources/light/delete.svg"},"category":"Atlassian"},{"command":"atlascode.bb.editComment","title":"Edit","icon":{"dark":"resources/dark/edit.svg","light":"resources/light/edit.svg"},"category":"Atlassian"},{"command":"atlascode.bb.cancelCommentAction","title":"Cancel"},{"command":"atlascode.bb.saveCommentAction","title":"Save Changes"},{"command":"atlascode.bb.deleteTask","title":"Delete","icon":{"dark":"resources/dark/delete.svg","light":"resources/light/delete.svg"},"category":"Atlassian"},{"command":"atlascode.bb.addReply","title":"Reply to this Comment","icon":{"dark":"resources/dark/add-comment.svg","light":"resources/light/add-comment.svg"},"category":"Atlassian"},{"command":"atlascode.bb.addTask","title":"Add Task","icon":{"dark":"resources/dark/addTask.svg","light":"resources/light/addTask.svg"},"category":"Atlassian"},{"command":"atlascode.bb.editTask","title":"Edit","icon":{"dark":"resources/dark/edit.svg","light":"resources/light/edit.svg"},"category":"Atlassian"},{"command":"atlascode.bb.markTaskIncomplete","title":"Mark Task As Incomplete","icon":{"dark":"resources/dark/checked.svg","light":"resources/light/checked.svg"},"category":"Atlassian"},{"command":"atlascode.bb.markTaskComplete","title":"Mark Task As Complete","icon":{"dark":"resources/dark/unchecked.svg","light":"resources/light/unchecked.svg"},"category":"Atlassian"},{"command":"atlascode.jira.refreshExplorer","title":"Refresh Jira Issues","icon":{"dark":"resources/dark/refresh.svg","light":"resources/light/refresh.svg"},"category":"Atlassian"},{"command":"atlascode.jira.showJiraIssueSettings","title":"Jira Issue Settings","icon":{"dark":"resources/dark/settings.svg","light":"resources/light/settings.svg"},"category":"Atlassian"},{"command":"atlascode.jira.showIssueForKey","title":"Open Jira Issue","category":"Atlassian"},{"command":"atlascode.jira.assignIssueToMe","title":"Assign Jira Issue to Me","category":"Atlassian"},{"command":"atlascode.jira.startWorkOnIssue","title":"Start work on Jira issue","category":"Atlassian"},{"command":"atlascode.bb.refreshPullRequests","title":"Refresh pull requests","icon":{"dark":"resources/dark/refresh.svg","light":"resources/light/refresh.svg"},"category":"Atlassian"},{"command":"atlascode.bb.toggleFileNesting","title":"Toggle File Nesting","icon":{"dark":"resources/dark/fileTree.svg","light":"resources/light/fileTree.svg"},"category":"Atlassian"},{"command":"atlascode.bb.showPullRequestSettings","title":"Pull Request Settings","icon":{"dark":"resources/dark/settings.svg","light":"resources/light/settings.svg"},"category":"Atlassian"},{"command":"atlascode.viewInWebBrowser","title":"View in Browser","category":"Atlassian"},{"command":"atlascode.showConfigPage","title":"Open Settings","category":"Atlassian"},{"command":"atlascode.extensionContext.showConfigPage","title":"Extension Settings (UI)","category":"Atlassian"},{"command":"atlascode.showJiraAuth","title":"Open Jira Auth Settings","category":"Atlassian"},{"command":"atlascode.showBitbucketAuth","title":"Open Bitbucket Auth Settings","category":"Atlassian"},{"command":"atlascode.showWelcomePage","title":"Open Welcome Page","category":"Atlassian"},{"command":"atlascode.showOnboardingPage","title":"Open Onboarding Page","category":"Atlassian"},{"command":"atlascode.bb.openInBitbucket","title":"Open in Bitbucket","category":"Atlassian"},{"command":"atlascode.bb.openChangeset","title":"Open Changeset","category":"Atlassian"},{"command":"atlascode.bb.createPullRequest","title":"Create Pull Request","icon":{"dark":"resources/dark/add.svg","light":"resources/light/add.svg"},"category":"Atlassian"},{"command":"atlascode.bb.viewPullRequest","title":"View Pull Request","category":"Atlassian"},{"command":"atlascode.bb.copyPullRequest","title":"Copy Pull Request Url to Clipboard","category":"Atlassian"},{"command":"atlascode.bb.editThisFile","title":"Edit this File","category":"Atlassian","icon":{"dark":"resources/dark/edit.svg","light":"resources/light/edit.svg"}},{"command":"atlascode.bb.rerunPipeline","title":"Rerun Build","category":"Atlassian"},{"command":"atlascode.bb.runPipelineForBranch","title":"Run Pipeline for Branch","icon":{"dark":"resources/dark/add.svg","light":"resources/light/add.svg"},"category":"Atlassian"},{"command":"atlascode.bb.refreshPipelines","title":"Refresh Pipelines","icon":{"dark":"resources/dark/refresh.svg","light":"resources/light/refresh.svg"},"category":"Atlassian"},{"command":"atlascode.bb.showPipelineSettings","title":"Pipeline Settings","icon":{"dark":"resources/dark/settings.svg","light":"resources/light/settings.svg"},"category":"Atlassian"},{"command":"atlascode.bb.createIssue","title":"Create Bitbucket Issue","icon":{"dark":"resources/dark/add.svg","light":"resources/light/add.svg"},"category":"Atlassian"},{"command":"atlascode.bb.refreshIssues","title":"Refresh Bitbucket Issues","icon":{"dark":"resources/dark/refresh.svg","light":"resources/light/refresh.svg"},"category":"Atlassian"},{"command":"atlascode.bb.showBitbucketIssueSettings","title":"Bitbucket Issue Settings","icon":{"dark":"resources/dark/settings.svg","light":"resources/light/settings.svg"},"category":"Atlassian"},{"command":"atlascode.bb.addComment","title":"Add comment","category":"Atlassian"},{"command":"atlascode.bb.toggleCommentsVisibility","title":"Show/hide comments","icon":{"dark":"resources/dark/comment.svg","light":"resources/light/comment.svg"},"category":"Atlassian"},{"command":"atlascode.debug.bitbucketSites","title":"Show Bitbucket sites info","category":"Atlassian"},{"command":"atlascode.showExploreSettings","title":"Explore","category":"Atlassian"},{"command":"atlascode.disableHelpExplorer","title":"Disable Help Explorer","category":"Atlassian"}],"viewsContainers":{"activitybar":[{"id":"atlascode-drawer","title":"Atlassian","icon":"resources/atlassian-icon.svg"}]},"views":{"atlascode-drawer":[{"id":"atlascode.views.jira.customJql","name":"Jira Issues","when":"atlascode:jiraExplorerEnabled && config.atlascode.jira.enabled"},{"id":"atlascode.views.bb.pullrequestsTreeView","name":"Bitbucket pull requests","when":"atlascode:bitbucketExplorerEnabled && config.atlascode.bitbucket.enabled"},{"id":"atlascode.views.bb.pipelinesTreeView","name":"Bitbucket pipelines","when":"atlascode:pipelineExplorerEnabled && config.atlascode.bitbucket.enabled"},{"id":"atlascode.views.bb.issuesTreeView","name":"Bitbucket issues","when":"atlascode:bitbucketIssuesExplorerEnabled && config.atlascode.bitbucket.enabled"},{"id":"atlascode.views.helpTreeView","name":"Help and Feedback","when":"config.atlascode.helpExplorerEnabled"}]},"menus":{"extension/context":[{"command":"atlascode.extensionContext.showConfigPage","group":"2_configure","when":"extensionStatus==installed && extension==atlassian.atlascode"}],"editor/title":[{"command":"atlascode.bb.toggleCommentsVisibility","when":"resourceScheme == atlascode.bbpr","group":"navigation"},{"command":"atlascode.bb.editThisFile","when":"resourceScheme == atlascode.bbpr && config.atlascode.bitbucket.enabled","group":"navigation"}],"editor/context":[{"command":"atlascode.jira.createIssue","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.jira.enabled"},{"command":"atlascode.bb.createPullRequest","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.openInBitbucket","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.openChangeset","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.viewPullRequest","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.copyPullRequest","group":"atlascode","when":"config.atlascode.bitbucket.contextMenus.enabled && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.toggleCommentsVisibility","group":"atlascode","when":"resourceScheme == atlascode.bbpr && config.atlascode.bitbucket.enabled"},{"command":"atlascode.bb.editThisFile","group":"atlascode","when":"resourceScheme == atlascode.bbpr && config.atlascode.bitbucket.enabled"}],"view/title":[{"command":"atlascode.jira.createIssue","when":"view =~ /(atlascode.views.jira.customJql)/ && atlascode:isJiraAuthenticated","group":"navigation@1"},{"command":"atlascode.jira.refreshExplorer","when":"view =~ /(atlascode.views.jira.customJql)/ && atlascode:isJiraAuthenticated","group":"navigation@2"},{"command":"atlascode.jira.showJiraIssueSettings","when":"view =~ /(atlascode.views.jira.customJql)/","group":"navigation@3"},{"command":"atlascode.bb.createPullRequest","when":"atlascode:isBBAuthenticated && atlascode:bitbucketExplorerEnabled && view == atlascode.views.bb.pullrequestsTreeView","group":"navigation@1"},{"command":"atlascode.bb.refreshPullRequests","when":"atlascode:isBBAuthenticated && atlascode:bitbucketExplorerEnabled && view == atlascode.views.bb.pullrequestsTreeView","group":"navigation@2"},{"command":"atlascode.bb.toggleFileNesting","when":"atlascode:isBBAuthenticated && atlascode:bitbucketExplorerEnabled && view == atlascode.views.bb.pullrequestsTreeView","group":"navigation@3"},{"command":"atlascode.bb.showPullRequestSettings","when":"view == atlascode.views.bb.pullrequestsTreeView","group":"navigation@4"},{"command":"atlascode.bb.runPipelineForBranch","when":"view =~ /(atlascode.views.bb.pipelinesTreeView)/ && atlascode:isBBAuthenticated","group":"navigation@1"},{"command":"atlascode.bb.refreshPipelines","when":"view =~ /(atlascode.views.bb.pipelinesTreeView)/ && atlascode:isBBAuthenticated","group":"navigation@2"},{"command":"atlascode.bb.showPipelineSettings","when":"view =~ /(atlascode.views.bb.pipelinesTreeView)/","group":"navigation@3"},{"command":"atlascode.bb.createIssue","when":"atlascode:isBBAuthenticated && view == atlascode.views.bb.issuesTreeView","group":"navigation@1"},{"command":"atlascode.bb.refreshIssues","when":"view == atlascode.views.bb.issuesTreeView && atlascode:isBBAuthenticated","group":"navigation@2"},{"command":"atlascode.bb.showBitbucketIssueSettings","when":"view == atlascode.views.bb.issuesTreeView","group":"navigation@3"},{"command":"atlascode.disableHelpExplorer","when":"view == atlascode.views.helpTreeView"}],"view/item/context":[{"command":"atlascode.jira.assignIssueToMe","when":"viewItem == jiraIssue && atlascode:isJiraAuthenticated","group":"jiraContextMenuGroup1"},{"command":"atlascode.jira.startWorkOnIssue","when":"viewItem == jiraIssue && atlascode:isJiraAuthenticated","group":"jiraContextMenuGroup1"},{"command":"atlascode.viewInWebBrowser","when":"viewItem == jiraIssue && atlascode:isJiraAuthenticated","group":"jiraContextMenuGroup1"},{"command":"atlascode.jira.createIssue","when":"viewItem == jiraIssue && atlascode:isJiraAuthenticated","group":"jiraContextMenuGroup2"},{"command":"atlascode.viewInWebBrowser","when":"viewItem =~ /(pullrequest|pipelineBuild|bitbucketIssue)/"},{"command":"atlascode.bb.rerunPipeline","when":"viewItem == pipelineBuild && atlascode:isBBAuthenticated"}],"comments/commentThread/context":[{"command":"atlascode.bb.addComment","group":"inline","when":"resourceScheme == atlascode.bbpr"}],"comments/comment/title":[{"command":"atlascode.bb.editComment","group":"inline@1","when":"comment =~ /canEdit/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.deleteComment","group":"inline@2","when":"comment =~ /canDelete/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.addReply","group":"inline@3","when":"comment =~ /canAddReply/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.addTask","group":"inline@4","when":"comment =~ /canAddTask/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.markTaskIncomplete","group":"inline@1","when":"comment =~ /markIncomplete/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.markTaskComplete","group":"inline@1","when":"comment =~ /markComplete/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.editTask","group":"inline@2","when":"comment =~ /canModifyTask/ && resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.deleteTask","group":"inline@3","when":"comment =~ /canRemoveTask/ && resourceScheme == atlascode.bbpr"}],"comments/comment/context":[{"command":"atlascode.bb.cancelCommentAction","group":"inline@2","when":"resourceScheme == atlascode.bbpr"},{"command":"atlascode.bb.saveCommentAction","group":"inline@1","when":"resourceScheme == atlascode.bbpr"}],"commandPalette":[{"command":"atlascode.extensionContext.showConfigPage","when":"false"},{"command":"atlascode.jira.showJiraIssueSettings","when":"false"},{"command":"atlascode.bb.refreshPipelines","when":"false"},{"command":"atlascode.bb.openInBitbucket","when":"false"},{"command":"atlascode.viewInWebBrowser","when":"false"},{"command":"atlascode.bb.refreshPullRequests","when":"false"},{"command":"atlascode.jira.refreshExplorer","when":"false"},{"command":"atlascode.bb.showPipelineSettings","when":"false"},{"command":"atlascode.bb.showPullRequestSettings","when":"false"},{"command":"atlascode.bb.showBitbucketIssueSettings","when":"false"},{"command":"atlascode.bb.openChangeset","when":"false"},{"command":"atlascode.showJiraAuth","when":"false"},{"command":"atlascode.bb.editThisFile","when":"false"},{"command":"atlascode.showBitbucketAuth","when":"false"},{"command":"atlascode.bb.toggleFileNesting","when":"false"},{"command":"atlascode.bb.viewPullRequest","when":"false"},{"command":"atlascode.bb.copyPullRequest","when":"false"},{"command":"atlascode.bb.rerunPipeline","when":"false"},{"command":"atlascode.bb.refreshIssues","when":"false"},{"command":"atlascode.jira.assignIssueToMe","when":"false"},{"command":"atlascode.jira.startWorkOnIssue","when":"false"},{"command":"atlascode.bb.addComment","when":"false"},{"command":"atlascode.bb.deleteComment","when":"false"},{"command":"atlascode.bb.editComment","when":"false"},{"command":"atlascode.bb.deleteTask","when":"false"},{"command":"atlascode.bb.addReply","when":"false"},{"command":"atlascode.bb.addTask","when":"false"},{"command":"atlascode.bb.editTask","when":"false"},{"command":"atlascode.bb.markTaskComplete","when":"false"},{"command":"atlascode.bb.markTaskIncomplete","when":"false"},{"command":"atlascode.bb.toggleCommentsVisibility","when":"false"},{"command":"atlascode.jira.showIssueForKey","when":"atlascode:isJiraAuthenticated && config.atlascode.jira.enabled"},{"command":"atlascode.showExploreSettings","when":"false"}]},"configuration":{"type":"object","title":"Atlassian","properties":{"atlascode.outputLevel":{"type":"string","default":"silent","enum":["silent","errors","info","debug"],"description":"Specifies how much (if any) output will be sent to the Atlassian output channel","scope":"window"},"atlascode.configurationTarget":{"type":"string","default":"user","enum":["user","workspace"],"description":"Location to which configuration changes are saved"},"atlascode.enableCurlLogging":{"type":"boolean","default":false,"description":"Enables logging the cUrl commands used by the extension","scope":"window"},"atlascode.enableHttpsTunnel":{"type":"boolean","default":false,"description":"Enables tunneling https requests to an http proxy","scope":"window"},"atlascode.enableCharles":{"type":"boolean","default":false,"description":"Enables proxying requests through the Charles Web Debugger when debugging","scope":"window"},"atlascode.charlesCertPath":{"type":"string","default":"","description":"The absolute path to the generated charles ssl certificate (pem file)","scope":"window"},"atlascode.charlesDebugOnly":{"type":"boolean","default":false,"description":"Enables charles *only* when debugging the extension (for internal use)","scope":"window"},"atlascode.enableUIWS":{"type":"boolean","default":false,"description":"Enables UI websocket for debugging webviews","scope":"window"},"atlascode.offlineMode":{"type":"boolean","default":false,"description":"Enables offline mode","scope":"window"},"atlascode.showWelcomeOnInstall":{"type":"boolean","default":true,"description":"Enables showing the welcome screen when a new version is installed","scope":"window"},"atlascode.onlineCheckerUrls":{"type":"array","items":{"type":"string"},"default":["https://www.atlassian.com","https://bitbucket.org"],"description":"Online Checker will ping these URLs to determine online status","scope":"window"},"atlascode.jira.enabled":{"type":"boolean","default":true,"description":"Enables Jira Functionality","scope":"window"},"atlascode.jira.startWorkBranchTemplate.customTemplate":{"type":"string","default":"{{{prefix}}}{{{issueKey}}}-{{{summary}}}","description":"The format which will be used to auto-generate branch names","scope":"window"},"atlascode.jira.startWorkBranchTemplate.customPrefixes":{"type":"array","items":{"type":"string"},"default":[],"description":"Custom prefixes for branch names on start work screen","scope":"window"},"atlascode.jira.showCreateIssueProblems":{"type":"boolean","default":false,"description":"Show a link to view non-renderable fields on Jira create issue page","scope":"window"},"atlascode.jira.explorer.enabled":{"type":"boolean","default":true,"description":"Enables the Jira Issue Explorer","scope":"window"},"atlascode.jira.explorer.showOpenIssues":{"type":"boolean","default":true,"description":"Enables the Open Issues in the Jira Issue Explorer","scope":"window"},"atlascode.jira.explorer.openIssueJql":{"type":"string","default":"assignee in (EMPTY) and project=currentProject() and resolution = Unresolved and statusCategory != Done order by lastViewed DESC","description":"JQL to retrieve open issues","scope":"window"},"atlascode.jira.explorer.showAssignedIssues":{"type":"boolean","default":true,"description":"Enables the Assigned Issues in the Jira Issue Explorer","scope":"window"},"atlascode.jira.explorer.assignedIssueJql":{"type":"string","default":"assignee=currentUser() and project=currentProject() and resolution = Unresolved and statusCategory != Done","description":"JQL to retrieve issues assigned to you","scope":"window"},"atlascode.jira.explorer.monitorEnabled":{"type":"boolean","default":true,"description":"Show notifications when new issues are created for default site and project","scope":"window"},"atlascode.jira.explorer.refreshInterval":{"type":"integer","default":5,"description":"Time (in minutes) to wait before refreshing the Jira Issue Explorer (set to 0 to disable auto-refresh)","scope":"window"},"atlascode.jira.explorer.nestSubtasks":{"type":"boolean","default":true,"description":"Nest subtasks within tasks within epics","scope":"window"},"atlascode.jira.explorer.fetchAllQueryResults":{"type":"boolean","default":false,"description":"Fetch all results for JQL queries","scope":"window"},"atlascode.jira.statusbar.enabled":{"type":"boolean","default":true,"description":"Enables the Jira StatusBar Item","scope":"window"},"atlascode.jira.statusbar.showProduct":{"type":"boolean","default":true,"description":"Shows the product name in the status bar","scope":"window"},"atlascode.jira.statusbar.showUser":{"type":"boolean","default":true,"description":"Shows the user\'s name in the status bar","scope":"window"},"atlascode.jira.statusbar.showLogin":{"type":"boolean","default":true,"description":"Shows a login button in the status bar","scope":"window"},"atlascode.jira.statusbar.showActiveIssue":{"type":"boolean","default":true,"description":"Shows active Jira issue key in the status bar","scope":"window"},"atlascode.jira.workingProject":{"type":"object","properties":{"name":{"type":"string","default":""},"id":{"type":"string","default":""},"key":{"type":"string","default":""}},"description":"Jira project for workspace","scope":"resource"},"atlascode.jira.workingSite":{"type":"object","properties":{"name":{"type":"string","default":""},"id":{"type":"string","default":""},"scopes":{"type":"array","items":{"type":"string"},"uniqueItems":true},"avatarUrl":{"type":"string","default":""},"baseUrlSuffix":{"type":"string","default":"atlassian.net"}},"description":"Jira site for workspace","scope":"resource"},"atlascode.jira.lastCreateSiteAndProject":{"type":"object","description":"the last used site id and project key for create issue","scope":"window","properties":{"siteId":{"type":"string","default":""},"projectKey":{"type":"string","default":""}}},"atlascode.jira.customJql":{"type":"array","items":{"type":"object","properties":{"siteId":{"type":"string","default":""},"jql":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","default":""},"enabled":{"type":"boolean","default":true},"name":{"type":"string","default":""},"query":{"type":"string","default":""}}}}}}},"atlascode.jira.jqlList":{"type":"array","default":[],"scope":"window","description":"The list of JQL queries that populate the issue list view","items":{"type":"object","properties":{"id":{"type":"string","default":""},"enabled":{"type":"boolean","default":true},"monitor":{"type":"boolean","default":true},"name":{"type":"string","default":""},"query":{"type":"string","default":""},"siteId":{"type":"string","default":""},"filterId":{"type":["string",null],"default":null}}}},"atlascode.jira.hover.enabled":{"type":"boolean","default":true,"description":"Enables the Jira hover provider","scope":"window"},"atlascode.jira.todoIssues.enabled":{"type":"boolean","default":true,"description":"Enables the create of Jira issues from TODO comments and similar","scope":"window"},"atlascode.jira.todoIssues.triggers":{"type":"array","items":{"type":"string"},"default":["TODO:","BUG:","FIXME:","ISSUE:"],"description":"Strings that will trigger the Jira issue create Code Lens","scope":"window"},"atlascode.bitbucket.enabled":{"type":"boolean","default":true,"description":"Enables Bitbucket Functionality","scope":"window"},"atlascode.bitbucket.preferredRemotes":{"type":"array","items":{"type":"string"},"default":["upstream","origin"],"description":"The first remote that matches the list will be used to fetch pull requests, issues, and pipelines. A random remote is chosen if a match is not found.","scope":"window"},"atlascode.bitbucket.explorer.enabled":{"type":"boolean","default":true,"description":"Enables the Bitbucket Pull Request Explorer","scope":"window"},"atlascode.bitbucket.explorer.nestFilesEnabled":{"type":"boolean","default":true,"description":"Enables nesting of the PR files by folder","scope":"window"},"atlascode.bitbucket.pipelines.explorerEnabled":{"type":"boolean","default":true,"description":"Enables the Bitbucket Pipelines Explorer","scope":"window"},"atlascode.bitbucket.pipelines.monitorEnabled":{"type":"boolean","default":true,"description":"Show notifications for new Bitbucket Pipelines build statuses","scope":"window"},"atlascode.bitbucket.pipelines.refreshInterval":{"type":"integer","default":5,"description":"Time (in minutes) to wait before refreshing the Pipelines status","scope":"window"},"atlascode.bitbucket.pipelines.hideEmpty":{"type":"boolean","default":true,"description":"Hide Bitbucket Pipelines that have no results","scope":"window"},"atlascode.bitbucket.pipelines.hideFiltered":{"type":"boolean","default":false,"description":"Hide Bitbucket Pipelines that don\'t match a filter string","scope":"window"},"atlascode.bitbucket.pipelines.branchFilters":{"type":"array","items":{"type":"string"},"default":["master"],"description":"Bitbucket Pipeline results for branch names that don\'t contain one of these strings will be hidden.","scope":"window"},"atlascode.bitbucket.issues.explorerEnabled":{"type":"boolean","default":true,"description":"Enables the Bitbucket Issues Explorer","scope":"window"},"atlascode.bitbucket.issues.createJiraEnabled":{"type":"boolean","default":false,"description":"Shows a create jira issue button on the Bitbucket issue screen","scope":"window"},"atlascode.bitbucket.issues.monitorEnabled":{"type":"boolean","default":true,"description":"Show notifications when new Bitbucket Issues are created","scope":"window"},"atlascode.bitbucket.issues.refreshInterval":{"type":"integer","default":15,"description":"Time (in minutes) to wait before refreshing the Bitbucket Issues","scope":"window"},"atlascode.bitbucket.explorer.refreshInterval":{"type":"integer","default":5,"description":"Time (in minutes) to wait before refreshing the pull requests explorer (set to 0 to disable auto-refresh)","scope":"window"},"atlascode.bitbucket.explorer.relatedJiraIssues.enabled":{"type":"boolean","default":true,"description":"Show related Jira issues for Bitbucket pull requests","scope":"window"},"atlascode.bitbucket.explorer.relatedBitbucketIssues.enabled":{"type":"boolean","default":true,"description":"Show related Bitbucket issues for Bitbucket pull requests","scope":"window"},"atlascode.bitbucket.explorer.notifications.pullRequestCreated":{"type":"boolean","default":true,"description":"Show notifications when new pull requests are created","scope":"window"},"atlascode.bitbucket.explorer.showReviewedPullRequests":{"type":"boolean","default":true,"description":"Show pull requests that you have already left a review on when showing pull requests to be reviewed","scope":"window"},"atlascode.bitbucket.explorer.defaultPullRequestFilter":{"type":"string","enum":["open","createdByMe","toReview","merged","declined"],"enumDescriptions":["Show all open pull requests.","Show pull requests created by me.","Show pull requests to be reviewed.","Show merged pull requests.","Show declined pull requests."],"default":"open","description":"The default filter to use in the pull request explorer","scope":"window"},"atlascode.bitbucket.contextMenus.enabled":{"type":"boolean","default":true,"description":"Enables Bitbucket context menu items in editor","scope":"window"},"atlascode.bitbucket.statusbar.enabled":{"type":"boolean","default":true,"description":"Enables the Bitbucket StatusBar Item","scope":"window"},"atlascode.bitbucket.statusbar.showProduct":{"type":"boolean","default":true,"description":"Shows the product name in the status bar","scope":"window"},"atlascode.bitbucket.statusbar.showUser":{"type":"boolean","default":true,"description":"Shows the user\'s name in the status bar","scope":"window"},"atlascode.bitbucket.statusbar.showLogin":{"type":"boolean","default":true,"description":"Shows a login button in the status bar","scope":"window"},"atlascode.helpExplorerEnabled":{"type":"boolean","default":true,"description":"Shows the help explorer treeview","scope":"window"}}}},"dependencies":{"@atlaskit/analytics-next":"^8.3.0","@atlaskit/avatar":"^20.5.1","@atlaskit/avatar-group":"^8.5.4","@atlaskit/breadcrumbs":"^11.5.0","@atlaskit/button":"^16.1.3","@atlaskit/checkbox":"^12.3.4","@atlaskit/comment":"^10.3.0","@atlaskit/datetime-picker":"^11.1.1","@atlaskit/feature-gate-js-client":"^4.20.0","@atlaskit/form":"^8.4.4","@atlaskit/icon":"^21.9.3","@atlaskit/inline-dialog":"^13.1.8","@atlaskit/logo":"^13.5.3","@atlaskit/lozenge":"^11.1.3","@atlaskit/modal-dialog":"^12.1.0","@atlaskit/page":"^12.0.7","@atlaskit/page-header":"^10.2.2","@atlaskit/panel":"^0.4.7","@atlaskit/radio":"^5.3.3","@atlaskit/section-message":"^6.1.4","@atlaskit/select":"^15.2.4","@atlaskit/spinner":"^15.1.3","@atlaskit/table-tree":"^9.0.12","@atlaskit/theme":"^12.6.2","@atlaskit/tooltip":"^17.5.1","@atlaskit/width-detector":"^3.0.6","@atlassianlabs/guipi-core-components":"^0.1.2","@atlassianlabs/guipi-core-controller":"^0.1.2","@atlassianlabs/guipi-jira-components":"^0.1.2","@atlassianlabs/jira-metaui-client":"^1.0.11","@atlassianlabs/jira-metaui-transformer":"^1.0.11","@atlassianlabs/jira-pi-client":"^1.0.11","@atlassianlabs/jira-pi-common-models":"^1.0.11","@atlassianlabs/jira-pi-meta-models":"^1.0.11","@atlassianlabs/pi-client-common":"^1.0.11","@date-io/date-fns":"^3.0.0","@devcontainers/cli":"^0.71.0","@material-ui/core":"^4.9.14","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.52","@material-ui/pickers":"^3.3.10","@material-ui/styles":"^4.10.0","@segment/analytics-node":"^2.1.3","@types/mustache":"^4.0.1","awesome-debounce-promise":"^2.1.0","axios":"^1.7.4","axios-curlirize":"^1.3.4","clsx":"^1.1.0","date-fns":"^3.2.0","dotenv":"^16.4.5","eslint-plugin-prettier":"^5.2.1","eventemitter3":"^4.0.0","express":"^4.21.0","fast-deep-equal":"^3.1.1","filesize":"^4.1.2","flatten-anything":"^2.0.1","form-data":"^2.5.1","git-url-parse":"^15.0.0","ini":"^1.3.8","jwt-decode":"^3.1.2","keytar":"^7.9.0","lodash":"^4.17.21","lodash.debounce":"^4.0.8","lodash.orderby":"^4.6.0","lodash.truncate":"^4.4.2","macaddress":"^0.2.9","merge-anything":"^3.0.3","mustache":"^4.0.1","node-ipc":"^9.2.1","p-any":"^2.1.0","p-cancelable":"^2.0.0","p-queue":"^6.3.0","p-retry":"^4.2.0","p-settle":"^3.1.0","p-timeout":"^3.2.0","path-browserify":"^1.0.1","prosemirror-commands":"^1.1.4","prosemirror-dropcursor":"^1.3.2","prosemirror-example-setup":"^1.1.2","prosemirror-gapcursor":"^1.1.5","prosemirror-history":"^1.1.3","prosemirror-inputrules":"^1.1.2","prosemirror-keymap":"^1.1.4","prosemirror-markdown":"^1.10.1","prosemirror-mentions":"^1.0.0","prosemirror-menu":"^1.1.4","prosemirror-model":"^1.11.0","prosemirror-schema-basic":"^1.1.2","prosemirror-state":"^1.3.3","prosemirror-view":"^1.15.2","react":"^16.13.1","react-async-hook":"^3.6.1","react-collapsible":"2.6.3","react-dom":"^16.13.1","react-dropzone":"^10.2.1","react-editext":"3.6.1","react-hook-form":"^4.9.8","react-uid":"^2.2.0","scheduler":"^0.19.0","semver":"^7.6.3","simple-get":"^3.1.1","slash":"^3.0.0","ssl-root-cas":"^1.3.1","styled-components":"^3.2.6","stylis":"^3.5.4","tough-cookie":"^4.1.3","tunnel":"^0.0.6","turndown":"^7.2.0","ua-parser-js":"^0.7.31","use-constant":"^1.0.0","uuid":"^3.4.0","websocket":"^1.0.35"},"devDependencies":{"@babel/core":"^7.25.0","@stylistic/eslint-plugin-js":"^2.8.0","@types/analytics-node":"^3.1.7","@types/deep-equal":"^1.0.1","@types/escape-string-regexp":"^1.0.0","@types/filesize":"^4.1.0","@types/git-url-parse":"^9.0.1","@types/glob":"^7.1.1","@types/html-webpack-plugin":"^3.2.2","@types/jest":"^25.1.3","@types/jquery":"^3.3.23","@types/lodash.debounce":"^4.0.6","@types/lodash.orderby":"^4.6.6","@types/lodash.truncate":"^4.4.6","@types/node":"^18.16.19","@types/node-ipc":"^9.2.0","@types/prosemirror-schema-basic":"^1.0.1","@types/prosemirror-state":"^1.2.5","@types/prosemirror-view":"^1.15.0","@types/react":"^16.9.34","@types/react-beautiful-dnd":"^12.1.1","@types/react-dev-utils":"^9.0.4","@types/react-dom":"^16.9.6","@types/react-tabs":"^2.3.1","@types/scheduler":"^0.16.1","@types/semver":"^7.1.0","@types/terser-webpack-plugin":"^2.2.0","@types/turndown":"^5.0.1","@types/uuid":"^3.4.7","@types/vscode":"^1.93.0","@types/webpack":"^5.28.5","@types/webpack-manifest-plugin":"^2.1.0","@types/websocket":"^1.0.0","@typescript-eslint/eslint-plugin":"^8.7.0","@typescript-eslint/parser":"^8.7.0","@vscode/test-electron":"^2.4.1","@vscode/vsce":"^3.1.0","ajv":"^8.17.1","ajv-formats":"^3.0.1","autoprefixer":"^10.4.20","babel-loader":"^9.2.1","cross-env":"^7.0.2","css-loader":"^7.1.2","css-minimizer-webpack-plugin":"^7.0.0","eslint":"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-import-resolver-typescript":"^3.6.3","eslint-plugin-import":"^2.30.0","eslint-plugin-react":"^7.36.0","eslint-plugin-react-hooks":"^4.6.2","fork-ts-checker-notifier-webpack-plugin":"^9.0.0","fork-ts-checker-webpack-plugin":"^9.0.2","html-webpack-plugin":"^5.6.0","jest":"^29.7.0","license-checker":"^25.0.1","mini-css-extract-plugin":"^2.9.1","npm-run-all":"^4.1.5","ovsx":"^0.10.1","patch-package":"^6.2.2","postcss-flexbugs-fixes":"^5.0.2","postcss-loader":"^8.1.1","postcss-preset-env":"^10.0.5","postinstall-postinstall":"^2.0.0","prettier":"^3.3.3","pretty-quick":"^2.0.1","react-dev-utils":"^12.0.1","source-map-loader":"^0.2.4","speed-measure-webpack-plugin":"^1.5","terser-webpack-plugin":"^5.3.0","ts-jest":"^29.2.5","ts-loader":"^8.4.0","ts-node":"^8.8.2","tsconfig-paths":"^3.9.0","tsconfig-paths-webpack-plugin":"^3.2.0","typescript":"^5.4.0 <5.5.0","vsce":"^2.15.0","vue":"^3.2.23","webpack":"^5","webpack-cli":"^5.1.4","webpack-dev-server":"^5.1.0","webpack-manifest-plugin":"^5.0.0","webpack-node-externals":"^3.0.0"},"packageManager":"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e"}')}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".uninstall.js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e={606:1},r.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,i=t.ids,o=t.runtime;for(var s in n)r.o(n,s)&&(r.m[s]=n[s]);o&&o(r);for(var a=0;a<i.length;a++)e[i[a]]=1})(require("./"+r.u(t)))};var i={};(()=>{"use strict";var e=r(543);const{Analytics:t}=r(91),n=["id","type"],i=["id"];function o(e,t){return n.some((t=>t===e))&&"string"==typeof t}const s="AJS_ANONYMOUS_USER",a="ATLASSIAN_ACCOUNT",u="EMAIL_UUID",c="SITE",l="SITE_USER",f="TRELLO_USER",d=[s,a,u,"ORG",c,l,f],p=function(e){return d.includes(e)},h=function(t){return e.isFinite(t)||e.isString(t)&&!e.isEmpty(t)||e.isDate(t)||e.isBoolean(t)},g="cloudId",m="halpTeamId",v="none",y=v,b=function(e){return e===g||e===m||e===v},w="atlassianAccount",_="trello",k="hashedEmail",I="opsgenie",E="halp",x="customerAccount",T=function(e){return[w,_,k,I,E,x].includes(e)};function S(e){return!0===function(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}(e)&&"[object Object]"===Object.prototype.toString.call(e)}function j(e){if(!1===S(e))return!1;const t=e.constructor;if("function"!=typeof t)return!1;const n=t.prototype;return!1!==S(n)&&!1!==n.hasOwnProperty("isPrototypeOf")}function A({tenantId:e,tenantIdType:t}){if(e&&C(t,"tenantIdType"),t){if(!b(t))throw new Error(`Unknown tenantIdType ${t}`);t!==y&&C(e,"tenantId")}}function P({userIdType:e,userId:t,anonymousId:n}){if(function({userIdType:e,userId:t}){if(t&&C(e,"userIdType"),e){if(!T(e))throw new Error(`Unknown userIdType ${e}`);C(t,"userId")}}({userIdType:e,userId:t}),!t&&!n)throw new Error("At least one set of identifiers must be passed - userIdType and userId, or anonymousId")}function C(e,t){if(!e)throw new Error(`Value ${t} cannot be undefined`);return e}function O(t){if(t&&t.containers){const r=t.containers;if(!j(r))throw new Error(`"${CONTAINERS_PATH_PREFIX}" is not an object.`);{const s={};Object.keys(r).forEach((t=>{s[t]=function(t,r){const s=r[t];if(s){if(j(s)){const t={};return e.merge(t,function(e){const t={};return i.forEach((n=>{const r=e[n];if(!o(n,r))throw new Error(`Mandatory ContainerObject field "${n}" is not valid: "${r}" ; expected a value of type "string"`);t[n]=r})),t}(s)),e.merge(t,function(e){const t={};return Object.keys(e).forEach((r=>{const i=e[r];if(function(e){return n.some((t=>t===e))}(r)){if(!o(r,i))throw new Error(`ContainerObject field "${r}" is not valid: "${i}" ; expected a value of type "string"`);t[r]=i}})),t}(s)),t}throw new Error(`ContainerObject "${CONTAINERS_PATH_PREFIX}.${t}" is not an object.`)}throw new Error(`Container Key "${CONTAINERS_PATH_PREFIX}.${t}" has no ContainerObject.`)}(t,r)})),t.containers=s}}}function R(e,t){return function(e){return e&&"fedramp-moderate"===e}(t)&&"stg"===e?"https://as.atlassian-fex.com/api":"prod"===e?"https://as.atlassian.com/api":"https://as.staging.atl-paas.net/api"}function q(e,t){return void 0===e?t:e}class B{static _buildProperties({userIdType:t,tenantIdType:n,tenantId:r,event:i,subproduct:o,product:s,env:a,datacenter:u,version:c,origin:l,orgId:f,workspaceId:d},p){return e.merge({},i,{product:s,env:a,datacenter:u,version:c,eventType:p,subproduct:o,userIdType:t,tenantIdType:n,tenantId:r,origin:l,orgId:f,workspaceId:d})}constructor({env:e,product:n,subproduct:r,sendEventHook:i,datacenter:o,version:s,origin:a,maxEventsInBatch:u,flushInterval:c,baseUrl:l,logger:f,errorHandler:d,perimeter:p,httpClient:h,httpRequestTimeout:g,maxRetries:m}){C(e,"env"),C(n,"product"),this.console=q(f,console),this.config={env:e,product:n,subproduct:r,sendEventHook:i,datacenter:o,origin:q(a,"server"),version:s},this.analyticsClient=new t({writeKey:"BLANK",maxEventsInBatch:u||250,flushInterval:c||1e4,maxRetries:m||3,host:l||R(e,p),path:"/api/v1/batch",httpRequestTimeout:g,httpClient:h}),d&&"function"==typeof d&&this.analyticsClient.on("error",d)}_getTimeoutMilliseconds(e){const t=q(e,6e4);return t<5e3?(this.console.warn("timeoutMilliseconds was set less than the allowed minimum of 5000.\n                    Using the minimum allowed value instead."),5e3):t}_eventCallback(e){this.config.sendEventHook&&this.config.sendEventHook(e)}_buildCompleteTrackEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,trackEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return{userId:t,anonymousId:n,event:o.actionSubject+" "+o.action,properties:B._buildProperties({userIdType:e,tenantIdType:r,tenantId:i,event:o,subproduct:q(s,this.config.subproduct),product:q(a,this.config.product),env:this.config.env,datacenter:this.config.datacenter,version:this.config.version,origin:q(o.origin,this.config.origin),orgId:l,workspaceId:f},"track"),timestamp:c,context:{os:u}}}_buildCompleteTraitEvent({entityType:e,entityId:t,entityTraits:n,os:r,timestamp:i}){return{anonymousId:"dummy-id",traits:{entityId:t,entityTraits:n,entityType:e},timestamp:i,context:{os:r}}}_buildCompleteOperationalEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,operationalEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return{userId:t,anonymousId:n,event:o.actionSubject+" "+o.action,properties:B._buildProperties({userIdType:e,tenantIdType:r,tenantId:i,event:o,subproduct:q(s,this.config.subproduct),product:q(a,this.config.product),env:this.config.env,datacenter:this.config.datacenter,version:this.config.version,origin:q(o.origin,this.config.origin),orgId:l,workspaceId:f},"operational"),timestamp:c,context:{os:u}}}_buildCompleteUIEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,uiEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return{userId:t,anonymousId:n,event:o.actionSubject+" "+o.action,properties:B._buildProperties({userIdType:e,tenantIdType:r,tenantId:i,event:o,subproduct:q(s,this.config.subproduct),product:q(a,this.config.product),env:this.config.env,datacenter:this.config.datacenter,version:this.config.version,origin:q(o.origin,this.config.origin),orgId:l,workspaceId:f},"ui"),timestamp:c,context:{os:u}}}_buildScreenEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,name:o,screenEvent:s,subproduct:a,product:u,os:c,timestamp:l,orgId:f,workspaceId:d}){return{userId:t,anonymousId:n,name:o,properties:B._buildProperties({userIdType:e,tenantIdType:r,tenantId:i,event:s,subproduct:q(a,this.config.subproduct),product:q(u,this.config.product),env:this.config.env,datacenter:this.config.datacenter,version:this.config.version,origin:q(s.origin,this.config.origin),orgId:f,workspaceId:d},"screen"),timestamp:l,context:{os:c}}}sendOperationalEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,operationalEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return function({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,operationalEvent:o}){try{return P({userIdType:e,userId:t,anonymousId:n}),A({tenantId:i,tenantIdType:r}),C(o,"operationalEvent"),C(o.source,"operationalEvent.source"),C(o.action,"operationalEvent.action"),C(o.actionSubject,"operationalEvent.actionSubject"),O(o),Promise.resolve()}catch(e){return Promise.reject(e)}}({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,timestamp:c,operationalEvent:o}).then((()=>new Promise(((d,p)=>{const h=this._buildCompleteOperationalEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,operationalEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f});this.analyticsClient.track(h,((e,t)=>{e?p(e):(this._eventCallback(h),d(t))}))}))))}sendTrackEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,trackEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return function({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,trackEvent:o}){try{return P({userIdType:e,userId:t,anonymousId:n}),A({tenantId:i,tenantIdType:r}),C(o,"trackEvent"),C(o.source,"trackEvent.source"),C(o.action,"trackEvent.action"),C(o.actionSubject,"trackEvent.actionSubject"),O(o),Promise.resolve()}catch(e){return Promise.reject(e)}}({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,timestamp:c,trackEvent:o}).then((()=>new Promise(((d,p)=>{const h=this._buildCompleteTrackEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,trackEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f});this.analyticsClient.track(h,((e,t)=>{e?p(e):(this._eventCallback(h),d(t))}))}))))}sendTraitEvent({entityType:t,entityId:n,entityTraits:r,os:i,timestamp:o}){return function({entityType:t,entityId:n,entityTraits:r}){try{return C(t,"entityType"),C(n,"entityId"),C(r,"entityTraits"),function({entityType:t,entityTraits:n}){if(!p(t))throw new Error(`Unknown entityType ${t}`);if(!e.isObject(n))throw new Error("traits.entityTraits should be Object");e.forEach(n,((e,t)=>{if(!h(e))throw new Error(`entityTraits.${t}: ${e} should be one of [String|Number|Boolean|Date]`)}))}({entityType:t,entityTraits:r}),Promise.resolve()}catch(t){return Promise.reject(t)}}({entityType:t,entityId:n,entityTraits:r,timestamp:o}).then((()=>new Promise(((e,s)=>{const a=this._buildCompleteTraitEvent({entityType:t,entityId:n,entityTraits:r,os:i,timestamp:o});this.analyticsClient.identify(a,((t,n)=>{t?s(t):(this._eventCallback(a),e(n))}))}))))}sendUIEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,uiEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f}){return function({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,uiEvent:o}){try{return P({userIdType:e,userId:t,anonymousId:n}),A({tenantId:i,tenantIdType:r}),C(o,"uiEvent"),C(o.action,"uiEvent.action"),C(o.actionSubject,"uiEvent.actionSubject"),O(o),Promise.resolve()}catch(e){return Promise.reject(e)}}({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,timestamp:c,uiEvent:o}).then((()=>new Promise(((d,p)=>{const h=this._buildCompleteUIEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,uiEvent:o,subproduct:s,product:a,os:u,timestamp:c,orgId:l,workspaceId:f});this.analyticsClient.track(h,((e,t)=>{e?p(e):(this._eventCallback(h),d(t))}))}))))}sendScreenEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,name:o,screenEvent:s,subproduct:a,product:u,os:c,timestamp:l,orgId:f,workspaceId:d}){return function({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,name:o,screenEvent:s}){try{return P({userIdType:e,userId:t,anonymousId:n}),A({tenantId:i,tenantIdType:r}),C(o,"name"),C(s,"screenEvent"),C(s.platform,"screenEvent.platform"),O(s),Promise.resolve()}catch(e){return Promise.reject(e)}}({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,name:o,timestamp:l,screenEvent:s}).then((()=>new Promise(((p,h)=>{const g=this._buildScreenEvent({userIdType:e,userId:t,anonymousId:n,tenantIdType:r,tenantId:i,name:o,screenEvent:s,subproduct:a,product:u,os:c,timestamp:l,orgId:f,workspaceId:d});this.analyticsClient.page(g,((e,t)=>{e?h(e):(this._eventCallback(g),p(t))}))}))))}gracefulShutdown(){return new Promise(((e,t)=>{this.analyticsClient.closeAndFlush().then((t=>{e(t)})).catch((e=>{t(e)}))}))}}var M=r(414);class D{static for(e){return this.nodeJsPlatformMapping[e]||"unknown"}}D.nodeJsPlatformMapping={aix:"desktop",android:"android",darwin:"mac",freebsd:"desktop",linux:"linux",openbsd:"desktop",sunos:"desktop",win32:"windows",cygwin:"windows"},r(168).one(((e,t)=>{!e&&t||(t=(0,M.v4)());const{version:n}=r(330),i=r(982).createHash("sha256").update(t,"utf8").digest("hex"),o={tenantIdType:null,anonymousId:i,trackEvent:{origin:"desktop",platform:D.for(process.platform),action:"uninstalled",actionSubject:"atlascode",source:"vscode"}},s=function(e){return new B(e)}({origin:"desktop",env:"prod",product:"externalProductIntegrations",subproduct:"atlascode",version:n,deviceId:i});s.sendTrackEvent(o)}))})();var o=exports;for(var s in i)o[s]=i[s];i.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();